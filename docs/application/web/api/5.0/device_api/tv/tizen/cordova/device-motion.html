<!DOCTYPE html PUBLIC "html">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../scripts/tizen.css" media="screen">
<script type="text/javascript" src="../../../../scripts/snippet.js"></script><title>DeviceMotion API</title>
</head>
<body id="page-content" onload="prettyPrint()">
<div class="api" id="::DeviceMotion">
<div class="supported-platforms"><img class="tv-mandatory emulator" title="Mandatory, Supported by Tizen Tv emulator" src="../tv_s_w.png"></div>
<div class="title"><h1>DeviceMotion API</h1></div>
<div class="brief">
 This plugin provides access to the device's accelerometer. The accelerometer is a motion sensor that detects the change (delta) in movement relative to the current device orientation, in three dimensions along the x, y, and z axis.
        </div>
<div class="description">
        <p>
Original documentation: <a href="https://cordova.apache.org/docs/en/3.0.0/cordova/accelerometer/accelerometer.html">Cordova Accelerometer</a>.
        </p>
        <p>
<b>Remark:</b> Usage of cordova API needs <em>http://tizen.org/privilege/filesystem.read</em> privilege.
        </p>
       </div>
<p><span class="version">Since: </span>
 3.0
        </p>
<h2>Table of Contents</h2>
<ul class="toc">
<li>1. <a href="#interfaces-section">Interfaces</a><ul class="toc">
<li>1.1. <a href="#AccelerometerManagerObject">AccelerometerManagerObject</a>
</li>
<li>1.2. <a href="#Accelerometer">Accelerometer</a>
</li>
<li>1.3. <a href="#Acceleration">Acceleration</a>
</li>
<li>1.4. <a href="#AccelerationOptions">AccelerationOptions</a>
</li>
<li>1.5. <a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a>
</li>
<li>1.6. <a href="#ErrorCallback">ErrorCallback</a>
</li>
</ul>
</li>
<li>2. <a href="#api-features">Related Feature</a>
</li>
<li>3. <a href="#full-webidl">Full WebIDL</a>
</li>
</ul>
<hr>
<h2 id="method-summary">Summary of Interfaces and Methods</h2>
<table class="informaltable">
<thead><tr>
<th>Interface</th>
<th>Method</th>
</tr></thead>
<tbody>
<tr>
<td><a href="#AccelerometerManagerObject">AccelerometerManagerObject</a></td>
<td></td>
</tr>
<tr>
<td><a href="#Accelerometer">Accelerometer</a></td>
<td>
<div>void <a href="#Accelerometer::getCurrentAcceleration">getCurrentAcceleration</a> (<a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a> onsuccess, <a href="#ErrorCallback">ErrorCallback</a> onerror)</div>
<div>DOMString <a href="#Accelerometer::watchAcceleration">watchAcceleration</a> (<a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a> onsuccess, <a href="#ErrorCallback">ErrorCallback</a> onerror, optional <a href="#AccelerationOptions">AccelerationOptions</a>? options)</div>
<div>void <a href="#Accelerometer::clearWatch">clearWatch</a> (DOMString watchID)</div>
</td>
</tr>
<tr>
<td><a href="#Acceleration">Acceleration</a></td>
<td></td>
</tr>
<tr>
<td><a href="#AccelerationOptions">AccelerationOptions</a></td>
<td></td>
</tr>
<tr>
<td><a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a></td>
<td><div>void <a href="#AccelerometerSuccessCallback::onsuccess">onsuccess</a> (<a href="#Acceleration">Acceleration</a> acceleration)</div></td>
</tr>
<tr>
<td><a href="#ErrorCallback">ErrorCallback</a></td>
<td><div>void <a href="#ErrorCallback::onerror">onerror</a> (<a href="cordova.html#DOMException">DOMException</a> error)</div></td>
</tr>
</tbody>
</table>
<div class="interfaces" id="interfaces-section">
<h2>1. Interfaces</h2>
<div class="interface" id="AccelerometerManagerObject">
<a class="backward-compatibility-anchor" name="::DeviceMotion::AccelerometerManagerObject"></a><h3>1.1. AccelerometerManagerObject</h3>
<div class="brief">
 The <em>navigator.accelerometer </em>object allows access to the functionality of the DeviceMotion API.
          </div>
<pre class="webidl prettyprint">  [NoInterfaceObject] interface AccelerometerManagerObject {
    readonly attribute <a href="#Accelerometer">Accelerometer</a> accelerometer;
  };</pre>
<pre class="webidl prettyprint">  Navigator implements <a href="#AccelerometerManagerObject">AccelerometerManagerObject</a>;</pre>
<p><span class="version">Since: </span>
 3.0
          </p>
<p><span class="privilegelevel">Privilege level: </span>
 public
          </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
          </p>
</div>
<div class="interface" id="Accelerometer">
<a class="backward-compatibility-anchor" name="::DeviceMotion::Accelerometer"></a><h3>1.2. Accelerometer</h3>
<div class="brief">
 The Accelerometer object captures device motion in the x, y, and z direction.
          </div>
<pre class="webidl prettyprint">  [NoInterfaceObject] interface Accelerometer {
    void getCurrentAcceleration(<a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a> onsuccess, <a href="#ErrorCallback">ErrorCallback</a> onerror) raises(TypeError);
    DOMString watchAcceleration(<a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a> onsuccess, <a href="#ErrorCallback">ErrorCallback</a> onerror, optional <a href="#AccelerationOptions">AccelerationOptions</a>? options)
                                raises(TypeError);
    void clearWatch(DOMString watchID) raises(TypeError);
  };</pre>
<p><span class="version">Since: </span>
 3.0
          </p>
<p><span class="privilegelevel">Privilege level: </span>
 public
          </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
          </p>
<div class="methods">
<h4>Methods</h4>
<dl>
<dt class="method" id="Accelerometer::getCurrentAcceleration">
<a class="backward-compatibility-anchor" name="::DeviceMotion::Accelerometer::getCurrentAcceleration"></a><code><b><span class="methodName">getCurrentAcceleration</span></b></code>
</dt>
<dd>
<div class="brief">
 Gets the current acceleration along the x, y, and z axes.
            </div>
<div class="synopsis"><pre class="signature prettyprint">void getCurrentAcceleration(<a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a> onsuccess, <a href="#ErrorCallback">ErrorCallback</a> onerror);</pre></div>
<p><span class="version">Since: </span>
 3.0
            </p>
<p><span class="privilegelevel">Privilege level: </span>
 public
            </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
            </p>
<div class="parameters">
<p><span class="param">Parameters:</span></p>
<ul>
          <li class="param">
<span class="name">onsuccess</span>:
 The callback method to be invoked with current acceleration values.
                </li>
          <li class="param">
<span class="name">onerror</span>:
 The callback method called when errors occur.
                </li>
        </ul>
</div>
<div class="exceptionlist">
<p><span class="except">Exceptions:</span></p>
          <ul class="exception"><li>TypeError<ul><li class="list"><p>
 if any of the input parameters contains an invalid value.
                </p></li></ul>
</li></ul>
        </div>
<div class="example">
<span class="example"><p>Code example:</p></span><pre name="code" class="examplecode prettyprint">function onSuccess(acceleration)
{
  console.log("Acceleration X: " + acceleration.x + "\n" +
              "Acceleration Y: " + acceleration.y + "\n" +
              "Acceleration Z: " + acceleration.z + "\n" +
              "Timestamp: " + acceleration.timestamp);
}

function onError()
{
  console.log("onError!");
}

navigator.accelerometer.getCurrentAcceleration(onSuccess, onError);
</pre>
</div>
<div class="output">
<span class="title"><p>Output example:</p></span><pre>Acceleration X: 0.00
Acceleration Y: 0.00
Acceleration Z: 9.82
Timestamp: 1456480118000
</pre>
</div>
</dd>
<dt class="method" id="Accelerometer::watchAcceleration">
<a class="backward-compatibility-anchor" name="::DeviceMotion::Accelerometer::watchAcceleration"></a><code><b><span class="methodName">watchAcceleration</span></b></code>
</dt>
<dd>
<div class="brief">
 Gets the acceleration along the x, y, and z axes at a regular interval.
            </div>
<div class="synopsis"><pre class="signature prettyprint">DOMString watchAcceleration(<a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a> onsuccess, <a href="#ErrorCallback">ErrorCallback</a> onerror, optional <a href="#AccelerationOptions">AccelerationOptions</a>? options);</pre></div>
<p><span class="version">Since: </span>
 3.0
            </p>
<p><span class="privilegelevel">Privilege level: </span>
 public
            </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
            </p>
<div class="parameters">
<p><span class="param">Parameters:</span></p>
<ul>
          <li class="param">
<span class="name">onsuccess</span>:
 The callback method to be invoked with current acceleration values.
                </li>
          <li class="param">
<span class="name">onerror</span>:
 The callback method called when errors occur.
                </li>
          <li class="param">
<span class="name">options</span><span class="optional"> [optional]</span><span class="optional"> [nullable]</span>:
 Specifies the interval of calling successcallback in milliseconds. If not provided, default value for frequency is 10000 (10 seconds).
                </li>
        </ul>
</div>
<div class="returntype">
<p><span class="return">Return value:</span></p>
<ul>
<span class="return">DOMString:</span>
 DOMString The watch id that must be passed to <a href="device-motion.html#Accelerometer::clearWatch">clearWatch</a> to stop watching.
              </ul>
</div>
<div class="exceptionlist">
<p><span class="except">Exceptions:</span></p>
          <ul class="exception"><li>TypeError<ul><li class="list"><p>
 if any of the input parameters contains an invalid value.
                </p></li></ul>
</li></ul>
        </div>
<div class="example">
<span class="example"><p>Code example:</p></span><pre name="code" class="examplecode prettyprint">function onSuccess(acceleration)
{
  console.log("Acceleration X: " + acceleration.x + "\n" +
              "Acceleration Y: " + acceleration.y + "\n" +
              "Acceleration Z: " + acceleration.z + "\n" +
              "Timestamp: " + acceleration.timestamp);
  console.log("Please wait 3 seconds for the next measurement...");
}

function onError()
{
  console.log("onError!");
}

var options = {frequency: 3000};  /* Update every 3 seconds. */

var watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);
</pre>
</div>
<div class="output">
<span class="title"><p>Output example:</p></span><pre>Acceleration X: 0.00
Acceleration Y: 0.00
Acceleration Z: 9.82
Timestamp: 1456480118000
Please wait 3 seconds for the next measurement...
Acceleration X: 0.00
Acceleration Y: 0.00
Acceleration Z: 9.82
Timestamp: 1456480121000
Please wait 3 seconds for the next measurement...
(...)
</pre>
</div>
</dd>
<dt class="method" id="Accelerometer::clearWatch">
<a class="backward-compatibility-anchor" name="::DeviceMotion::Accelerometer::clearWatch"></a><code><b><span class="methodName">clearWatch</span></b></code>
</dt>
<dd>
<div class="brief">
 Stop watching the Acceleration referenced by the watchID parameter.
            </div>
<div class="synopsis"><pre class="signature prettyprint">void clearWatch(DOMString watchID);</pre></div>
<p><span class="version">Since: </span>
 3.0
            </p>
<p><span class="privilegelevel">Privilege level: </span>
 public
            </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
            </p>
<div class="parameters">
<p><span class="param">Parameters:</span></p>
<ul>
          <li class="param">
<span class="name">watchID</span>:
 The id of the watch returned from <a href="device-motion.html#Accelerometer::watchAcceleration">watchAcceleration</a>.
                </li>
        </ul>
</div>
<div class="exceptionlist">
<p><span class="except">Exceptions:</span></p>
          <ul class="exception"><li>TypeError<ul><li class="list"><p>
 if any of the input parameters contains an invalid value.
                </p></li></ul>
</li></ul>
        </div>
<div class="example">
<span class="example"><p>Code example:</p></span><pre name="code" class="examplecode prettyprint">var counter = 0, watchID;

function onSuccess(acceleration)
{
  console.log("Acceleration X: " + acceleration.x + "\n" +
              "Acceleration Y: " + acceleration.y + "\n" +
              "Acceleration Z: " + acceleration.z + "\n" +
              "Timestamp: " + acceleration.timestamp);
  if (3 == ++counter)
  {
    navigator.accelerometer.clearWatch(watchID);
  }
}

function onError()
{
  console.log("onError!");
}

var options = {frequency: 30};  /* Update every 0.03 seconds. */

watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);
</pre>
</div>
<div class="output">
<span class="title"><p>Output example:</p></span><pre>Acceleration X: 0.00
Acceleration Y: 0.00
Acceleration Z: 9.82
Timestamp: 1456483774000
Acceleration X: 0.00
Acceleration Y: 0.00
Acceleration Z: 9.82
Timestamp: 1456483774030
Acceleration X: 0.00
Acceleration Y: 0.00
Acceleration Z: 9.82
Timestamp: 1456483774060
</pre>
</div>
</dd>
</dl>
</div>
</div>
<div class="interface" id="Acceleration">
<a class="backward-compatibility-anchor" name="::DeviceMotion::Acceleration"></a><h3>1.3. Acceleration</h3>
<div class="brief">
 Contains Accelerometer data captured at a specific point in time.
Acceleration values include the effect of gravity (9.81 m/s^2), so that when a device lies flat and facing up, x, y, and z values returned should be 0, 0, and 9.81.
          </div>
<pre class="webidl prettyprint">  [NoInterfaceObject] interface Acceleration {
    readonly attribute double x;
    readonly attribute double y;
    readonly attribute double z;
    readonly attribute long timestamp;
  };</pre>
<p><span class="privilegelevel">Privilege level: </span>
 public
          </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
          </p>
<div class="attributes">
<h4>Attributes</h4>
<ul>
<li class="attribute" id="Acceleration::x">
<span class="attrName"><span class="readonly">                readonly
</span><span class="type">double </span><span class="name">x</span></span><div class="brief">
 Amount of acceleration on the x-axis. (in m/s^2)
            </div>
<p><span class="version">Since: </span>
 3.0
            </p>
<p><span class="privilegelevel">Privilege level: </span>
 public
            </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
            </p>
</li>
<li class="attribute" id="Acceleration::y">
<span class="attrName"><span class="readonly">                readonly
</span><span class="type">double </span><span class="name">y</span></span><div class="brief">
 Amount of acceleration on the y-axis. (in m/s^2)
            </div>
<p><span class="version">Since: </span>
 3.0
            </p>
<p><span class="privilegelevel">Privilege level: </span>
 public
            </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
            </p>
</li>
<li class="attribute" id="Acceleration::z">
<span class="attrName"><span class="readonly">                readonly
</span><span class="type">double </span><span class="name">z</span></span><div class="brief">
 Amount of acceleration on the z-axis. (in m/s^2)
            </div>
<p><span class="version">Since: </span>
 3.0
            </p>
<p><span class="privilegelevel">Privilege level: </span>
 public
            </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
            </p>
</li>
<li class="attribute" id="Acceleration::timestamp">
<span class="attrName"><span class="readonly">                readonly
</span><span class="type">long </span><span class="name">timestamp</span></span><div class="brief">
 Creation timestamp in milliseconds.
            </div>
<p><span class="version">Since: </span>
 3.0
            </p>
<p><span class="privilegelevel">Privilege level: </span>
 public
            </p>
<p><span class="privilege">Privilege: </span>
 http://tizen.org/privilege/filesystem.read
            </p>
</li>
</ul>
</div>
</div>
<div class="dictionary" id="AccelerationOptions">
<a class="backward-compatibility-anchor" name="::DeviceMotion::AccelerationOptions"></a><h3>1.4. AccelerationOptions</h3>
<div class="brief">
 An optional parameter to customize the retrieval of accelerometer values.
          </div>
<pre class="webidl prettyprint">  dictionary AccelerationOptions {
    long frequency;
  };</pre>
<div class="attributes">
<h4>Dictionary members</h4>
<dl>
<dt class="member" id="AccelerationOptions::frequency"><span class="attrName">long frequency</span></dt>
<dd>
<div class="brief">
 Interval defining how often to retrieve Acceleration in milliseconds.
            </div>
<p><span class="version">Since: </span>
 3.0
            </p>
</dd>
</dl>
</div>
</div>
<div class="interface" id="AccelerometerSuccessCallback">
<a class="backward-compatibility-anchor" name="::DeviceMotion::AccelerometerSuccessCallback"></a><h3>1.5. AccelerometerSuccessCallback</h3>
<div class="brief">
 The AccelerometerSuccessCallback interface provides a SuccessCallback for the getCurrentAcceleration and watchAcceleration methods.
          </div>
<pre class="webidl prettyprint">  [Callback=FunctionOnly, NoInterfaceObject] interface AccelerometerSuccessCallback {
    void onsuccess(<a href="#Acceleration">Acceleration</a> acceleration);
  };</pre>
<div class="methods">
<h4>Methods</h4>
<dl>
<dt class="method" id="AccelerometerSuccessCallback::onsuccess">
<a class="backward-compatibility-anchor" name="::DeviceMotion::AccelerometerSuccessCallback::onsuccess"></a><code><b><span class="methodName">onsuccess</span></b></code>
</dt>
<dd>
<div class="synopsis"><pre class="signature prettyprint">void onsuccess(<a href="#Acceleration">Acceleration</a> acceleration);</pre></div>
<p><span class="version">Since: </span>
 3.0
            </p>
<div class="parameters">
<p><span class="param">Parameters:</span></p>
<ul>
          <li class="param">
<span class="name">acceleration</span>:
 The acceleration at a single moment in time.
                </li>
        </ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="interface" id="ErrorCallback">
<a class="backward-compatibility-anchor" name="::DeviceMotion::ErrorCallback"></a><h3>1.6. ErrorCallback</h3>
<div class="brief">
 Basic error callback.
          </div>
<pre class="webidl prettyprint">  [Callback=FunctionOnly, NoInterfaceObject] interface ErrorCallback {
    void onerror(<a href="cordova.html#DOMException">DOMException</a> error);
  };</pre>
<div class="methods">
<h4>Methods</h4>
<dl>
<dt class="method" id="ErrorCallback::onerror">
<a class="backward-compatibility-anchor" name="::DeviceMotion::ErrorCallback::onerror"></a><code><b><span class="methodName">onerror</span></b></code>
</dt>
<dd>
<div class="brief">
 Success
            </div>
<div class="synopsis"><pre class="signature prettyprint">void onerror(<a href="cordova.html#DOMException">DOMException</a> error);</pre></div>
<p><span class="version">Since: </span>
 3.0
            </p>
<div class="parameters">
<p><span class="param">Parameters:</span></p>
<ul>
          <li class="param">
<span class="name">error</span>:
 Error object containing some information about the error.
                </li>
        </ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<h2 id="api-features">2. Related Feature</h2>
<div id="def-api-features" class="def-api-features">
            Method
            <a href="../systeminfo.html#SystemInfo::getCapability">tizen.systeminfo.getCapability()</a>
         can be used in application runtime to check whether this API is supported.
                    <div class="def-api-feature">
<p><div class="description">
            <p>
To guarantee that the DeviceMotion application runs on a device with the DeviceMotion feature declare the following feature requirements in the config file:
            </p>
           </div></p>
<li class="feature">http://tizen.org/feature/sensor.accelerometer</li>
</div>
<p></p>
                    For more information, see <a href="/application/web/tutorials/app-filtering">Application Filtering.</a>
</div>
<h2 id="full-webidl">3. Full WebIDL</h2>
<pre class="webidl prettyprint">module DeviceMotion {
  dictionary AccelerationOptions {
    long frequency;
  };
  Navigator implements <a href="#AccelerometerManagerObject">AccelerometerManagerObject</a>;
  [NoInterfaceObject] interface AccelerometerManagerObject {
    readonly attribute <a href="#Accelerometer">Accelerometer</a> accelerometer;
  };
  [NoInterfaceObject] interface Accelerometer {
    void getCurrentAcceleration(<a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a> onsuccess, <a href="#ErrorCallback">ErrorCallback</a> onerror) raises(TypeError);
    DOMString watchAcceleration(<a href="#AccelerometerSuccessCallback">AccelerometerSuccessCallback</a> onsuccess, <a href="#ErrorCallback">ErrorCallback</a> onerror, optional <a href="#AccelerationOptions">AccelerationOptions</a>? options)
                                raises(TypeError);
    void clearWatch(DOMString watchID) raises(TypeError);
  };
  [NoInterfaceObject] interface Acceleration {
    readonly attribute double x;
    readonly attribute double y;
    readonly attribute double z;
    readonly attribute long timestamp;
  };
  [Callback=FunctionOnly, NoInterfaceObject] interface AccelerometerSuccessCallback {
    void onsuccess(<a href="#Acceleration">Acceleration</a> acceleration);
  };
  [Callback=FunctionOnly, NoInterfaceObject] interface ErrorCallback {
    void onerror(<a href="cordova.html#DOMException">DOMException</a> error);
  };
};</pre>
</div>
<div id="page-footer">
<div class="copyright" align="center">
         Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>. <br>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.
            </div>
<script type="text/javascript">

              var _gaq = _gaq || [];
              _gaq.push(['_setAccount', 'UA-25976949-1']);
              _gaq.push(['_setDomainName', 'tizen.org']);
              _gaq.push(['_trackPageview']);

              (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
              })();

            </script>
</div>
</body>
</html>
