<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Multisense example</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Multisense example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a simple example in which a rect is created and sound and tone are played on mouse down event.</p>
<p>Focusing on the creation of sample and tone. It should be noted that creation of sample sound is from any supported (sndfile lib) audio file, tone from of specific audible frequency range are controlled by the theme:</p>
<p>The full source code follows: </p>
<div class="fragment"><pre class="fragment">
<span class="preprocessor">#include &lt;Eina.h&gt;</span>
<span class="preprocessor">#include &lt;Evas.h&gt;</span>
<span class="preprocessor">#include &lt;Ecore.h&gt;</span>
<span class="preprocessor">#include &lt;Ecore_Evas.h&gt;</span>
<span class="preprocessor">#include &lt;Edje.h&gt;</span>

<span class="preprocessor">#ifndef PACKAGE_DATA_DIR</span>
<span class="preprocessor"></span><span class="preprocessor">#define PACKAGE_DATA_DIR &quot;.&quot;</span>
<span class="preprocessor"></span><span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define WIDTH  300</span>
<span class="preprocessor"></span><span class="preprocessor">#define HEIGHT 300</span>
<span class="preprocessor"></span>
<span class="keyword">static</span> <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *create_my_group(<a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *canvas)
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *edje;

   edje = edje_object_add(canvas);
   <span class="keywordflow">if</span> (!edje)
     {
        <a class="code" href="group__Eina__Log__Group.html#ga5b50827f35399f9ff87f5d9d817c764a">EINA_LOG_CRIT</a>(<span class="stringliteral">&quot;could not create edje object!&quot;</span>);
        <span class="keywordflow">return</span> NULL;
     }

   <span class="keywordflow">if</span> (!edje_object_file_set(edje, PACKAGE_DATA_DIR<span class="stringliteral">&quot;/multisense.edj&quot;</span>,
                             <span class="stringliteral">&quot;example_group&quot;</span>))
     {
        <span class="keywordtype">int</span> err = <a class="code" href="group__Edje__Object.html#ga20a6e01d3a62e04d0d85bd8c673601cf" title="Gets the (last) file loading error for a given Edje object.">edje_object_load_error_get</a>(edje);
        <span class="keyword">const</span> <span class="keywordtype">char</span> *errmsg = <a class="code" href="group__Edje__Object__File.html#ga034465c2de4ab495802da20f332c386e" title="Converts the given Edje file load error code into a string describing it in English.">edje_load_error_str</a>(err);
        <a class="code" href="group__Eina__Log__Group.html#ga2e33caeeeb6051526c01b7fea4d6c91b">EINA_LOG_ERR</a>(<span class="stringliteral">&quot;could not load &#39;example_group&#39; from multisense.edj: %s&quot;</span>,
                     errmsg);

        <a class="code" href="group__Evas__Font__Group.html#ga7e7a625dab7a3890532aa13b43117076">evas_object_del</a>(edje);
        <span class="keywordflow">return</span> NULL;
     }

   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(edje, 0, 0);
   <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(edje, WIDTH, HEIGHT);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(edje);
   <span class="keywordflow">return</span> edje;
}

<span class="keywordtype">int</span> main()
{
   Ecore_Evas *window;
   <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *canvas;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *edje;

   <a class="code" href="group__Ecore__Evas__Group.html#gad36db3002bbf891d28af0d6b22dda1b5" title="Inits the Ecore_Evas system.">ecore_evas_init</a>();
   <a class="code" href="group__Edje__General__Group.html#ga1c9c6594f38023c29fbfb2d0c8c675db" title="Initializes the Edje library.">edje_init</a>();

   window = ecore_evas_new(NULL, 0, 0, WIDTH, HEIGHT, NULL);
   <span class="keywordflow">if</span> (!window)
     {
        <a class="code" href="group__Eina__Log__Group.html#ga5b50827f35399f9ff87f5d9d817c764a">EINA_LOG_CRIT</a>(<span class="stringliteral">&quot;could not create window.&quot;</span>);
        <span class="keywordflow">return</span> -1;
     }
   canvas = <a class="code" href="group__Ecore__Evas__Group.html#ga21b6108d757f0aea6c4126d59cfb8826" title="Gets an Ecore_Evas&#39;s Evas.">ecore_evas_get</a>(window);

   edje = create_my_group(canvas);
   <span class="keywordflow">if</span> (!edje)
     <span class="keywordflow">return</span> -2;

   <a class="code" href="group__Ecore__Evas__Group.html#gaaea54d6b6ab85ac2f3355052d04e487e" title="Shows an Ecore_Evas&#39; window.">ecore_evas_show</a>(window);
   <a class="code" href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin</a>();

   <a class="code" href="group__Evas__Font__Group.html#ga7e7a625dab7a3890532aa13b43117076">evas_object_del</a>(edje);
   <a class="code" href="group__Ecore__Evas__Group.html#ga68f83d423894b2797e8e693376921161" title="Frees an Ecore_Evas.">ecore_evas_free</a>(window);

   <a class="code" href="group__Edje__General__Group.html#ga01041f6702f2d81bf10c3e41899805cb" title="Shuts down the Edje library.">edje_shutdown</a>();
   <a class="code" href="group__Ecore__Evas__Group.html#gab1a47c09b475148c037c0a3d68644fa4" title="Shuts down the Ecore_Evas system.">ecore_evas_shutdown</a>();

   <span class="keywordflow">return</span> 0;
}
</pre></div> <div class="fragment"><pre class="fragment">collections {
   sounds {
      sample {
         name: <span class="stringliteral">&quot;sound_name1&quot;</span> RAW;
         source: <span class="stringliteral">&quot;duck.wav&quot;</span>;
      }
      tone: <span class="stringliteral">&quot;tone-name&quot;</span> 2600;
   }
   group {
      name: <span class="stringliteral">&quot;example_group&quot;</span>;
      parts {
         part {
            name: <span class="stringliteral">&quot;sample_bg&quot;</span>;
            type: RECT;
            mouse_events: 1;
            description {
               state: <span class="stringliteral">&quot;default&quot;</span> 0.0;
               min: 300 150;
               max: 300 150;
               color: 200 200 200 100;
               align: 0.5 0.0;
               rel1 {
                  relative: 0.0 0.0;
               }
            }
         }
         part {
            name: <span class="stringliteral">&quot;sample_text&quot;</span>;
            type: TEXT;
            mouse_events: 1;
            repeat_events: 1;
            description {
               state: <span class="stringliteral">&quot;default&quot;</span> 0.0;
               rel1.to: <span class="stringliteral">&quot;sample_bg&quot;</span>;
               rel2.to: <span class="stringliteral">&quot;sample_bg&quot;</span>;
               text {
                  font: <span class="stringliteral">&quot;Sans&quot;</span>;
                  size: 20;
                  text: <span class="stringliteral">&quot;Play Sound Sample&quot;</span>;
               }
            }
         }
         part {
            name: <span class="stringliteral">&quot;tone_bg&quot;</span>;
            type: RECT;
             mouse_events: 1;
            description {
               state: <span class="stringliteral">&quot;default&quot;</span> 0.0;
               min: 300 150;
               max: 300 150;
               align: 0.5 0.0;
               color: 180 180 180 100;
               rel1 {
                  relative: 0.0 1.0;
                  to: <span class="stringliteral">&quot;sample_bg&quot;</span>;
               }
            }
         }
         part {
            name: <span class="stringliteral">&quot;tone_text&quot;</span>;
            type: TEXT;
             mouse_events: 1;
             repeat_events: 1;
            description {
               state: <span class="stringliteral">&quot;default&quot;</span> 0.0;
               rel1.to: <span class="stringliteral">&quot;tone_bg&quot;</span>;
               rel2.to: <span class="stringliteral">&quot;tone_bg&quot;</span>;
               text {
                  font: <span class="stringliteral">&quot;Sans&quot;</span>;
                  size: 20;
                  text: <span class="stringliteral">&quot;Play Tone&quot;</span>;
               }
            }
         }
         programs {
            program {
               name: <span class="stringliteral">&quot;click_sample1&quot;</span>;
               signal: <span class="stringliteral">&quot;mouse,down,1&quot;</span>;
               source: <span class="stringliteral">&quot;sample_bg&quot;</span>;
               action: PLAY_SAMPLE <span class="stringliteral">&quot;sound_name1&quot;</span> 1.0;
            }
            program {
               name: <span class="stringliteral">&quot;click_tone&quot;</span>;
               signal: <span class="stringliteral">&quot;mouse,down,1&quot;</span>;
               source: <span class="stringliteral">&quot;tone_bg&quot;</span>;
               action: PLAY_TONE <span class="stringliteral">&quot;tone-name&quot;</span> 0.1;
            }
         }
      }
   }
}
</pre></div> </div></div><!-- contents -->
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
