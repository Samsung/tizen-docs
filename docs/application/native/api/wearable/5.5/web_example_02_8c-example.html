<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: web_example_02.c</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">5.5</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('web_example_02_8c-example.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">web_example_02.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><span class="comment">/*</span>
<span class="comment"> * gcc -o web_example_02 web_example_02.c `pkg-config --cflags --libs elementary ewebkit` -D_GNU_SOURCE</span>
<span class="comment"> */</span>
<span class="preprocessor">#ifndef _GNU_SOURCE</span>
<span class="preprocessor"></span><span class="preprocessor"># define _GNU_SOURCE</span>
<span class="preprocessor"></span><span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#include &lt;Elementary.h&gt;</span>
<span class="preprocessor">#ifdef HAVE_ELEMENTARY_WEB</span>
<span class="preprocessor"></span><span class="preprocessor">#include &lt;EWebKit.h&gt;</span>
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="keyword">typedef</span> <span class="keyword">struct </span>_Tab_Data Tab_Data;

<span class="keyword">typedef</span> <span class="keyword">struct</span>
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *win;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *main_box;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *naviframe;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *url_entry;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *default_web;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *tabs;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *close_tab;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *search_box;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *search_entry;

   <span class="keyword">struct </span>{
        <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *back;
        <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *fwd;
        <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *refresh;
   } nav;

   Tab_Data *current_tab;

   <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> exiting : 1;
} App_Data;

<span class="keyword">struct </span>_Tab_Data
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *web;
   App_Data *app;
   <a class="code" href="group__Elm__General.html#ga13a0c231414b86e62f68afe3c6fb462b">Elm_Object_Item</a> *tab;
};

<span class="keyword">static</span> <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> * _web_create_window_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> js, <span class="keyword">const</span> <a class="code" href="group__Elm__Web.html#gae2b0432ff7c5e8d843416f648da929ac">Elm_Web_Window_Features</a> *wf);

<span class="keyword">static</span> <span class="keywordtype">void</span>
nav_button_update(App_Data *ad)
{
   <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> back, fwd;

   back = !elm_web_back_possible_get(ad-&gt;current_tab-&gt;web);
   fwd = !elm_web_forward_possible_get(ad-&gt;current_tab-&gt;web);

   <a name="a0"></a><a class="code" href="group__Elm__General.html#ga6849a57df3316eabad5bec443bf87597">elm_object_disabled_set</a>(ad-&gt;nav.back, back);
   <a class="code" href="group__Elm__General.html#ga6849a57df3316eabad5bec443bf87597">elm_object_disabled_set</a>(ad-&gt;nav.fwd, fwd);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
tab_current_set(Tab_Data *td)
{
   <span class="keyword">const</span> <span class="keywordtype">char</span> *url;

   <span class="keywordflow">if</span> (td == td-&gt;app-&gt;current_tab)
     <span class="keywordflow">return</span>;

   td-&gt;app-&gt;current_tab = td;

   url = elm_web_url_get(td-&gt;web);
   elm_object_text_set(td-&gt;app-&gt;url_entry, url);

   nav_button_update(td-&gt;app);
   elm_entry_icon_visible_set(td-&gt;app-&gt;url_entry, <a name="a1"></a><a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);

   elm_naviframe_item_simple_promote(td-&gt;app-&gt;naviframe, td-&gt;web);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_tab_clicked_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj <a name="a2"></a><a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <span class="keywordtype">void</span> *event_info)
{
   Tab_Data *td = data;
   <span class="comment">/* the first toolbar_item_append() calls the select callback before the item</span>
<span class="comment">    * is assigned, so we need a workaround for that. */</span>
   <span class="keywordflow">if</span> (!td-&gt;tab)
     td-&gt;tab = event_info;
   tab_current_set(td);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_title_changed_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info)
{
   Tab_Data *td = data;
   <span class="keyword">const</span> <span class="keywordtype">char</span> *title = event_info;
   <span class="keywordtype">char</span> buf[20] = <span class="stringliteral">&quot;&quot;</span>;

   <span class="keywordflow">if</span> (title)
     strncpy(buf, title, <span class="keyword">sizeof</span>(buf) - 1);
   <a name="a3"></a><a class="code" href="group__Elm__General.html#gab7192654621dd090be86c94678635ea4">elm_object_item_text_set</a>(td-&gt;tab, buf);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_url_changed_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info)
{
   Tab_Data *td = data;
   <span class="keyword">const</span> <span class="keywordtype">char</span> *url = event_info;

   <span class="keywordflow">if</span> (td != td-&gt;app-&gt;current_tab)
     <span class="keywordflow">return</span>;

   nav_button_update(td-&gt;app);
   elm_object_text_set(td-&gt;app-&gt;url_entry, url);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_web_free_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *e EINA_UNUSED, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   Tab_Data *td = data;

   <span class="keywordflow">if</span> (td-&gt;tab)
     <a name="a4"></a><a class="code" href="group__Elm__General.html#gad1b5a0d41fa322b28000a290154ec3a4">elm_object_item_del</a>(td-&gt;tab);

   free(td);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_tb_item_del_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   Tab_Data *td = data;
   <span class="keywordflow">if</span> (!td-&gt;app-&gt;exiting &amp;&amp; !elm_toolbar_selected_item_get(obj))
     {
        td-&gt;app-&gt;current_tab = NULL;
        elm_entry_icon_visible_set(td-&gt;app-&gt;url_entry, <a name="a5"></a><a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>);
        <span class="keywordflow">if</span> (td-&gt;app-&gt;search_box)
          <a name="a6"></a><a class="code" href="group__Evas__Object__Group__Basic.html#ga7e7a625dab7a3890532aa13b43117076">evas_object_del</a>(td-&gt;app-&gt;search_box);
     }
   td-&gt;tab = NULL;
}

Tab_Data *
tab_add(App_Data *ad)
{
   Tab_Data *td;

   td = calloc(1, <span class="keyword">sizeof</span>(Tab_Data));
   <span class="keywordflow">if</span> (!td) <span class="keywordflow">return</span> NULL;

   td-&gt;web = elm_web_add(ad-&gt;win);
   elm_web_window_create_hook_set(td-&gt;web, _web_create_window_cb, ad);
   elm_web_inwin_mode_set(td-&gt;web, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   evas_object_size_hint_weight_set(td-&gt;web, EVAS_HINT_EXPAND,
                                    EVAS_HINT_EXPAND);
   evas_object_size_hint_align_set(td-&gt;web, EVAS_HINT_FILL, EVAS_HINT_FILL);
   elm_naviframe_item_simple_push(ad-&gt;naviframe, td-&gt;web);

   td-&gt;app = ad;
   td-&gt;tab = elm_toolbar_item_append(td-&gt;app-&gt;tabs, NULL, <span class="stringliteral">&quot;New tab&quot;</span>,
                                     _tab_clicked_cb, td);
   <a name="a7"></a><a class="code" href="group__Elm__General.html#ga2e17c3f1030712f3175f5b7812ada9a0" title="Set the function to be called when an item from the widget is freed.">elm_object_item_del_cb_set</a>(td-&gt;tab, _tb_item_del_cb);

   <a name="a8"></a><a class="code" href="group__Evas__Object__Group__Extras.html#ga70134a7068c9bff4107a761abe0a2ad4">evas_object_data_set</a>(td-&gt;web, <span class="stringliteral">&quot;tab_data&quot;</span>, td);

   <a name="a9"></a><a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(td-&gt;web, <span class="stringliteral">&quot;title,changed&quot;</span>, _title_changed_cb,
                                  td);
   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(td-&gt;web, <span class="stringliteral">&quot;url,changed&quot;</span>, _url_changed_cb, td);
   <a name="a10"></a><a class="code" href="group__Evas__Object__Group__Events.html#ga23be30ac5cdfb780f1ff82e9108ec26b">evas_object_event_callback_add</a>(td-&gt;web, EVAS_CALLBACK_FREE, _web_free_cb,
                                  td);

   elm_toolbar_item_selected_set(td-&gt;tab, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   <span class="keywordflow">return</span> td;
}

<span class="keyword">static</span> <span class="keywordtype">char</span> *
url_sanitize(<span class="keyword">const</span> <span class="keywordtype">char</span> *url)
{
   <span class="keywordtype">char</span> *fixed_url;
   <span class="keywordtype">char</span> *schema;
   <span class="keywordtype">char</span> *tmp;

   <span class="keywordflow">if</span> (!url || !*url) <span class="keywordflow">return</span> NULL;

   tmp = strstr(url, <span class="stringliteral">&quot;://&quot;</span>);
   <span class="keywordflow">if</span> (!tmp || (tmp == url) || (tmp &gt; (url + 15)))
     {
        <span class="keywordtype">char</span> *new_url = NULL;
        <span class="keywordflow">if</span> (<a name="a11"></a><a class="code" href="group__Ecore__File__Group.html#ga34d2aa9536a10e43944794f756a1f964" title="Checks if the given file exists.">ecore_file_exists</a>(url))
          {
             schema = <span class="stringliteral">&quot;file&quot;</span>;
             new_url = <a name="a12"></a><a class="code" href="group__Ecore__File__Group.html#gafb9ecd92d7da5129398ff4d18f9b278d" title="Gets the canonicalized absolute path name.">ecore_file_realpath</a>(url);
          }
        <span class="keywordflow">else</span>
          schema = <span class="stringliteral">&quot;http&quot;</span>;

        <span class="keywordflow">if</span> (asprintf(&amp;fixed_url, <span class="stringliteral">&quot;%s://%s&quot;</span>, schema, new_url ? new_url : url) &gt;
            0)
          {
             free(new_url);
             <span class="keywordflow">return</span> fixed_url;
          }
        free(new_url);
     }
   <span class="keywordflow">else</span>
     <span class="keywordflow">return</span> strdup(url);

   <span class="keywordflow">return</span> NULL;
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
tab_url_set(Tab_Data *td, <span class="keyword">const</span> <span class="keywordtype">char</span> *url)
{
   <span class="keywordtype">char</span> *sane_url = url_sanitize(url);
   elm_web_url_set(td-&gt;web, sane_url);
   free(sane_url);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_url_entry_activated_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   Tab_Data *td;
   <span class="keyword">const</span> <span class="keywordtype">char</span> *url = <a name="a13"></a><a class="code" href="group__Eina__Stringshare__Group.html#ga602c8fe9bd3853e1ae80cc16590089c1">eina_stringshare_ref</a>(elm_object_text_get(obj));

   <span class="keywordflow">if</span> (!ad-&gt;current_tab)
     td = tab_add(ad);
   <span class="keywordflow">else</span>
     td = ad-&gt;current_tab;
   tab_url_set(td, url);
   <a name="a14"></a><a class="code" href="group__Eina__Stringshare__Group.html#ga495411b0bc85b9c0d59ec7255a025260" title="Notes that the given string has lost an instance.">eina_stringshare_del</a>(url);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_nav_back_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;

   elm_web_back(ad-&gt;current_tab-&gt;web);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_nav_refresh_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   <span class="keyword">const</span> <a class="code" href="group__Evas__Keys.html#ga198d0b10861c1da456004688d3443e96">Evas_Modifier</a> *mods = <a name="a15"></a><a class="code" href="group__Evas__Canvas.html#gaad42bb4caa43c1cfef4096f6ac2b99ec" title="Returns a handle to the list of modifier keys registered in the canvas e.">evas_key_modifier_get</a>(evas_object_evas_get(obj));

   <span class="keywordflow">if</span> (<a name="a16"></a><a class="code" href="group__Evas__Keys.html#ga6cc24a5ea4b39b84c7a3e617de3db261">evas_key_modifier_is_set</a>(mods, <span class="stringliteral">&quot;Shift&quot;</span>))
     elm_web_reload_full(ad-&gt;current_tab-&gt;web);
   <span class="keywordflow">else</span>
     elm_web_reload(ad-&gt;current_tab-&gt;web);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_nav_fwd_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;

   elm_web_forward(ad-&gt;current_tab-&gt;web);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_close_tab_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;

   <span class="keywordflow">if</span> (!ad-&gt;current_tab)
     <span class="keywordflow">return</span>;
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga7e7a625dab7a3890532aa13b43117076">evas_object_del</a>(ad-&gt;current_tab-&gt;web);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_add_tab_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   tab_add(ad);
   <a name="a17"></a><a class="code" href="group__Elm__Focus.html#ga05e39b5e60ad861c63100c811855ef55">elm_object_focus_set</a>(ad-&gt;url_entry, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
}

<span class="keyword">static</span> <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *
_web_create_window_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED,
                      <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> js EINA_UNUSED, <span class="keyword">const</span> <a class="code" href="group__Elm__Web.html#gae2b0432ff7c5e8d843416f648da929ac">Elm_Web_Window_Features</a> *wf EINA_UNUSED)
{
   App_Data *ad = data;
   Tab_Data *td;

   td = tab_add(ad);
   <span class="keywordflow">return</span> td-&gt;web;
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_win_del_request_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   ad-&gt;exiting = <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>;
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_win_free_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *e EINA_UNUSED, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   free(data);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_search_entry_changed_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   <span class="keyword">const</span> <span class="keywordtype">char</span> *text;

   text = elm_object_text_get(obj);
   elm_web_text_search(ad-&gt;current_tab-&gt;web, text, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>,
                       <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   elm_web_text_matches_unmark_all(ad-&gt;current_tab-&gt;web);
   elm_web_text_matches_mark(ad-&gt;current_tab-&gt;web, text, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>,
                             0);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_search_entry_activate_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   <span class="keyword">const</span> <span class="keywordtype">char</span> *text;

   text = elm_object_text_get(obj);
   elm_web_text_search(ad-&gt;current_tab-&gt;web, text, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>,
                       <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_search_next_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   <span class="keyword">const</span> <span class="keywordtype">char</span> *text;

   text = elm_object_text_get(ad-&gt;search_entry);
   elm_web_text_search(ad-&gt;current_tab-&gt;web, text, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>,
                       <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_search_prev_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   <span class="keyword">const</span> <span class="keywordtype">char</span> *text;

   text = elm_object_text_get(ad-&gt;search_entry);
   elm_web_text_search(ad-&gt;current_tab-&gt;web, text, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>,
                       <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_search_close_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga7e7a625dab7a3890532aa13b43117076">evas_object_del</a>(ad-&gt;search_box);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_search_box_del_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *e EINA_UNUSED, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info EINA_UNUSED)
{
   App_Data *ad = data;
   ad-&gt;search_box = NULL;
   ad-&gt;search_entry = NULL;
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_win_search_trigger_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *e EINA_UNUSED, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj EINA_UNUSED, <span class="keywordtype">void</span> *event_info)
{
   <a name="_a18"></a><a class="code" href="struct__Evas__Event__Key__Down.html">Evas_Event_Key_Down</a> *ev = event_info;
   App_Data *ad = data;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *box, *box2, *entry, *btn, *ic;

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a name="a19"></a><a class="code" href="struct__Evas__Event__Key__Down.html#a01909378c9e67734aa0e6ce2b603ad2c">keyname</a>, <span class="stringliteral">&quot;f&quot;</span>) ||
       !<a class="code" href="group__Evas__Keys.html#ga6cc24a5ea4b39b84c7a3e617de3db261">evas_key_modifier_is_set</a>(ev-&gt;<a name="a20"></a><a class="code" href="struct__Evas__Event__Key__Down.html#a065e345f013dc4099eb180ce4833377f">modifiers</a>, <span class="stringliteral">&quot;Control&quot;</span>))
     <span class="keywordflow">return</span>;
   <span class="keywordflow">if</span> (ad-&gt;search_box || !ad-&gt;current_tab)
     <span class="keywordflow">return</span>;

   box = <a name="a21"></a><a class="code" href="group__Elm__Box.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a>(ad-&gt;win);
   elm_box_horizontal_set(box, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   evas_object_size_hint_weight_set(box, EVAS_HINT_EXPAND, 0.0);
   evas_object_size_hint_align_set(box, EVAS_HINT_FILL, EVAS_HINT_FILL);
   elm_box_pack_after(ad-&gt;main_box, box, ad-&gt;url_entry);
   <a name="a22"></a><a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(box);

   <a class="code" href="group__Evas__Object__Group__Events.html#ga23be30ac5cdfb780f1ff82e9108ec26b">evas_object_event_callback_add</a>(box, EVAS_CALLBACK_DEL, _search_box_del_cb,
                                  ad);

   entry = <a name="a23"></a><a class="code" href="group__Elm__Entry.html#ga9b6db43001f1f765aa38f8805411b822">elm_entry_add</a>(ad-&gt;win);
   elm_entry_single_line_set(entry, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   elm_entry_scrollable_set(entry, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   evas_object_size_hint_weight_set(entry, EVAS_HINT_EXPAND, EVAS_HINT_EXPAND);
   evas_object_size_hint_align_set(entry, EVAS_HINT_FILL, EVAS_HINT_FILL);
   elm_box_pack_end(box, entry);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(entry);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(entry, <span class="stringliteral">&quot;changed&quot;</span>, _search_entry_changed_cb,
                                  ad);
   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(entry, <span class="stringliteral">&quot;activated&quot;</span>, _search_entry_activate_cb,
                                  ad);

   box2 = <a class="code" href="group__Elm__Box.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a>(ad-&gt;win);
   elm_box_horizontal_set(box2, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   <a name="a24"></a><a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(entry, <span class="stringliteral">&quot;end&quot;</span>, box2);

   btn = <a name="a25"></a><a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(ad-&gt;win);
   elm_box_pack_end(box2, btn);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(btn);

   ic = <a name="a26"></a><a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(ad-&gt;win);
   <a name="a27"></a><a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66" title="Set the icon by icon standards names.">elm_icon_standard_set</a>(ic, <span class="stringliteral">&quot;arrow_up&quot;</span>);
   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(btn, <span class="stringliteral">&quot;icon&quot;</span>, ic);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(btn, <span class="stringliteral">&quot;clicked&quot;</span>, _search_prev_cb, ad);

   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(ad-&gt;win);
   elm_box_pack_end(box2, btn);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(btn);

   ic = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(ad-&gt;win);
   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66" title="Set the icon by icon standards names.">elm_icon_standard_set</a>(ic, <span class="stringliteral">&quot;arrow_down&quot;</span>);
   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(btn, <span class="stringliteral">&quot;icon&quot;</span>, ic);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(btn, <span class="stringliteral">&quot;clicked&quot;</span>, _search_next_cb, ad);

   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(ad-&gt;win);
   elm_box_pack_end(box, btn);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(btn);

   ic = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(ad-&gt;win);
   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66" title="Set the icon by icon standards names.">elm_icon_standard_set</a>(ic, <span class="stringliteral">&quot;close&quot;</span>);
   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(btn, <span class="stringliteral">&quot;icon&quot;</span>, ic);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(btn, <span class="stringliteral">&quot;clicked&quot;</span>, _search_close_cb, ad);

   ad-&gt;search_box = box;
   ad-&gt;search_entry = entry;

   <a class="code" href="group__Elm__Focus.html#ga05e39b5e60ad861c63100c811855ef55">elm_object_focus_set</a>(entry, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
default_content_set(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *web)
{
<span class="preprocessor">#ifdef HAVE_ELEMENTARY_WEB</span>
<span class="preprocessor"></span>   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *view, *frame;
   <span class="keyword">const</span> <span class="keywordtype">char</span> contents[] = <span class="stringliteral">&quot;&quot;</span>
      <span class="stringliteral">&quot;&lt;html&gt;\n&quot;</span>
      <span class="stringliteral">&quot;  &lt;head&gt;\n&quot;</span>
      <span class="stringliteral">&quot;    &lt;title&gt;Nothing to see here, move along&lt;/title&gt;\n&quot;</span>
      <span class="stringliteral">&quot;  &lt;/head&gt;\n&quot;</span>
      <span class="stringliteral">&quot;  &lt;body&gt;\n&quot;</span>
      <span class="stringliteral">&quot;    &lt;a href=\&quot;http://www.enlightenment.org\&quot; target=\&quot;_blank\&quot;&gt;E&lt;/a&gt;\n&quot;</span>
      <span class="stringliteral">&quot;    &lt;br /&gt;\n&quot;</span>
      <span class="stringliteral">&quot;    &lt;a href=\&quot;http://www.google.com\&quot; target=\&quot;_blank\&quot;&gt;Google&lt;/a&gt;\n&quot;</span>
      <span class="stringliteral">&quot;    &lt;br /&gt;\n&quot;</span>
      <span class="stringliteral">&quot;  &lt;/body&gt;\n&quot;</span>
      <span class="stringliteral">&quot;&lt;/html&gt;\n&quot;</span>;

   view = elm_web_webkit_view_get(web);
   frame = ewk_view_frame_main_get(view);
   ewk_frame_contents_set(frame, contents, <span class="keyword">sizeof</span>(contents) - 1, <span class="stringliteral">&quot;text/html&quot;</span>,
                          <span class="stringliteral">&quot;UTF-8&quot;</span>, NULL);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>   (void) web;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}

EAPI_MAIN <span class="keywordtype">int</span>
elm_main(<span class="keywordtype">int</span> argc EINA_UNUSED, <span class="keywordtype">char</span> **argv EINA_UNUSED)
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *win, *box, *box2, *btn, *ic, *url_bar, *naviframe, *tabs, *web;
   <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *e;
   <a class="code" href="group__Evas__Keys.html#ga111c7333a7d49e44698bd19dd5bc9059">Evas_Modifier_Mask</a> ctrl_mask;
   App_Data *ad;

   <span class="keywordflow">if</span> (!elm_need_web())
     <span class="keywordflow">return</span> -1;

   ad = calloc(1, <span class="keyword">sizeof</span>(App_Data));
   <span class="keywordflow">if</span> (!ad) <span class="keywordflow">return</span> -1;

   <a name="a28"></a><a class="code" href="group__Elm__General.html#ga7a05f37fd3a019da5e26c5fc91fcd937">elm_policy_set</a>(<a name="a29"></a><a class="code" href="group__Elm__General.html#ggaa16f3378ecdbf660fa378402e3c5a0a9a02fadb6faada04b19d0fa42c11a8d32a">ELM_POLICY_QUIT</a>, <a name="a30"></a><a class="code" href="group__Elm__General.html#gga46af37e6ac2c406321060be827117196abbe0962d88ae12afe1a173da881f56cd">ELM_POLICY_QUIT_LAST_WINDOW_CLOSED</a>);

   win = <a name="a31"></a><a class="code" href="group__Elm__Win.html#gac75d7752662fab73d6420706ce5be996">elm_win_util_standard_add</a>(<span class="stringliteral">&quot;example-web&quot;</span>, <span class="stringliteral">&quot;Web Example&quot;</span>);
   <a name="a32"></a><a class="code" href="group__Elm__Win.html#ga9a16a2f8c9fd5b6e9203ed9dcb53ea8b" title="Sets the window&#39;s autodel state.">elm_win_autodel_set</a>(win, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);

   e = evas_object_evas_get(win);
   ctrl_mask = <a name="a33"></a><a class="code" href="group__Evas__Canvas.html#ga668f8e34ce152d130f37b6b903db3ee2" title="Creates a bit mask from the keyname modifier key. Values returned from different calls to it may be O...">evas_key_modifier_mask_get</a>(e, <span class="stringliteral">&quot;Control&quot;</span>);
   <span class="keywordflow">if</span> (!<a name="a34"></a><a class="code" href="group__Evas__Object__Group__Events.html#ga85828f3c1f252391def19e179b850def" title="Requests keyname key events be directed to obj.">evas_object_key_grab</a>(win, <span class="stringliteral">&quot;f&quot;</span>, ctrl_mask, 0, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>))
     fprintf(stderr, <span class="stringliteral">&quot;Could not grab trigger for search dialog\n&quot;</span>);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(win, <span class="stringliteral">&quot;delete,request&quot;</span>, _win_del_request_cb,
                                  ad);
   <a class="code" href="group__Evas__Object__Group__Events.html#ga23be30ac5cdfb780f1ff82e9108ec26b">evas_object_event_callback_add</a>(win, EVAS_CALLBACK_KEY_DOWN,
                                  _win_search_trigger_cb, ad);
   <a class="code" href="group__Evas__Object__Group__Events.html#ga23be30ac5cdfb780f1ff82e9108ec26b">evas_object_event_callback_add</a>(win, EVAS_CALLBACK_FREE, _win_free_cb, ad);

   box = <a class="code" href="group__Elm__Box.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a>(win);
   evas_object_size_hint_weight_set(box, EVAS_HINT_EXPAND, EVAS_HINT_EXPAND);
   <a name="a35"></a><a class="code" href="group__Elm__Win.html#ga505d6bd217e5ee01e82b548ec35986eb" title="Adds subobj as a resize object of window obj.">elm_win_resize_object_add</a>(win, box);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(box);

   url_bar = <a class="code" href="group__Elm__Entry.html#ga9b6db43001f1f765aa38f8805411b822">elm_entry_add</a>(win);
   elm_entry_single_line_set(url_bar, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   elm_entry_scrollable_set(url_bar, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   evas_object_size_hint_weight_set(url_bar, EVAS_HINT_EXPAND, 0.0);
   evas_object_size_hint_align_set(url_bar, EVAS_HINT_FILL, EVAS_HINT_FILL);
   elm_box_pack_end(box, url_bar);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(url_bar);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(url_bar, <span class="stringliteral">&quot;activated&quot;</span>, _url_entry_activated_cb, ad);

   box2 = <a class="code" href="group__Elm__Box.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a>(win);
   elm_box_horizontal_set(box2, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(url_bar, <span class="stringliteral">&quot;icon&quot;</span>, box2);
   elm_entry_icon_visible_set(url_bar, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>);

   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);
   elm_box_pack_end(box2, btn);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(btn);

   ad-&gt;nav.back = btn;

   ic = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(win);
   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66" title="Set the icon by icon standards names.">elm_icon_standard_set</a>(ic, <span class="stringliteral">&quot;arrow_left&quot;</span>);
   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(btn, <span class="stringliteral">&quot;icon&quot;</span>, ic);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(btn, <span class="stringliteral">&quot;clicked&quot;</span>, _nav_back_cb, ad);

   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);
   elm_box_pack_end(box2, btn);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(btn);

   ad-&gt;nav.refresh = btn;

   ic = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(win);
   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66" title="Set the icon by icon standards names.">elm_icon_standard_set</a>(ic, <span class="stringliteral">&quot;refresh&quot;</span>);
   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(btn, <span class="stringliteral">&quot;icon&quot;</span>, ic);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(btn, <span class="stringliteral">&quot;clicked&quot;</span>, _nav_refresh_cb, ad);

   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);
   elm_box_pack_end(box2, btn);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(btn);

   ad-&gt;nav.fwd = btn;

   ic = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(win);
   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66" title="Set the icon by icon standards names.">elm_icon_standard_set</a>(ic, <span class="stringliteral">&quot;arrow_right&quot;</span>);
   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(btn, <span class="stringliteral">&quot;icon&quot;</span>, ic);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(btn, <span class="stringliteral">&quot;clicked&quot;</span>, _nav_fwd_cb, ad);

   box2 = <a class="code" href="group__Elm__Box.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a>(win);
   elm_box_horizontal_set(box2, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   evas_object_size_hint_weight_set(box2, EVAS_HINT_EXPAND, 0.0);
   evas_object_size_hint_align_set(box2, EVAS_HINT_FILL, EVAS_HINT_FILL);
   elm_box_pack_end(box, box2);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(box2);

   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);
   elm_box_pack_end(box2, btn);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(btn);

   ic = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(win);
   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66" title="Set the icon by icon standards names.">elm_icon_standard_set</a>(ic, <span class="stringliteral">&quot;file&quot;</span>);
   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(btn, <span class="stringliteral">&quot;icon&quot;</span>, ic);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(btn, <span class="stringliteral">&quot;clicked&quot;</span>, _add_tab_cb, ad);

   tabs = <a name="a36"></a><a class="code" href="group__Elm__Toolbar.html#ga0c0841ae232ebd6a9628b868d4e95b6f">elm_toolbar_add</a>(win);
   elm_toolbar_align_set(tabs, 0.0);
   elm_toolbar_select_mode_set(tabs, <a name="a37"></a><a class="code" href="group__Elm__General.html#gga8e4aa5aa238e472f33813babfff0d56fab3cfbf566fdbea2079f3081969f0c59c">ELM_OBJECT_SELECT_MODE_ALWAYS</a>);
   elm_toolbar_homogeneous_set(tabs, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>);
   elm_toolbar_shrink_mode_set(tabs, ELM_TOOLBAR_SHRINK_MENU);
   evas_object_size_hint_weight_set(tabs, EVAS_HINT_EXPAND, EVAS_HINT_EXPAND);
   evas_object_size_hint_align_set(tabs, EVAS_HINT_FILL, EVAS_HINT_FILL);
   elm_box_pack_end(box2, tabs);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(tabs);

   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);
   elm_box_pack_end(box2, btn);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(btn);

   <a class="code" href="group__Evas__Canvas.html#ga18a8b179f94d21b2b09e19db11741061">evas_object_smart_callback_add</a>(btn, <span class="stringliteral">&quot;clicked&quot;</span>, _close_tab_cb, ad);

   ic = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(win);
   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66" title="Set the icon by icon standards names.">elm_icon_standard_set</a>(ic, <span class="stringliteral">&quot;close&quot;</span>);
   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(btn, <span class="stringliteral">&quot;icon&quot;</span>, ic);

   naviframe = <a name="a38"></a><a class="code" href="group__Elm__Naviframe.html#gae58fd808eabae52ac15a03f8c7ec3d96" title="Add a new Naviframe object to the parent.">elm_naviframe_add</a>(win);
   evas_object_size_hint_weight_set(naviframe, EVAS_HINT_EXPAND, EVAS_HINT_EXPAND);
   evas_object_size_hint_align_set(naviframe, EVAS_HINT_FILL, EVAS_HINT_FILL);
   elm_box_pack_end(box, naviframe);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(naviframe);

   elm_toolbar_menu_parent_set(tabs, naviframe);

   web = elm_web_add(win);
   elm_web_window_create_hook_set(web, _web_create_window_cb, ad);
   elm_web_history_enabled_set(web, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>);
   evas_object_size_hint_weight_set(web, EVAS_HINT_EXPAND, EVAS_HINT_EXPAND);
   evas_object_size_hint_align_set(web, EVAS_HINT_FILL, EVAS_HINT_FILL);
   elm_naviframe_item_simple_push(naviframe, web);

   default_content_set(web);

   ad-&gt;win = win;
   ad-&gt;main_box = box;
   ad-&gt;naviframe = naviframe;
   ad-&gt;url_entry = url_bar;
   ad-&gt;default_web = web;
   ad-&gt;tabs = tabs;
   ad-&gt;close_tab = btn;

   evas_object_resize(win, 480, 640);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(win);

   <a name="a39"></a><a class="code" href="group__Elm__General.html#gadf2553f83e6b0b9c7fbe054019a664a1">elm_run</a>();

   <span class="keywordflow">return</span> 0;
}
<a name="a40"></a><a class="code" href="group__Elm__General.html#ga50fe52d513f7e89c9c770afd76de7ad9">ELM_MAIN</a>()
</pre></div> </div><!-- contents -->
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
