<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Ecore Poll functions</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">4.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__Ecore__Poller__Group.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Ecore Poll functions</div>  </div>
<div class="ingroups"><a class="el" href="group__Ecore__Main__Loop__Group.html">Ecore main loop</a></div></div><!--header-->
<div class="contents">
<hr/><a name="details" id="details"></a><h2> </h2>
<p>Ecore poller provides infrastructure for the creation of pollers. Pollers are, in essence, callbacks that share a single timer per type. Because not all pollers need to be called at the same frequency the user may specify the frequency in ticks(each expiration of the shared timer is called a tick, in ecore poller parlance) for each added poller. Ecore pollers should only be used when the poller doesn't have specific requirements on the exact times to poll.</p>
<p>This architecture means that the main loop is only woken up once to handle all pollers of that type, this will save power as the CPU has more of a chance to go into a low power state the longer it is asleep for, so this should be used in situations where power usage is a concern.</p>
<p>For now only 1 core poller type is supported: ECORE_POLLER_CORE, the default interval for ECORE_POLLER_CORE is 0.125(or 1/8th) second.</p>
<p>The creation of a poller is extremely simple and only requires one line: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="group__Ecore__Poller__Group.html#gadd8ee7135864da4313bc88faa0a2d7c9" title="Creates a poller to call the given function at a particular tick interval.">ecore_poller_add</a>(<a class="code" href="group__Ecore__Poller__Group.html#gga50dcd2652ba68fe4aac51c70c3fa1e2ca022dfec751388e380cf01621bd0f797f">ECORE_POLLER_CORE</a>, 1, my_poller_function, NULL);
</pre></div><p> This sample creates a poller to call <code>my_poller_function</code> at every tick with <code>NULL</code> as data.</p>
<p>Example: </p>
<ul>
<li><a class="el" href="ecore_poller_example_c.html">ecore poller - Repetitive polling tasks</a> </li>
</ul>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ecore__Poller__Group.html#ga466dff0c7fb7eb0f5b4e5a3825fa10ac">ecore_poller_poll_interval_set</a> (Ecore_Poller_Type type, double poll_time)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the time(in seconds) between ticks for the given poller type.  <a href="#ga466dff0c7fb7eb0f5b4e5a3825fa10ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ecore__Poller__Group.html#ga72031680ab8f5385639389ac0591e272">ecore_poller_poll_interval_get</a> (Ecore_Poller_Type type)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the time(in seconds) between ticks for the given poller type.  <a href="#ga72031680ab8f5385639389ac0591e272"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Ecore__Poller__Group.html#ga437f925a7a71ee670bbf8cdd4a258f53">Ecore_Poller</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ecore__Poller__Group.html#gadd8ee7135864da4313bc88faa0a2d7c9">ecore_poller_add</a> (Ecore_Poller_Type type, int interval, <a class="el" href="group__Ecore__Main__Loop__Group.html#ga8a36ef1ac24bfa317a7826617264e530">Ecore_Task_Cb</a> func, const void *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a poller to call the given function at a particular tick interval.  <a href="#gadd8ee7135864da4313bc88faa0a2d7c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ecore__Poller__Group.html#ga52e6245cfbceaed9b721a1addd29d311">ecore_poller_del</a> (<a class="el" href="group__Ecore__Poller__Group.html#ga437f925a7a71ee670bbf8cdd4a258f53">Ecore_Poller</a> *poller)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the specified poller from the timer list.  <a href="#ga52e6245cfbceaed9b721a1addd29d311"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Eo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ecore__Poller__Group.html#ga437f925a7a71ee670bbf8cdd4a258f53">Ecore_Poller</a></td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga437f925a7a71ee670bbf8cdd4a258f53"></a><!-- doxytag: member="Ecore_Common.h::Ecore_Poller" ref="ga437f925a7a71ee670bbf8cdd4a258f53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Eo <a class="el" href="group__Ecore__Poller__Group.html#ga437f925a7a71ee670bbf8cdd4a258f53">Ecore_Poller</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A handle for pollers </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga50dcd2652ba68fe4aac51c70c3fa1e2c"></a><!-- doxytag: member="Ecore_Common.h::_Ecore_Poller_Type" ref="ga50dcd2652ba68fe4aac51c70c3fa1e2c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__Ecore__Poller__Group.html#ga50dcd2652ba68fe4aac51c70c3fa1e2c">_Ecore_Poller_Type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Defines the frequency of ticks for the poller. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga50dcd2652ba68fe4aac51c70c3fa1e2ca022dfec751388e380cf01621bd0f797f"></a><!-- doxytag: member="ECORE_POLLER_CORE" ref="gga50dcd2652ba68fe4aac51c70c3fa1e2ca022dfec751388e380cf01621bd0f797f" args="" -->ECORE_POLLER_CORE</em>&nbsp;</td><td>
<p>The core poller interval </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gadd8ee7135864da4313bc88faa0a2d7c9"></a><!-- doxytag: member="Ecore_Legacy.h::ecore_poller_add" ref="gadd8ee7135864da4313bc88faa0a2d7c9" args="(Ecore_Poller_Type type, int interval, Ecore_Task_Cb func, const void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Ecore__Poller__Group.html#ga437f925a7a71ee670bbf8cdd4a258f53">Ecore_Poller</a>* <a class="el" href="group__Ecore__Poller__Group.html#gadd8ee7135864da4313bc88faa0a2d7c9">ecore_poller_add</a> </td>
          <td>(</td>
          <td class="paramtype">Ecore_Poller_Type&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Ecore__Main__Loop__Group.html#ga8a36ef1ac24bfa317a7826617264e530">Ecore_Task_Cb</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a poller to call the given function at a particular tick interval. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The ticker type to attach the poller to. Must be ECORE_POLLER_CORE. </td></tr>
    <tr><td class="paramname">interval</td><td>The poll interval. </td></tr>
    <tr><td class="paramname">func</td><td>The poller function. </td></tr>
    <tr><td class="paramname">data</td><td>Data to pass to <em>func</em> when it is called. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A poller object on success, <code>NULL</code> otherwise.</dd></dl>
<p>This function adds <em>func</em> as a poller callback that will be called every <em>interval</em> ticks together with other pollers of type <em>type</em>. <em>func</em> will be passed the <code>data</code> pointer as a parameter.</p>
<p>The <code>interval</code> must be between 1 and 32768 inclusive, and must be a power of 2 (i.e. 1, 2, 4, 8, 16, ... 16384, 32768). The exact tick in which <em>func</em> will be called is undefined, as only the interval between calls can be defined. Ecore will endeavor to keep pollers synchronized and to call as many in 1 wakeup event as possible. If <em>interval</em> is not a power of two, the closest power of 2 greater than <em>interval</em> will be used.</p>
<p>When the poller <code>func</code> is called, it must return a value of either <code>ECORE_CALLBACK_RENEW</code>(or <code>1</code>) or <code>ECORE_CALLBACK_CANCEL</code>(or <code>0</code>). If it returns <code>1</code>, it will be called again at the next tick, or if it returns <code>0</code> it will be deleted automatically making any references/handles for it invalid.</p>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3.1 </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ecore_poller_example_8c-example.html#a8">ecore_poller_example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga52e6245cfbceaed9b721a1addd29d311"></a><!-- doxytag: member="Ecore_Legacy.h::ecore_poller_del" ref="ga52e6245cfbceaed9b721a1addd29d311" args="(Ecore_Poller *poller)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="group__Ecore__Poller__Group.html#ga52e6245cfbceaed9b721a1addd29d311">ecore_poller_del</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Ecore__Poller__Group.html#ga437f925a7a71ee670bbf8cdd4a258f53">Ecore_Poller</a> *&#160;</td>
          <td class="paramname"><em>poller</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes the specified poller from the timer list. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">poller</td><td>The poller to delete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The data pointer set for the timer when <a class="el" href="group__Ecore__Poller__Group.html#gadd8ee7135864da4313bc88faa0a2d7c9">ecore_poller_add</a> was called on success, <code>NULL</code> otherwise.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd><em>poller</em> must be a valid handle. If the poller function has already returned <code>0</code>, the handle is no longer valid (and does not need to be deleted).</dd></dl>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3.1 </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ecore_poller_example_8c-example.html#a10">ecore_poller_example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga72031680ab8f5385639389ac0591e272"></a><!-- doxytag: member="Ecore_Common.h::ecore_poller_poll_interval_get" ref="ga72031680ab8f5385639389ac0591e272" args="(Ecore_Poller_Type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="group__Ecore__Poller__Group.html#ga72031680ab8f5385639389ac0591e272">ecore_poller_poll_interval_get</a> </td>
          <td>(</td>
          <td class="paramtype">Ecore_Poller_Type&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the time(in seconds) between ticks for the given poller type. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The poller type to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The time in seconds between ticks of the poller timer.</dd></dl>
<p>This will get the time between ticks of the specified poller timer.</p>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3.1 </dd></dl>

</div>
</div>
<a class="anchor" id="ga466dff0c7fb7eb0f5b4e5a3825fa10ac"></a><!-- doxytag: member="Ecore_Common.h::ecore_poller_poll_interval_set" ref="ga466dff0c7fb7eb0f5b4e5a3825fa10ac" args="(Ecore_Poller_Type type, double poll_time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__Ecore__Poller__Group.html#ga466dff0c7fb7eb0f5b4e5a3825fa10ac">ecore_poller_poll_interval_set</a> </td>
          <td>(</td>
          <td class="paramtype">Ecore_Poller_Type&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>poll_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the time(in seconds) between ticks for the given poller type. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The poller type to adjust. </td></tr>
    <tr><td class="paramname">poll_time</td><td>The time(in seconds) between ticks of the timer.</td></tr>
  </table>
  </dd>
</dl>
<p>This will adjust the time between ticks of the given timer type defined by <code>type</code> to the time period defined by <code>poll_time</code>.</p>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3.1 </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ecore_poller_example_8c-example.html#a6">ecore_poller_example.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
