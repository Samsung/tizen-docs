<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Some image object functions examples</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">4.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('Example_Evas_Images.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Some image object functions examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In this example, we add two images to a canvas, each one having a quarter of the canvas' size, positioned on the top left and bottom right corners, respectively: <div class="fragment"><pre class="fragment">   d.img1 = <a class="code" href="group__Evas__Object__Image.html#gadd901a6b181c38dc040537b3fd76fcc6">evas_object_image_add</a>(d.evas);
   <a class="code" href="group__Evas__Object__Image.html#gac27fd0ceabe5f56607b7a86d71577df1">evas_object_image_file_set</a>(d.img1, valid_path, NULL);
   err = evas_object_image_load_error_get(d.img1);
   <span class="keywordflow">if</span> (err != EVAS_LOAD_ERROR_NONE)
     {
        fprintf(stderr, <span class="stringliteral">&quot;could not load image &#39;%s&#39;. error string is \&quot;%s\&quot;\n&quot;</span>,
                valid_path, <a class="code" href="group__Evas__Utils.html#gaca3384642e5ebb32cfeab24c760c739a">evas_load_error_str</a>(err));
     }
   <span class="keywordflow">else</span>
     {
        fprintf(stdout,
                <span class="stringliteral">&quot;loaded image &#39;%s&#39; with succes! error string is \&quot;%s\&quot;\n&quot;</span>,
                valid_path, <a class="code" href="group__Evas__Utils.html#gaca3384642e5ebb32cfeab24c760c739a">evas_load_error_str</a>(err));

        <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(d.img1, 3, 3);
        <a class="code" href="group__Evas__Object__Image.html#gaf9a32e36b3446f597baf95aab37e33da">evas_object_image_fill_set</a>(d.img1, 0, 0, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(d.img1, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.img1);

        evas_object_focus_set(d.bg, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
        <a class="code" href="group__Evas__Object__Group__Events.html#ga23be30ac5cdfb780f1ff82e9108ec26b">evas_object_event_callback_add</a>(
          d.bg, <a class="code" href="group__Evas.html#ggad64cde0da38a60e7cb7905b3ab216968a336b86bad4f145f84c155e4922335584">EVAS_CALLBACK_KEY_DOWN</a>, _on_keydown, NULL);
     }

   <span class="comment">/* this is a border around the image above, here just to emphasize</span>
<span class="comment">    * its geometry */</span>
   d.border = <a class="code" href="group__Evas__Object__Image.html#ga0e8cb83d31d02bf583c75925b7cd14d7">evas_object_image_filled_add</a>(d.evas);
   <a class="code" href="group__Evas__Object__Image.html#gac27fd0ceabe5f56607b7a86d71577df1">evas_object_image_file_set</a>(d.border, border_img_path, NULL);
   evas_object_image_border_set(d.border, 3, 3, 3, 3);
   evas_object_image_border_center_fill_set(d.border, EVAS_BORDER_FILL_NONE);

   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(d.border, 0, 0);
   <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(d.border, (WIDTH / 2) + 6, (HEIGHT / 2) + 6);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.border);

   <span class="comment">/* image loading will fail for this one -- unless one cheats and</span>
<span class="comment">    * puts a valid image on that path */</span>
   d.img2 = <a class="code" href="group__Evas__Object__Image.html#gadd901a6b181c38dc040537b3fd76fcc6">evas_object_image_add</a>(d.evas);
   <a class="code" href="group__Evas__Object__Image.html#gac27fd0ceabe5f56607b7a86d71577df1">evas_object_image_file_set</a>(d.img2, bogus_path, NULL);
   err = evas_object_image_load_error_get(d.img2);
   <span class="keywordflow">if</span> (err != EVAS_LOAD_ERROR_NONE)
     {
        fprintf(stderr, <span class="stringliteral">&quot;could not load image &#39;%s&#39;: error string is \&quot;%s\&quot;\n&quot;</span>,
                bogus_path, <a class="code" href="group__Evas__Utils.html#gaca3384642e5ebb32cfeab24c760c739a">evas_load_error_str</a>(err));
     }
   <span class="keywordflow">else</span>
     {
        <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(d.img2, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Object__Image.html#gaf9a32e36b3446f597baf95aab37e33da">evas_object_image_fill_set</a>(d.img2, 0, 0, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(d.img2, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.img2);
     }

   puts(commands);
   <a class="code" href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin</a>();
</pre></div> See there is a border image around the top left one, <b>which is the one that should be displayed</b>. The other one will (on purpose) fail to load, because we set a wrong file path as image source on it:  <div class="fragment"><pre class="fragment"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *valid_path = PACKAGE_EXAMPLES_DIR EVAS_IMAGE_FOLDER <span class="stringliteral">&quot;/enlightenment.png&quot;</span>;
<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *bogus_path = <span class="stringliteral">&quot;/tmp/non-existent-220986.png&quot;</span>;
</pre></div> This is how one is supposed to test for success when binding source images to image objects: evas_object_image_load_error_get(), followed by <a class="el" href="group__Evas__Utils.html#gaca3384642e5ebb32cfeab24c760c739a">evas_load_error_str()</a>, if one wants to pretty print/log the error. We'll talk about the border image further.</p>
<p>To interact with the program, there's a command line interface. A help string can be asked for with the 'h' key:  <div class="fragment"><pre class="fragment"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *commands = \
  <span class="stringliteral">&quot;commands are:\n&quot;</span>
  <span class="stringliteral">&quot;\tx - change image&#39;s x fill coordinate\n&quot;</span>
  <span class="stringliteral">&quot;\ty - change image&#39;s y fill coordinate\n&quot;</span>
  <span class="stringliteral">&quot;\tw - change image&#39;s w fill size\n&quot;</span>
  <span class="stringliteral">&quot;\te - change image&#39;s h fill size\n&quot;</span>
  <span class="stringliteral">&quot;\tf - toggle image filled property (overrides fill)\n&quot;</span>
  <span class="stringliteral">&quot;\ta - toggle image&#39;s alpha channel usage\n&quot;</span>
  <span class="stringliteral">&quot;\tm - toggle border&#39;s smooth scaling\n&quot;</span>
  <span class="stringliteral">&quot;\tt - change border&#39;s thickness\n&quot;</span>
  <span class="stringliteral">&quot;\tb - change border&#39;s center region aspect\n&quot;</span>
  <span class="stringliteral">&quot;\tc - change border&#39;s scaling factor\n&quot;</span>
  <span class="stringliteral">&quot;\ts - print image&#39;s fill property status\n&quot;</span>
  <span class="stringliteral">&quot;\th - print help\n&quot;</span>;
</pre></div> The first four commands will change the top left images's <b>fill</b> property values, which dictate how the source image (Enlightenment's logo) is to be displayed through the image object's area. Experiment with those switches until you get the idea of evas_object_fill_set().</p>
<p>The 'f' command will toggle that image's "filled" property, which is whether it should track its size and set the fill one to fit the object's boundaries perfectly (stretching). Note that this command and the four above it will conflict: in real usage one would use one or other ways of setting an image object's viewport with regard to its image source.</p>
<p>There are four commands which deal with the border image. This red frame is there to illustrate <b>image borders</b>. The image source for the border is a solid red rectangle, with a transparent <b>rectangular</b> area in its middle. See how we use it to get a 3 pixel wide frame with <code>evas_object_image_border_set(d.border, 3, 3, 3, 3)</code>. To finish the effect of showing it as a border, we issue <code>evas_object_image_border_center_fill_set(d.border, EVAS_BORDER_FILL_NONE)</code>.</p>
<p>Use 't' to change the border's thickness. 'b' will change the border image's center region rendering schema: either a hole (no rendering), blending (see the original transparent area, in this case) or solid (the transparent area gets filled). Finally, 'c' will change the border's scaling factor.</p>
<p>While you have the border in 'blending mode', test the command 'm': it will set whether to use or not smooth scaling on the border's source image. Since the image is small originally (30 x 30), we're obviously up-scaling it (except the border pixels, do you remember?). With this last switch, you'll either see the transparent shape in the middle flat (no smoothing) or blurry (smoothed).</p>
<p>The full example follows.</p>
<div class="fragment"><pre class="fragment">
<span class="preprocessor">#ifdef HAVE_CONFIG_H</span>
<span class="preprocessor"></span><span class="preprocessor">#include &quot;config.h&quot;</span>
<span class="preprocessor">#else</span>
<span class="preprocessor"></span><span class="preprocessor">#define PACKAGE_EXAMPLES_DIR &quot;.&quot;</span>
<span class="preprocessor"></span><span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#include &lt;Ecore.h&gt;</span>
<span class="preprocessor">#include &lt;Ecore_Evas.h&gt;</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;errno.h&gt;</span>
<span class="preprocessor">#include &quot;evas-common.h&quot;</span>

<span class="preprocessor">#define WIDTH  (320)</span>
<span class="preprocessor"></span><span class="preprocessor">#define HEIGHT (240)</span>
<span class="preprocessor"></span>
<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *border_img_path = PACKAGE_EXAMPLES_DIR EVAS_IMAGE_FOLDER <span class="stringliteral">&quot;/red.png&quot;</span>;
<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *valid_path = PACKAGE_EXAMPLES_DIR EVAS_IMAGE_FOLDER <span class="stringliteral">&quot;/enlightenment.png&quot;</span>;
<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *bogus_path = <span class="stringliteral">&quot;/tmp/non-existent-220986.png&quot;</span>;
<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *commands = \
  <span class="stringliteral">&quot;commands are:\n&quot;</span>
  <span class="stringliteral">&quot;\tx - change image&#39;s x fill coordinate\n&quot;</span>
  <span class="stringliteral">&quot;\ty - change image&#39;s y fill coordinate\n&quot;</span>
  <span class="stringliteral">&quot;\tw - change image&#39;s w fill size\n&quot;</span>
  <span class="stringliteral">&quot;\te - change image&#39;s h fill size\n&quot;</span>
  <span class="stringliteral">&quot;\tf - toggle image filled property (overrides fill)\n&quot;</span>
  <span class="stringliteral">&quot;\ta - toggle image&#39;s alpha channel usage\n&quot;</span>
  <span class="stringliteral">&quot;\tm - toggle border&#39;s smooth scaling\n&quot;</span>
  <span class="stringliteral">&quot;\tt - change border&#39;s thickness\n&quot;</span>
  <span class="stringliteral">&quot;\tb - change border&#39;s center region aspect\n&quot;</span>
  <span class="stringliteral">&quot;\tc - change border&#39;s scaling factor\n&quot;</span>
  <span class="stringliteral">&quot;\ts - print image&#39;s fill property status\n&quot;</span>
  <span class="stringliteral">&quot;\th - print help\n&quot;</span>;

<span class="keyword">struct </span>test_data
{
   Ecore_Evas  *ee;
   <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a>        *evas;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *img1, *img2, *bg, *border;
};

<span class="keyword">static</span> <span class="keyword">struct </span>test_data d = {0};

<span class="keyword">static</span> <span class="keywordtype">void</span>
_on_destroy(Ecore_Evas *ee EINA_UNUSED)
{
   <a class="code" href="group__Ecore__Main__Loop__Group.html#ga95cf8e97dff0716433c2c5474d606a98">ecore_main_loop_quit</a>();
}

<span class="comment">/* here just to keep our example&#39;s window size and background image&#39;s</span>
<span class="comment"> * size in synchrony */</span>
<span class="keyword">static</span> <span class="keywordtype">void</span>
_canvas_resize_cb(Ecore_Evas *ee)
{
   <span class="keywordtype">int</span> w, h;

   <a class="code" href="group__Ecore__Evas__Group.html#ga73a19ff229ddec5e2c98ab81718008ee" title="Gets the geometry of an Ecore_Evas.">ecore_evas_geometry_get</a>(ee, NULL, NULL, &amp;w, &amp;h);
   <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(d.bg, w, h);
}

<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *
_border_fill_mode_to_str(Evas_Border_Fill_Mode mode)
{
   <span class="keywordflow">switch</span> (mode)
     {
      <span class="keywordflow">case</span> EVAS_BORDER_FILL_NONE:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;none&quot;</span>;

      <span class="keywordflow">case</span> EVAS_BORDER_FILL_DEFAULT:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;default&quot;</span>;

      <span class="keywordflow">case</span> EVAS_BORDER_FILL_SOLID:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;solid&quot;</span>;

      <span class="keywordflow">default</span>:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;invalid&quot;</span>;
     }
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_on_keydown(<span class="keywordtype">void</span>        *data EINA_UNUSED,
            <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a>        *evas EINA_UNUSED,
            <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *o EINA_UNUSED,
            <span class="keywordtype">void</span>        *einfo)
{
   <a class="code" href="struct__Evas__Event__Key__Down.html">Evas_Event_Key_Down</a> *ev = einfo;

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;h&quot;</span>) == 0) <span class="comment">/* print help */</span>
     {
        puts(commands);
        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;m&quot;</span>) == 0) <span class="comment">/* toggle border image&#39;s smooth scaling */</span>
     {
        <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> smooth_scale = <a class="code" href="group__Evas__Object__Image.html#gac0177597371f246ac377782fcc59c5be">evas_object_image_smooth_scale_get</a>(d.border);

        <a class="code" href="group__Evas__Object__Image.html#gaf79e692448eb80c39da1fd60f8db5dda">evas_object_image_smooth_scale_set</a>(d.border, !smooth_scale);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s border is now %s smooth scaling\n&quot;</span>,
                smooth_scale ? <span class="stringliteral">&quot;without&quot;</span> : <span class="stringliteral">&quot;with&quot;</span>);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;t&quot;</span>) == 0) <span class="comment">/* change border&#39;s thickness */</span>
     {
        <span class="keywordtype">int</span> l, r, t, b;

        evas_object_image_border_get(d.border, &amp;l, &amp;r, &amp;t, &amp;b);

        l = (l + 3) % 9;
        r = (r + 3) % 9;
        t = (t + 3) % 9;
        b = (b + 3) % 9;

        evas_object_image_border_set(d.border, l, r, t, b);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s border thickness is now %d\n&quot;</span>, l);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;c&quot;</span>) == 0) <span class="comment">/* change border&#39;s scaling factor */</span>
     {
        <span class="keywordtype">double</span> scale = evas_object_image_border_scale_get(d.border);

        scale *= 2;
        <span class="keywordflow">if</span> (scale &gt; 4.0) scale = 1.0;

        evas_object_image_border_scale_set(d.border, scale);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s border scaling factor is now %f\n&quot;</span>, scale);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;b&quot;</span>) == 0) <span class="comment">/* change border&#39;s center</span>
<span class="comment">                                       * region&#39;s aspect */</span>
     {
        <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> fill = \
          evas_object_image_border_center_fill_get(d.border);

        fill = (fill + 1) % 3;

        evas_object_image_border_center_fill_set(d.border, fill);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s border center region aspect is now \&quot;%s\&quot;\n&quot;</span>,
                _border_fill_mode_to_str(fill));

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;a&quot;</span>) == 0) <span class="comment">/* toggle alpha channel usage */</span>
     {
        <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> alpha = evas_object_image_alpha_get(d.img1);

        evas_object_image_alpha_set(d.img1, !alpha);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s alpha channel is now %s\n&quot;</span>,
                alpha ? <span class="stringliteral">&quot;off&quot;</span> : <span class="stringliteral">&quot;on&quot;</span>);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;f&quot;</span>) == 0) <span class="comment">/* toggle filled property */</span>
     {
        <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> filled = evas_object_image_filled_get(d.img1);

        evas_object_image_filled_set(d.img1, !filled);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s x filled property is now %s\n&quot;</span>,
                filled ? <span class="stringliteral">&quot;off&quot;</span> : <span class="stringliteral">&quot;on&quot;</span>);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;x&quot;</span>) == 0) <span class="comment">/* change x fill coordinate */</span>
     {
        <a class="code" href="group__Evas.html#ga2453e92182bad3b0e0d84e5aff433b07">Evas_Coord</a> x, y, w, h;

        <a class="code" href="group__Evas__Object__Image.html#ga12091147e3567d1714d1a6986c48f179">evas_object_image_fill_get</a>(d.img1, &amp;x, &amp;y, &amp;w, &amp;h);
        x = (x + 20) % (WIDTH / 2);
        <a class="code" href="group__Evas__Object__Image.html#gaf9a32e36b3446f597baf95aab37e33da">evas_object_image_fill_set</a>(d.img1, x, y, w, h);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s x fill coordinate changed to %d\n&quot;</span>, x);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;y&quot;</span>) == 0) <span class="comment">/* change y fill coordinate */</span>
     {
        <a class="code" href="group__Evas.html#ga2453e92182bad3b0e0d84e5aff433b07">Evas_Coord</a> x, y, w, h;

        <a class="code" href="group__Evas__Object__Image.html#ga12091147e3567d1714d1a6986c48f179">evas_object_image_fill_get</a>(d.img1, &amp;x, &amp;y, &amp;w, &amp;h);
        y = (y + 20) % (HEIGHT / 2);
        <a class="code" href="group__Evas__Object__Image.html#gaf9a32e36b3446f597baf95aab37e33da">evas_object_image_fill_set</a>(d.img1, x, y, w, h);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s y fill coordinate changed to %d\n&quot;</span>, y);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;w&quot;</span>) == 0) <span class="comment">/* change w fill size */</span>
     {
        <a class="code" href="group__Evas.html#ga2453e92182bad3b0e0d84e5aff433b07">Evas_Coord</a> x, y, w, h;

        <a class="code" href="group__Evas__Object__Image.html#ga12091147e3567d1714d1a6986c48f179">evas_object_image_fill_get</a>(d.img1, &amp;x, &amp;y, &amp;w, &amp;h);
        <span class="keywordflow">if</span> (w == (WIDTH / 4)) w = (WIDTH / 2);
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (w == WIDTH / 2) w = WIDTH;
        <span class="keywordflow">else</span> w = (WIDTH / 4);
        <a class="code" href="group__Evas__Object__Image.html#gaf9a32e36b3446f597baf95aab37e33da">evas_object_image_fill_set</a>(d.img1, x, y, w, h);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s w fill size changed to %d\n&quot;</span>, w);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;e&quot;</span>) == 0) <span class="comment">/* change h fill size */</span>
     {
        <a class="code" href="group__Evas.html#ga2453e92182bad3b0e0d84e5aff433b07">Evas_Coord</a> x, y, w, h;

        <a class="code" href="group__Evas__Object__Image.html#ga12091147e3567d1714d1a6986c48f179">evas_object_image_fill_get</a>(d.img1, &amp;x, &amp;y, &amp;w, &amp;h);
        <span class="keywordflow">if</span> (h == (HEIGHT / 4)) h = (HEIGHT / 2);
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (h == HEIGHT / 2) h = HEIGHT;
        <span class="keywordflow">else</span> h = (HEIGHT / 4);
        <a class="code" href="group__Evas__Object__Image.html#gaf9a32e36b3446f597baf95aab37e33da">evas_object_image_fill_set</a>(d.img1, x, y, w, h);

        fprintf(stdout, <span class="stringliteral">&quot;Image&#39;s h fill size changed to %d\n&quot;</span>, h);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;s&quot;</span>) == 0) <span class="comment">/* status */</span>
     {
        <a class="code" href="group__Evas.html#ga2453e92182bad3b0e0d84e5aff433b07">Evas_Coord</a> x, y, w, h;

        <a class="code" href="group__Evas__Object__Image.html#ga12091147e3567d1714d1a6986c48f179">evas_object_image_fill_get</a>(d.img1, &amp;x, &amp;y, &amp;w, &amp;h);

        fprintf(stdout, <span class="stringliteral">&quot;Image has fill properties set to: %d, %d, %d, %d\n&quot;</span>,
                x, y, w, h);

        <span class="keywordflow">return</span>;
     }
}

<span class="keywordtype">int</span>
main(<span class="keywordtype">void</span>)
{
   <span class="keywordtype">int</span> err;

   <span class="keywordflow">if</span> (!<a class="code" href="group__Ecore__Evas__Group.html#gad36db3002bbf891d28af0d6b22dda1b5" title="Inits the Ecore_Evas system.">ecore_evas_init</a>())
     <span class="keywordflow">return</span> EXIT_FAILURE;

   <span class="comment">/* this will give you a window with an Evas canvas under the first</span>
<span class="comment">    * engine available */</span>
   d.ee = ecore_evas_new(NULL, 10, 10, WIDTH, HEIGHT, NULL);
   <span class="keywordflow">if</span> (!d.ee)
     <span class="keywordflow">goto</span> error;

   <a class="code" href="group__Ecore__Evas__Group.html#ga882987a24bee767814a936d15bc6a188" title="Sets a callback for Ecore_Evas destroy events.">ecore_evas_callback_destroy_set</a>(d.ee, _on_destroy);
   <a class="code" href="group__Ecore__Evas__Group.html#ga735c0c2fb597f34b096ec0f43fc3a7ac" title="Sets a callback for Ecore_Evas resize events.">ecore_evas_callback_resize_set</a>(d.ee, _canvas_resize_cb);
   <a class="code" href="group__Ecore__Evas__Group.html#gaaea54d6b6ab85ac2f3355052d04e487e" title="Shows an Ecore_Evas&#39; window.">ecore_evas_show</a>(d.ee);

   <span class="comment">/* the canvas pointer, de facto */</span>
   d.evas = <a class="code" href="group__Ecore__Evas__Group.html#ga21b6108d757f0aea6c4126d59cfb8826" title="Gets an Ecore_Evas&#39;s Evas.">ecore_evas_get</a>(d.ee);

   d.bg = <a class="code" href="group__Evas__Object__Rectangle.html#ga4d80fc32ad1cac28428cebd65d746751">evas_object_rectangle_add</a>(d.evas);
   <a class="code" href="group__Evas__Font__Group.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(d.bg, 255, 255, 255, 255); <span class="comment">/* white bg */</span>
   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(d.bg, 0, 0); <span class="comment">/* at canvas&#39; origin */</span>
   <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(d.bg, WIDTH, HEIGHT); <span class="comment">/* covers full canvas */</span>
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.bg);

   d.img1 = <a class="code" href="group__Evas__Object__Image.html#gadd901a6b181c38dc040537b3fd76fcc6">evas_object_image_add</a>(d.evas);
   <a class="code" href="group__Evas__Object__Image.html#gac27fd0ceabe5f56607b7a86d71577df1">evas_object_image_file_set</a>(d.img1, valid_path, NULL);
   err = evas_object_image_load_error_get(d.img1);
   <span class="keywordflow">if</span> (err != EVAS_LOAD_ERROR_NONE)
     {
        fprintf(stderr, <span class="stringliteral">&quot;could not load image &#39;%s&#39;. error string is \&quot;%s\&quot;\n&quot;</span>,
                valid_path, <a class="code" href="group__Evas__Utils.html#gaca3384642e5ebb32cfeab24c760c739a">evas_load_error_str</a>(err));
     }
   <span class="keywordflow">else</span>
     {
        fprintf(stdout,
                <span class="stringliteral">&quot;loaded image &#39;%s&#39; with succes! error string is \&quot;%s\&quot;\n&quot;</span>,
                valid_path, <a class="code" href="group__Evas__Utils.html#gaca3384642e5ebb32cfeab24c760c739a">evas_load_error_str</a>(err));

        <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(d.img1, 3, 3);
        <a class="code" href="group__Evas__Object__Image.html#gaf9a32e36b3446f597baf95aab37e33da">evas_object_image_fill_set</a>(d.img1, 0, 0, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(d.img1, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.img1);

        evas_object_focus_set(d.bg, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
        <a class="code" href="group__Evas__Object__Group__Events.html#ga23be30ac5cdfb780f1ff82e9108ec26b">evas_object_event_callback_add</a>(
          d.bg, <a class="code" href="group__Evas.html#ggad64cde0da38a60e7cb7905b3ab216968a336b86bad4f145f84c155e4922335584">EVAS_CALLBACK_KEY_DOWN</a>, _on_keydown, NULL);
     }

   <span class="comment">/* this is a border around the image above, here just to emphasize</span>
<span class="comment">    * its geometry */</span>
   d.border = <a class="code" href="group__Evas__Object__Image.html#ga0e8cb83d31d02bf583c75925b7cd14d7">evas_object_image_filled_add</a>(d.evas);
   <a class="code" href="group__Evas__Object__Image.html#gac27fd0ceabe5f56607b7a86d71577df1">evas_object_image_file_set</a>(d.border, border_img_path, NULL);
   evas_object_image_border_set(d.border, 3, 3, 3, 3);
   evas_object_image_border_center_fill_set(d.border, EVAS_BORDER_FILL_NONE);

   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(d.border, 0, 0);
   <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(d.border, (WIDTH / 2) + 6, (HEIGHT / 2) + 6);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.border);

   <span class="comment">/* image loading will fail for this one -- unless one cheats and</span>
<span class="comment">    * puts a valid image on that path */</span>
   d.img2 = <a class="code" href="group__Evas__Object__Image.html#gadd901a6b181c38dc040537b3fd76fcc6">evas_object_image_add</a>(d.evas);
   <a class="code" href="group__Evas__Object__Image.html#gac27fd0ceabe5f56607b7a86d71577df1">evas_object_image_file_set</a>(d.img2, bogus_path, NULL);
   err = evas_object_image_load_error_get(d.img2);
   <span class="keywordflow">if</span> (err != EVAS_LOAD_ERROR_NONE)
     {
        fprintf(stderr, <span class="stringliteral">&quot;could not load image &#39;%s&#39;: error string is \&quot;%s\&quot;\n&quot;</span>,
                bogus_path, <a class="code" href="group__Evas__Utils.html#gaca3384642e5ebb32cfeab24c760c739a">evas_load_error_str</a>(err));
     }
   <span class="keywordflow">else</span>
     {
        <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(d.img2, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Object__Image.html#gaf9a32e36b3446f597baf95aab37e33da">evas_object_image_fill_set</a>(d.img2, 0, 0, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(d.img2, WIDTH / 2, HEIGHT / 2);
        <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.img2);
     }

   puts(commands);
   <a class="code" href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin</a>();

   <a class="code" href="group__Ecore__Evas__Group.html#ga68f83d423894b2797e8e693376921161" title="Frees an Ecore_Evas.">ecore_evas_free</a>(d.ee);
   <a class="code" href="group__Ecore__Evas__Group.html#gab1a47c09b475148c037c0a3d68644fa4" title="Shuts down the Ecore_Evas system.">ecore_evas_shutdown</a>();
   <span class="keywordflow">return</span> 0;

error:
   fprintf(stderr, <span class="stringliteral">&quot;you got to have at least one evas engine built and linked&quot;</span>
                   <span class="stringliteral">&quot; up to ecore-evas for this example to run properly.\n&quot;</span>);
   <a class="code" href="group__Ecore__Evas__Group.html#gab1a47c09b475148c037c0a3d68644fa4" title="Shuts down the Ecore_Evas system.">ecore_evas_shutdown</a>();
   <span class="keywordflow">return</span> -1;
}
</pre></div> </div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
