<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: System Information Plugin Interface</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">10.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__CAPI__SYSTEM__SYSTEM__INFO__PLUGIN__MODULE.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">System Information Plugin Interface</div>  </div>
<div class="ingroups"><a class="el" href="group__CAPI__SYSTEM__SYSTEM__INFO__INTERNAL__MODULE.html">System Information Internal</a></div></div><!--header-->
<div class="contents">
<p>The System Information Plugin API provides internal interfaces for implementing system information plugins. This section provides internal documentation for system information plugin development including complete implementation examples. </p>
<h2><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_HEADER"></a>
Required Header</h2>
<p>#include &lt;system_info_intf.h&gt;</p>
<h2><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_OVERVIEW"></a>
Overview</h2>
<p>The System Information Plugin API provides internal interfaces that allow OEMs and vendors to implement custom system information plugins. These plugins enable the extension of system information capabilities by adding custom key/value pairs that are not part of the standard Tizen platform.</p>
<h2><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_CUSTOM_KEYS"></a>
Custom Keys</h2>
<p>Custom keys are system information keys that are defined and implemented by OEMs or vendors, rather than being part of the standard Tizen platform. These keys allow device manufacturers to provide device-specific information that can be accessed through the System Information API.</p>
<p>Features of custom keys:</p>
<ul>
<li>Custom keys are defined using the "custom" tag (<code>TAG_CUSTOM</code>)</li>
<li>They support various data types: boolean (<code>TYPE_BOOL</code>), integer (<code>TYPE_INT</code>), double (<code>TYPE_DBL</code>), and string (<code>TYPE_STR</code>)</li>
<li>Custom keys are accessed through the same System Information API functions as platform keys, but with the "custom" tag</li>
<li>The implementation of custom keys is done through external plugins that implement the <code>system_info_external_plugin_interface</code> </li>
</ul>
<p>To implement a custom system information plugin:</p>
<ol type="1">
<li>Implement the <code>get_value_external</code> function pointer to retrieve values for custom keys</li>
<li>Implement the <code>get_type_external</code> function pointer to return the data type of custom keys</li>
<li>Register the plugin interface with the system information framework</li>
</ol>
<dl class="note"><dt><b>Note:</b></dt><dd>This interface is intended for internal use by OEMs and vendors implementing system information plugins. Application developers should use the public System Information API functions instead.</dd></dl>
<h2><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_BUFFER_REQUIREMENTS"></a>
Buffer Value Format Requirements</h2>
<p>All getter functions in system information plugins must store values as strings in the provided buffer, regardless of the actual data type. This is a critical requirement that all plugin implementations must follow:</p>
<ul>
<li>For boolean values: store "true" or "TRUE" for true, any other string for false</li>
<li>For integer values: store the integer as a string (e.g., "42")</li>
<li>For double values: store the double as a string (e.g., "3.14")</li>
<li>For string values: store the string directly</li>
</ul>
<p>This string-based approach allows the system information framework to handle all data types uniformly and provides flexibility for data representation.</p>
<h2><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_BOOLEAN_HANDLING"></a>
Boolean Type Handling</h2>
<p>For boolean type keys, the System Information API has specific handling requirements:</p>
<ul>
<li>Only "true" or "TRUE" (case-sensitive) are recognized as true values</li>
<li>All other string values (including "false", "FALSE", "0", "1", etc.) are interpreted as false</li>
</ul>
<h2><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_IMPLEMENTATION_EXAMPLE"></a>
Complete Plugin Implementation Example</h2>
<p>The following example demonstrates a complete system information plugin implementation that provides custom device information keys. This example shows how to implement static device information keys that don't change at runtime.</p>
<h3><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_EXAMPLE_FILE_STRUCTURE"></a>
File Structure</h3>
<p>A typical system information plugin consists of a single implementation file:</p>
<ul>
<li>system_info_plugin_example.c - Main plugin implementation with getter functions</li>
</ul>
<h3><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_EXAMPLE_COMPLETE_CODE"></a>
Complete Implementation Code</h3>
<div class="fragment"><pre class="fragment"> {.c}
<span class="preprocessor"> #include &lt;stdio.h&gt;</span>
<span class="preprocessor"> #include &lt;stdlib.h&gt;</span>
<span class="preprocessor"> #include &lt;string.h&gt;</span>
<span class="preprocessor"> #include &lt;system_info.h&gt;</span>
<span class="preprocessor"> #include &lt;system_info_intf.h&gt;</span>

 <span class="comment">// Custom key prefix for this plugin</span>
<span class="preprocessor"> #define CUSTOM_EXAMPLE_KEY_PREFIX &quot;http://example.com/system&quot;</span>
<span class="preprocessor"></span>
 <span class="comment">// Key getter function prototypes</span>
 <span class="keyword">static</span> <span class="keywordtype">int</span> system_info_plugin_get_device_has_fingerprint_sensor(<span class="keywordtype">char</span> *val, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> buf_size);
 <span class="keyword">static</span> <span class="keywordtype">int</span> system_info_plugin_get_device_max_core_count(<span class="keywordtype">char</span> *val, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> buf_size);
 <span class="keyword">static</span> <span class="keywordtype">int</span> system_info_plugin_get_device_hardware_version(<span class="keywordtype">char</span> *val, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> buf_size);

 <span class="comment">// Plugin key list structure</span>
 <span class="keyword">struct </span>system_info_plugin_key {
     <span class="keyword">const</span> <span class="keywordtype">char</span> *key;
     <span class="keyword">const</span> <span class="keywordtype">char</span> *type;
     int (*get_value)(<span class="keywordtype">char</span> *buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
 };

 <span class="comment">// Define supported custom keys (only static device information)</span>
 <span class="keyword">static</span> <span class="keyword">struct </span>system_info_plugin_key system_info_plugin_key_list[] = {
     { CUSTOM_EXAMPLE_KEY_PREFIX<span class="stringliteral">&quot;/device.has_fingerprint_sensor&quot;</span>, TYPE_BOOL, system_info_plugin_get_device_has_fingerprint_sensor },
     { CUSTOM_EXAMPLE_KEY_PREFIX<span class="stringliteral">&quot;/device.max_core_count&quot;</span>, TYPE_INT, system_info_plugin_get_device_max_core_count },
     { CUSTOM_EXAMPLE_KEY_PREFIX<span class="stringliteral">&quot;/device.hardware_version&quot;</span>, TYPE_STR, system_info_plugin_get_device_hardware_version },
 };

 <span class="comment">// Find key in the key list</span>
 <span class="keyword">static</span> <span class="keyword">struct </span>system_info_plugin_key *system_info_plugin_find_key(<span class="keyword">const</span> <span class="keywordtype">char</span> *key)
 {
     <span class="keywordtype">int</span> elem;
     <span class="keywordtype">int</span> len = <span class="keyword">sizeof</span>(system_info_plugin_key_list) / <span class="keyword">sizeof</span>(<span class="keyword">struct</span> system_info_plugin_key);

     <span class="keywordflow">for</span> (elem = 0; elem &lt; len; elem++)
         <span class="keywordflow">if</span> (!strncmp(key, system_info_plugin_key_list[elem].key, strlen(key) + 1))
             <span class="keywordflow">return</span> &amp;system_info_plugin_key_list[elem];

     <span class="keywordflow">return</span> NULL;
 }

 <span class="comment">// Get value for a custom key</span>
 <span class="keyword">static</span> <span class="keywordtype">int</span> system_info_plugin_get_value(<span class="keyword">const</span> <span class="keywordtype">char</span> *tag, <span class="keyword">const</span> <span class="keywordtype">char</span> *key, <span class="keyword">const</span> <span class="keywordtype">char</span> *type, <span class="keywordtype">char</span> *buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len)
 {
     <span class="keywordtype">int</span> ret;
     <span class="keyword">struct </span>system_info_plugin_key *elem = system_info_plugin_find_key(key);

     <span class="keywordflow">if</span> (!elem || !elem-&gt;type)
         <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892ba8c66e12cca582116efd5a155628b2dd9">SYSTEM_INFO_ERROR_INVALID_PARAMETER</a>;

     ret = elem-&gt;get_value(buf, len);
     <span class="keywordflow">if</span> (ret != <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>)
         <span class="keywordflow">return</span> ret;

     <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>;
 }

 <span class="comment">// Get type for a custom key</span>
 <span class="keyword">static</span> <span class="keywordtype">int</span> system_info_plugin_get_type(<span class="keyword">const</span> <span class="keywordtype">char</span> *tag, <span class="keyword">const</span> <span class="keywordtype">char</span> *key, <span class="keywordtype">char</span> *buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len)
 {
     <span class="keyword">struct </span>system_info_plugin_key *elem = system_info_plugin_find_key(key);

     <span class="keywordflow">if</span> (!elem || !elem-&gt;type)
         <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892ba8c66e12cca582116efd5a155628b2dd9">SYSTEM_INFO_ERROR_INVALID_PARAMETER</a>;

     snprintf(buf, len, <span class="stringliteral">&quot;%s&quot;</span>, elem-&gt;type);
     <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>;
 }

 <span class="comment">// Get device fingerprint sensor support (boolean type)</span>
 <span class="keywordtype">int</span> system_info_plugin_get_device_has_fingerprint_sensor(<span class="keywordtype">char</span> *val, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> buf_size)
 {
     <span class="keywordflow">if</span> (buf_size &lt; 6) { <span class="comment">// Enough for &quot;true&quot; or &quot;false&quot;</span>
         <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892ba8c66e12cca582116efd5a155628b2dd9">SYSTEM_INFO_ERROR_INVALID_PARAMETER</a>;
     }

     <span class="comment">// Example: Check if fingerprint sensor device file exists</span>
     FILE *fp = fopen(<span class="stringliteral">&quot;/sys/class/fingerprint/fingerprint0/present&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);
     <span class="keywordflow">if</span> (fp) {
         fclose(fp);
         snprintf(val, buf_size, <span class="stringliteral">&quot;true&quot;</span>); <span class="comment">// Must be exactly &quot;true&quot; or &quot;TRUE&quot;</span>
     } <span class="keywordflow">else</span> {
         snprintf(val, buf_size, <span class="stringliteral">&quot;false&quot;</span>);
     }

     <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>;
 }

 <span class="comment">// Get device max core count (integer type)</span>
 <span class="keywordtype">int</span> system_info_plugin_get_device_max_core_count(<span class="keywordtype">char</span> *val, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> buf_size)
 {
     <span class="keywordflow">if</span> (buf_size &lt; 4) { <span class="comment">// Enough for up to 3 digits + null terminator</span>
         <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892ba8c66e12cca582116efd5a155628b2dd9">SYSTEM_INFO_ERROR_INVALID_PARAMETER</a>;
     }

     <span class="comment">// Example: Read from CPU info</span>
     FILE *fp = fopen(<span class="stringliteral">&quot;/sys/devices/system/cpu/present&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);
     <span class="keywordflow">if</span> (!fp) {
         snprintf(val, buf_size, <span class="stringliteral">&quot;4&quot;</span>); <span class="comment">// Default value</span>
         <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>;
     }

     <span class="keywordtype">char</span> range[32];
     <span class="keywordflow">if</span> (!fgets(range, <span class="keyword">sizeof</span>(range), fp)) {
         fclose(fp);
         snprintf(val, buf_size, <span class="stringliteral">&quot;4&quot;</span>); <span class="comment">// Default value</span>
         <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>;
     }

     fclose(fp);

     <span class="comment">// Parse range like &quot;0-3&quot; to get core count (4 cores)</span>
     <span class="keywordtype">int</span> start, end;
     <span class="keywordflow">if</span> (sscanf(range, <span class="stringliteral">&quot;%d-%d&quot;</span>, &amp;start, &amp;end) == 2) {
         snprintf(val, buf_size, <span class="stringliteral">&quot;%d&quot;</span>, end + 1);
     } <span class="keywordflow">else</span> {
         snprintf(val, buf_size, <span class="stringliteral">&quot;4&quot;</span>); <span class="comment">// Default value</span>
     }

     <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>;
 }

 <span class="comment">// Get device hardware version (string type)</span>
 <span class="keywordtype">int</span> system_info_plugin_get_device_hardware_version(<span class="keywordtype">char</span> *val, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> buf_size)
 {
     <span class="keywordflow">if</span> (buf_size &lt; 16) {
         <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892ba8c66e12cca582116efd5a155628b2dd9">SYSTEM_INFO_ERROR_INVALID_PARAMETER</a>;
     }

     <span class="comment">// Example: Read from system property</span>
     <span class="keywordtype">char</span> *hw_version = getenv(<span class="stringliteral">&quot;HW_VERSION&quot;</span>);
     <span class="keywordflow">if</span> (!hw_version) {
         snprintf(val, buf_size, <span class="stringliteral">&quot;1.0.0&quot;</span>); <span class="comment">// Default version</span>
     } <span class="keywordflow">else</span> {
         snprintf(val, buf_size, <span class="stringliteral">&quot;%s&quot;</span>, hw_version);
     }

     <span class="keywordflow">return</span> <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>;
 }

 <span class="comment">// Plugin interface definition</span>
 <span class="keyword">static</span> <span class="keyword">const</span> system_info_external_plugin_interface <span class="keyword">interface </span>= {
     .get_value_external = system_info_plugin_get_value,
     .get_type_external = system_info_plugin_get_type
 };

 <span class="comment">// Plugin interface accessor function</span>
 <span class="keyword">const</span> system_info_external_plugin_interface *system_info_get_external_plugin_interface(<span class="keywordtype">void</span>)
 {
     <span class="keywordflow">return</span> &amp;interface;
 }
</pre></div><h3><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_EXAMPLE_USAGE"></a>
Usage Example</h3>
<p>After implementing the plugin, you can access custom keys using the System Information API: </p>
<div class="fragment"><pre class="fragment"> {.c}
<span class="preprocessor"> #include &lt;system_info.h&gt;</span>
<span class="preprocessor"> #include &lt;stdio.h&gt;</span>
<span class="preprocessor"> #include &lt;stdlib.h&gt;</span>

 <span class="keywordtype">int</span> main()
 {
     <span class="keywordtype">char</span> *str_value = NULL;
     <span class="keywordtype">int</span> int_value;
     <span class="keywordtype">bool</span> bool_value;
     <span class="keywordtype">int</span> ret;

     <span class="comment">// Get device fingerprint sensor support (boolean)</span>
     ret = <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#ga12f2d59d686018e5cf710db42e8b8b1b" title="Gets the boolean type value of the custom feature.">system_info_get_custom_bool</a>(<span class="stringliteral">&quot;http://example.com/system/device.has_fingerprint_sensor&quot;</span>, &amp;bool_value);
     <span class="keywordflow">if</span> (ret == <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>) {
         printf(<span class="stringliteral">&quot;Device Has Fingerprint Sensor: %s\n&quot;</span>, bool_value ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);
     }

     <span class="comment">// Get device max core count (integer)</span>
     ret = <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#ga73f91922e1de410eda1b51fb76595a58" title="Gets the integer type value of the custom feature.">system_info_get_custom_int</a>(<span class="stringliteral">&quot;http://example.com/system/device.max_core_count&quot;</span>, &amp;int_value);
     <span class="keywordflow">if</span> (ret == <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>) {
         printf(<span class="stringliteral">&quot;Device Max Core Count: %d\n&quot;</span>, int_value);
     }

     <span class="comment">// Get device hardware version (string)</span>
     ret = <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#ga993e06092e7e6fb849e9158dae199ec4" title="Gets the string type value of the custom feature.">system_info_get_custom_string</a>(<span class="stringliteral">&quot;http://example.com/system/device.hardware_version&quot;</span>, &amp;str_value);
     <span class="keywordflow">if</span> (ret == <a class="code" href="group__CAPI__SYSTEM__SYSTEM__INFO__MODULE.html#gga6cb93ae86544ff092bc7cad28b38892bac97d3bfaf7c8fb16b34803490f25267a">SYSTEM_INFO_ERROR_NONE</a>) {
         printf(<span class="stringliteral">&quot;Device Hardware Version: %s\n&quot;</span>, str_value);
         free(str_value);
     }

     <span class="keywordflow">return</span> 0;
 }
</pre></div><h3><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_BUILD_COMPILE"></a>
Compiling the Plugin</h3>
<p>Compile the plugin as a shared library: </p>
<div class="fragment"><pre class="fragment"> {.sh}
 gcc -fPIC -shared $(pkg-config --cflags --libs capi-system-info-plugin) \
     system_info_plugin_example.c -o libsystem-info-plugin-example.so
</pre></div><p>When using other build systems, you must also add the equivalent compiler and linker flags provided by capi-system-info-plugin.pc.</p>
<h3><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_BUILD_INSTALL"></a>
Installing the Plugin</h3>
<p>The plugin library must be installed in one of the following locations to be recognized by the system:</p>
<p>1. Install as a single external plugin library: </p>
<div class="fragment"><pre class="fragment"> {.sh}
 cp libsystem-info-plugin-example.so /usr/lib/libsystem-info-external-plugin.so
<span class="preprocessor"> # or</span>
<span class="preprocessor"> cp libsystem-info-plugin-example.so /usr/lib64/libsystem-info-external-plugin.so</span>
</pre></div><p>2. Or install in the plugins directory: </p>
<div class="fragment"><pre class="fragment"> {.sh}
 cp libsystem-info-plugin-example.so /usr/lib/libsystem_info_plugins/
<span class="preprocessor"> # or</span>
<span class="preprocessor"> cp libsystem-info-plugin-example.so /usr/lib64/libsystem_info_plugins/</span>
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>The plugin filename must have the .so extension to be recognized as a shared library.</dd>
<dd>
The system information searches for custom keys in the following order: 1. First, it searches the <code>/usr/lib/libsystem-info-external-plugin</code>.so 2. Then, it searches the plugins directory, <code>/usr/lib/libsystem_info_plugins/</code>, for libraries in alphabetical order by filename</dd></dl>
<h2><a class="anchor" id="CAPI_SYSTEM_SYSTEM_INFO_PLUGIN_MODULE_IMPORTANT_NOTES"></a>
Important Implementation Notes</h2>
<ul>
<li>The plugin must be compiled as a shared library with the .so extension</li>
<li>The plugin must export the <code>system_info_get_external_plugin_interface</code> function that returns a pointer to the plugin interface structure</li>
<li>The plugin interface accessor function name must be exactly <code>system_info_get_external_plugin_interface</code> for the system information framework to properly load and recognize the plugin</li>
<li>All getter functions must return <code>SYSTEM_INFO_ERROR_NONE</code> on success</li>
<li>Buffer size validation should be performed in all getter functions</li>
<li>Error handling should follow the System Information API error codes</li>
<li>The plugin should provide static device information that doesn't change at runtime</li>
<li>All values must be stored as strings regardless of data type (see Buffer Value Format Requirements section)</li>
<li>Boolean values must be exactly "true" or "TRUE" to be recognized as true (see Boolean Type Handling section) </li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
