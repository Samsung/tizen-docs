<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Evas text object example</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">5.5</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('Example_Evas_Text.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Evas text object example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In this example, we illustrate how to use text objects in various manners.</p>
<p>We place, in the canvas, a text object along with a border image to delimit its geometry. After we instantiate the text object, we set lots of properties on it to the initial ones from a preset list, which has the following declaration:  <div class="fragment"><pre class="fragment">   <span class="comment">/* init values one is going to cycle through while running this</span>
<span class="comment">    * example */</span>
   <span class="keyword">struct </span>text_preset_data init_data =
   {
      .font = {<span class="stringliteral">&quot;DejaVu&quot;</span>, <span class="stringliteral">&quot;Courier&quot;</span>, <span class="stringliteral">&quot;Utopia&quot;</span>},
      .text = {BLACK, WHITE, GREY, RED, GREEN, BLUE},
      .shadow = {WHITE, BLUE, GREEN, RED},
      .outline = {WHITE, RED, GREEN, BLUE},
      .glow = {WHITE, BLUE, GREEN, RED},
      .glow2 = {WHITE, RED, BLUE, GREEN}
   };
</pre></div></p>
<p>Then, we set the text string itself, on it, with evas_object_text_text_set(). We set an explicit size of 30 points for our font, as you could see, what we check back with the getter evas_object_text_font_get().</p>
<p>Look at how it translates to code:  <div class="fragment"><pre class="fragment">   d.text = <a class="code" href="group__Evas__Object__Text.html#ga72224822cf1772ef16b1554f0a6205d5">evas_object_text_add</a>(d.evas);
   evas_object_text_style_set(d.text, EVAS_TEXT_STYLE_PLAIN);

   <span class="comment">/* let the pre-set things be enforced */</span>
   <a class="code" href="group__Evas__Object__Group__Basic.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(
     d.text, d.t_data.text_ptr-&gt;r, d.t_data.text_ptr-&gt;g,
     d.t_data.text_ptr-&gt;b, d.t_data.text_ptr-&gt;a);

   evas_object_text_glow_color_set(
     d.text, d.t_data.glow_ptr-&gt;r, d.t_data.glow_ptr-&gt;g,
     d.t_data.glow_ptr-&gt;b, d.t_data.glow_ptr-&gt;a);

   evas_object_text_glow2_color_set(
     d.text, d.t_data.glow2_ptr-&gt;r, d.t_data.glow2_ptr-&gt;g,
     d.t_data.glow2_ptr-&gt;b, d.t_data.glow2_ptr-&gt;a);

   evas_object_text_outline_color_set(
     d.text, d.t_data.outline_ptr-&gt;r, d.t_data.outline_ptr-&gt;g,
     d.t_data.outline_ptr-&gt;b, d.t_data.outline_ptr-&gt;a);

   evas_object_text_shadow_color_set(
     d.text, d.t_data.shadow_ptr-&gt;r, d.t_data.shadow_ptr-&gt;g,
     d.t_data.shadow_ptr-&gt;b, d.t_data.shadow_ptr-&gt;a);

   evas_object_text_font_set(d.text, *d.t_data.font_ptr, 30);
   evas_object_text_text_set(d.text, <span class="stringliteral">&quot;sample text&quot;</span>);

   evas_object_resize(d.text, (3 * WIDTH) / 4, HEIGHT / 4);
   evas_object_move(d.text, WIDTH / 8, (3 * HEIGHT) / 8);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.text);

   evas_object_text_font_get(d.text, &amp;font, &amp;size);
   printf(<span class="stringliteral">&quot;Adding text object with font %s, size %d\n&quot;</span>, font, size);

   <span class="comment">/* this is a border around the text object above, here just to</span>
<span class="comment">    * emphasize its geometry */</span>
   d.border = evas_object_image_filled_add(d.evas);
   evas_object_image_file_set(d.border, border_img_path, NULL);
   evas_object_image_border_set(d.border, 3, 3, 3, 3);
   evas_object_image_border_center_fill_set(d.border, EVAS_BORDER_FILL_NONE);

   evas_object_resize(d.border, ((3 * WIDTH) / 4) + 3, (HEIGHT / 4) + 3);
   evas_object_move(d.border, (WIDTH / 8) - 3, ((3 * HEIGHT) / 8) - 3);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.border);

   printf(<span class="stringliteral">&quot;%s&quot;</span>, commands);
   <a class="code" href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin</a>();

   <a class="code" href="group__Ecore__Evas__Group.html#ga68f83d423894b2797e8e693376921161" title="Frees an Ecore_Evas.">ecore_evas_free</a>(d.ee);
   <a class="code" href="group__Ecore__Evas__Group.html#gab1a47c09b475148c037c0a3d68644fa4" title="Shuts down the Ecore_Evas system.">ecore_evas_shutdown</a>();
   <span class="keywordflow">return</span> 0;

error:
   fprintf(stderr, <span class="stringliteral">&quot;error: Requires at least one Evas engine built and linked&quot;</span>
</pre></div></p>
<p>Like in other Evas examples, one interacts with it by means of key commands:  <div class="fragment"><pre class="fragment"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *commands = \
  <span class="stringliteral">&quot;commands are:\n&quot;</span>
  <span class="stringliteral">&quot;\tt - change text&#39;s current style\n&quot;</span>
  <span class="stringliteral">&quot;\tz - change text&#39;s font size\n&quot;</span>
  <span class="stringliteral">&quot;\tf - change text&#39;s font family\n&quot;</span>
  <span class="stringliteral">&quot;\tb - change text&#39;s base color\n&quot;</span>
  <span class="stringliteral">&quot;\ts - change text&#39;s \&#39;shadow\&#39; color\n&quot;</span>
  <span class="stringliteral">&quot;\to - change text&#39;s \&#39;outline\&#39; color\n&quot;</span>
  <span class="stringliteral">&quot;\tw - change text&#39;s \&#39;glow\&#39; color\n&quot;</span>
  <span class="stringliteral">&quot;\tg - change text&#39;s \&#39;glow 2\&#39; color\n&quot;</span>
  <span class="stringliteral">&quot;\th - print help\n&quot;</span>;
</pre></div></p>
<p>Use the 't' key to exercise the evas_object_text_style_set() function on the text -- it will cycle through all styles on #Evas_Text_Style_Type (note we start on #EVAS_TEXT_STYLE_PLAIN, thus with no effects on it) and, with other keys, you'll be able to set properties applicable to individual styles on the text object.</p>
<p>The 'z' key will change the text's <b>size</b>, keeping the font family for it. Use 'f' to change the font, keeping the last size set. There are three font families the example will cycle through:</p>
<p>The 'b' command shows us that <a class="el" href="group__Evas__Object__Group__Basic.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set()</a>, on a given text object, will change the text's <b>base</b> color. Experiment with it, which will cycle through the colors in the <code>.text</code> list in <code>init_data</code>.</p>
<p>The 's', 'o', 'w' and 'g' keys will make the text object to cycle to the preset values on colors for shadow, outline, glow and 'glow 2' effects, respectively. Naturally, they will only take effect on the text styles which resemble them.</p>
<p>The full example follows.</p>
<div class="fragment"><pre class="fragment">
<span class="preprocessor">#ifdef HAVE_CONFIG_H</span>
<span class="preprocessor"></span><span class="preprocessor">#include &quot;config.h&quot;</span>
<span class="preprocessor">#else</span>
<span class="preprocessor"></span><span class="preprocessor">#define PACKAGE_EXAMPLES_DIR &quot;.&quot;</span>
<span class="preprocessor"></span><span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#include &lt;Ecore.h&gt;</span>
<span class="preprocessor">#include &lt;Ecore_Evas.h&gt;</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;errno.h&gt;</span>

<span class="preprocessor">#define WIDTH  (320)</span>
<span class="preprocessor"></span><span class="preprocessor">#define HEIGHT (240)</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define GREY {190, 190, 190, 255}</span>
<span class="preprocessor"></span><span class="preprocessor">#define BLACK {0, 0, 0, 255}</span>
<span class="preprocessor"></span><span class="preprocessor">#define WHITE {255, 255, 255, 255}</span>
<span class="preprocessor"></span><span class="preprocessor">#define RED   {255, 0, 0, 255}</span>
<span class="preprocessor"></span><span class="preprocessor">#define GREEN {0, 255, 0, 255}</span>
<span class="preprocessor"></span><span class="preprocessor">#define BLUE  {0, 0, 255, 255}</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define POINTER_CYCLE(_ptr, _array)                             \</span>
<span class="preprocessor">  do                                                            \</span>
<span class="preprocessor">    {                                                           \</span>
<span class="preprocessor">       if ((unsigned int)(((unsigned char *)(_ptr)) - ((unsigned char *)(_array))) &gt;= \</span>
<span class="preprocessor">           sizeof(_array))                                      \</span>
<span class="preprocessor">         _ptr = _array;                                         \</span>
<span class="preprocessor">    }                                                           \</span>
<span class="preprocessor">  while(0)</span>
<span class="preprocessor"></span>
<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *commands = \
  <span class="stringliteral">&quot;commands are:\n&quot;</span>
  <span class="stringliteral">&quot;\tt - change text&#39;s current style\n&quot;</span>
  <span class="stringliteral">&quot;\tz - change text&#39;s font size\n&quot;</span>
  <span class="stringliteral">&quot;\tf - change text&#39;s font family\n&quot;</span>
  <span class="stringliteral">&quot;\tb - change text&#39;s base color\n&quot;</span>
  <span class="stringliteral">&quot;\ts - change text&#39;s \&#39;shadow\&#39; color\n&quot;</span>
  <span class="stringliteral">&quot;\to - change text&#39;s \&#39;outline\&#39; color\n&quot;</span>
  <span class="stringliteral">&quot;\tw - change text&#39;s \&#39;glow\&#39; color\n&quot;</span>
  <span class="stringliteral">&quot;\tg - change text&#39;s \&#39;glow 2\&#39; color\n&quot;</span>
  <span class="stringliteral">&quot;\th - print help\n&quot;</span>;

<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *border_img_path = PACKAGE_EXAMPLES_DIR <span class="stringliteral">&quot;/red.png&quot;</span>;

<span class="keyword">struct </span>color_tuple
{
   <span class="keywordtype">int</span> r, g, b, a;
};

<span class="keyword">struct </span>text_preset_data
{
   <span class="keyword">const</span> <span class="keywordtype">char</span>        **font_ptr;
   <span class="keyword">const</span> <span class="keywordtype">char</span>         *font[3];

   <span class="keyword">struct </span>color_tuple *text_ptr;
   <span class="keyword">struct </span>color_tuple  text[6];

   <span class="keyword">struct </span>color_tuple *shadow_ptr;
   <span class="keyword">struct </span>color_tuple  shadow[4];

   <span class="keyword">struct </span>color_tuple *outline_ptr;
   <span class="keyword">struct </span>color_tuple  outline[4];

   <span class="keyword">struct </span>color_tuple *glow_ptr;
   <span class="keyword">struct </span>color_tuple  glow[4];

   <span class="keyword">struct </span>color_tuple *glow2_ptr;
   <span class="keyword">struct </span>color_tuple  glow2[4];
};

<span class="keyword">struct </span>test_data
{
   Ecore_Evas             *ee;
   <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a>                   *evas;
   <span class="keyword">struct </span>text_preset_data t_data;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a>            *text, *bg, *border;
};

<span class="keyword">static</span> <span class="keyword">struct </span>test_data d = {0};

<span class="keyword">static</span> <span class="keywordtype">void</span>
_on_destroy(Ecore_Evas *ee EINA_UNUSED)
{
   <a class="code" href="group__Ecore__Main__Loop__Group.html#ga95cf8e97dff0716433c2c5474d606a98">ecore_main_loop_quit</a>();
}

<span class="comment">/* Keep the example&#39;s window size in sync with the background image&#39;s size */</span>
<span class="keyword">static</span> <span class="keywordtype">void</span>
_canvas_resize_cb(Ecore_Evas *ee)
{
   <span class="keywordtype">int</span> w, h;

   <a class="code" href="group__Ecore__Evas__Group.html#ga73a19ff229ddec5e2c98ab81718008ee" title="Gets the geometry of an Ecore_Evas.">ecore_evas_geometry_get</a>(ee, NULL, NULL, &amp;w, &amp;h);
   evas_object_resize(d.bg, w, h);
}

<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *
_text_style_type_to_str(Evas_Text_Style_Type mode)
{
   <span class="keywordflow">switch</span> (mode)
     {
      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_PLAIN:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;plain&quot;</span>;

      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_SHADOW:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;shadow&quot;</span>;

      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_OUTLINE:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;outline&quot;</span>;

      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_SOFT_OUTLINE:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;soft outline&quot;</span>;

      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_GLOW:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;glow&quot;</span>;

      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_OUTLINE_SHADOW:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;outline shadow&quot;</span>;

      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_FAR_SHADOW:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;far shadow&quot;</span>;

      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_OUTLINE_SOFT_SHADOW:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;outline soft shadow&quot;</span>;

      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_SOFT_SHADOW:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;soft shadow&quot;</span>;

      <span class="keywordflow">case</span> EVAS_TEXT_STYLE_FAR_SOFT_SHADOW:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;far soft shadow&quot;</span>;

      <span class="keywordflow">default</span>:
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;invalid&quot;</span>;
     }
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_on_keydown(<span class="keywordtype">void</span>        *data EINA_UNUSED,
            <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a>        *evas EINA_UNUSED,
            <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *o EINA_UNUSED,
            <span class="keywordtype">void</span>        *einfo)
{
   <a class="code" href="struct__Evas__Event__Key__Down.html">Evas_Event_Key_Down</a> *ev = einfo;

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;h&quot;</span>) == 0) <span class="comment">/* print help */</span>
     {
        printf(<span class="stringliteral">&quot;%s&quot;</span>, commands);
        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;t&quot;</span>) == 0) <span class="comment">/* change text&#39;s current style */</span>
     {
        Evas_Text_Style_Type type = evas_object_text_style_get(d.text);

        type = (type + 1) % 10;

        evas_object_text_style_set(d.text, type);

        printf(<span class="stringliteral">&quot;Changing text&#39;s style to \&#39;%s\&#39;\n&quot;</span>,
               _text_style_type_to_str(type));

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;f&quot;</span>) == 0) <span class="comment">/* change text&#39;s font */</span>
     {
         <span class="keywordtype">int</span> sz;

        (d.t_data.font_ptr)++;

        evas_object_text_font_get(d.text, NULL, &amp;sz);

        POINTER_CYCLE(d.t_data.font_ptr, d.t_data.font);

        evas_object_text_font_set(d.text, *d.t_data.font_ptr, sz);

        printf(<span class="stringliteral">&quot;Changing text&#39;s font to %s\n&quot;</span>,
               *d.t_data.font_ptr);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;b&quot;</span>) == 0) <span class="comment">/* change text&#39;s base color */</span>
     {
        (d.t_data.text_ptr)++;

        POINTER_CYCLE(d.t_data.text_ptr, d.t_data.text);

        <a class="code" href="group__Evas__Object__Group__Basic.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(
          d.text, d.t_data.text_ptr-&gt;r, d.t_data.text_ptr-&gt;g,
          d.t_data.text_ptr-&gt;b, d.t_data.text_ptr-&gt;a);

        printf(<span class="stringliteral">&quot;Changing base color for text to (%d, %d, %d, %d)\n&quot;</span>,
               d.t_data.text_ptr-&gt;r, d.t_data.text_ptr-&gt;g,
               d.t_data.text_ptr-&gt;b, d.t_data.text_ptr-&gt;a);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;g&quot;</span>) == 0) <span class="comment">/* change text&#39;s glow 2 color */</span>
     {
        (d.t_data.glow2_ptr)++;

        POINTER_CYCLE(d.t_data.glow2_ptr, d.t_data.glow2);

        evas_object_text_glow2_color_set(
          d.text, d.t_data.glow2_ptr-&gt;r, d.t_data.glow2_ptr-&gt;g,
          d.t_data.glow2_ptr-&gt;b, d.t_data.glow2_ptr-&gt;a);

        printf(<span class="stringliteral">&quot;Changing glow 2 color for text to (%d, %d, %d, %d)\n&quot;</span>,
               d.t_data.glow2_ptr-&gt;r, d.t_data.glow2_ptr-&gt;g,
               d.t_data.glow2_ptr-&gt;b, d.t_data.glow2_ptr-&gt;a);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;w&quot;</span>) == 0) <span class="comment">/* change text&#39;s glow color */</span>
     {
        (d.t_data.glow_ptr)++;

        POINTER_CYCLE(d.t_data.glow_ptr, d.t_data.glow);

        evas_object_text_glow_color_set(
          d.text, d.t_data.glow_ptr-&gt;r, d.t_data.glow_ptr-&gt;g,
          d.t_data.glow_ptr-&gt;b, d.t_data.glow_ptr-&gt;a);

        printf(<span class="stringliteral">&quot;Changing glow color for text to (%d, %d, %d, %d)\n&quot;</span>,
               d.t_data.glow_ptr-&gt;r, d.t_data.glow_ptr-&gt;g,
               d.t_data.glow_ptr-&gt;b, d.t_data.glow_ptr-&gt;a);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;o&quot;</span>) == 0) <span class="comment">/* change text&#39;s outline color */</span>
     {
        (d.t_data.outline_ptr)++;

        POINTER_CYCLE(d.t_data.outline_ptr, d.t_data.outline);

        evas_object_text_outline_color_set(
          d.text, d.t_data.outline_ptr-&gt;r, d.t_data.outline_ptr-&gt;g,
          d.t_data.outline_ptr-&gt;b, d.t_data.outline_ptr-&gt;a);

        printf(<span class="stringliteral">&quot;Changing outline color for text to (%d, %d, %d, %d)\n&quot;</span>,
               d.t_data.outline_ptr-&gt;r, d.t_data.outline_ptr-&gt;g,
               d.t_data.outline_ptr-&gt;b, d.t_data.outline_ptr-&gt;a);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;s&quot;</span>) == 0) <span class="comment">/* change text&#39;s shadow color */</span>
     {
        (d.t_data.shadow_ptr)++;

        POINTER_CYCLE(d.t_data.shadow_ptr, d.t_data.shadow);

        evas_object_text_shadow_color_set(
          d.text, d.t_data.shadow_ptr-&gt;r, d.t_data.shadow_ptr-&gt;g,
          d.t_data.shadow_ptr-&gt;b, d.t_data.shadow_ptr-&gt;a);

        printf(<span class="stringliteral">&quot;Changing shadow color for text to (%d, %d, %d, %d)\n&quot;</span>,
               d.t_data.shadow_ptr-&gt;r, d.t_data.shadow_ptr-&gt;g,
               d.t_data.shadow_ptr-&gt;b, d.t_data.shadow_ptr-&gt;a);

        <span class="keywordflow">return</span>;
     }

   <span class="keywordflow">if</span> (strcmp(ev-&gt;<a class="code" href="struct__Evas__Event__Key__Down.html#a70473bba88a1afaee180a54150513824">key</a>, <span class="stringliteral">&quot;z&quot;</span>) == 0) <span class="comment">/* change text&#39;s font size */</span>
     {
        <span class="keyword">const</span> <span class="keywordtype">char</span> *font;
        <span class="keywordtype">int</span> size;

        evas_object_text_font_get(d.text, &amp;font, &amp;size);

        size = (size + 10) % 50;
        <span class="keywordflow">if</span> (!size) size = 10;

        evas_object_text_font_set(d.text, font, size);

        printf(<span class="stringliteral">&quot;Changing text&#39;s font size to %d\n&quot;</span>, size);

        <span class="keywordflow">return</span>;
     }
}

<span class="keywordtype">int</span>
main(<span class="keywordtype">void</span>)
{
   <span class="keywordtype">int</span> size;
   <span class="keyword">const</span> <span class="keywordtype">char</span> *font;

   <span class="keywordflow">if</span> (!<a class="code" href="group__Ecore__Evas__Group.html#gad36db3002bbf891d28af0d6b22dda1b5" title="Inits the Ecore_Evas system.">ecore_evas_init</a>())
     <span class="keywordflow">return</span> EXIT_FAILURE;

   <span class="comment">/* init values one is going to cycle through while running this</span>
<span class="comment">    * example */</span>
   <span class="keyword">struct </span>text_preset_data init_data =
   {
      .font = {<span class="stringliteral">&quot;DejaVu&quot;</span>, <span class="stringliteral">&quot;Courier&quot;</span>, <span class="stringliteral">&quot;Utopia&quot;</span>},
      .text = {BLACK, WHITE, GREY, RED, GREEN, BLUE},
      .shadow = {WHITE, BLUE, GREEN, RED},
      .outline = {WHITE, RED, GREEN, BLUE},
      .glow = {WHITE, BLUE, GREEN, RED},
      .glow2 = {WHITE, RED, BLUE, GREEN}
   };

   d.t_data = init_data;
   d.t_data.font_ptr = d.t_data.font;
   d.t_data.text_ptr = d.t_data.text;
   d.t_data.glow_ptr = d.t_data.glow;
   d.t_data.glow2_ptr = d.t_data.glow2;
   d.t_data.outline_ptr = d.t_data.outline;
   d.t_data.shadow_ptr = d.t_data.shadow;

   <span class="comment">/* this will give you a window with an Evas canvas under the first</span>
<span class="comment">    * engine available */</span>
   d.ee = <a class="code" href="group__Ecore__Evas__Group.html#gac3d6e2809d0c8811fc9958de24b68167" title="Creates a new Ecore_Evas based on engine name and common parameters.">ecore_evas_new</a>(NULL, 10, 10, WIDTH, HEIGHT, NULL);
   <span class="keywordflow">if</span> (!d.ee)
     <span class="keywordflow">goto</span> error;

   <a class="code" href="group__Ecore__Evas__Group.html#ga882987a24bee767814a936d15bc6a188" title="Sets a callback for Ecore_Evas destroy events.">ecore_evas_callback_destroy_set</a>(d.ee, _on_destroy);
   <a class="code" href="group__Ecore__Evas__Group.html#ga735c0c2fb597f34b096ec0f43fc3a7ac" title="Sets a callback for Ecore_Evas resize events.">ecore_evas_callback_resize_set</a>(d.ee, _canvas_resize_cb);
   <a class="code" href="group__Ecore__Evas__Group.html#gaaea54d6b6ab85ac2f3355052d04e487e" title="Shows an Ecore_Evas&#39; window.">ecore_evas_show</a>(d.ee);

   <span class="comment">/* the canvas pointer, de facto */</span>
   d.evas = <a class="code" href="group__Ecore__Evas__Group.html#ga21b6108d757f0aea6c4126d59cfb8826" title="Gets an Ecore_Evas&#39;s Evas.">ecore_evas_get</a>(d.ee);

   d.bg = <a class="code" href="group__Evas__Object__Rectangle.html#ga4d80fc32ad1cac28428cebd65d746751">evas_object_rectangle_add</a>(d.evas);
   <a class="code" href="group__Evas__Object__Group__Basic.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(d.bg, 255, 255, 255, 255); <span class="comment">/* white bg */</span>
   evas_object_move(d.bg, 0, 0); <span class="comment">/* at canvas&#39; origin */</span>
   evas_object_resize(d.bg, WIDTH, HEIGHT); <span class="comment">/* covers full canvas */</span>
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.bg);

   <a class="code" href="group__Evas__Object__Group.html#ga4405e118e1fb762987af1269b6848db5" title="Indicates that this object is the keyboard event receiver on its canvas.">evas_object_focus_set</a>(d.bg, EINA_TRUE);
   <a class="code" href="group__Evas__Object__Group__Events.html#ga23be30ac5cdfb780f1ff82e9108ec26b">evas_object_event_callback_add</a>(
     d.bg, EVAS_CALLBACK_KEY_DOWN, _on_keydown, NULL);

   d.text = <a class="code" href="group__Evas__Object__Text.html#ga72224822cf1772ef16b1554f0a6205d5">evas_object_text_add</a>(d.evas);
   evas_object_text_style_set(d.text, EVAS_TEXT_STYLE_PLAIN);

   <span class="comment">/* let the pre-set things be enforced */</span>
   <a class="code" href="group__Evas__Object__Group__Basic.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(
     d.text, d.t_data.text_ptr-&gt;r, d.t_data.text_ptr-&gt;g,
     d.t_data.text_ptr-&gt;b, d.t_data.text_ptr-&gt;a);

   evas_object_text_glow_color_set(
     d.text, d.t_data.glow_ptr-&gt;r, d.t_data.glow_ptr-&gt;g,
     d.t_data.glow_ptr-&gt;b, d.t_data.glow_ptr-&gt;a);

   evas_object_text_glow2_color_set(
     d.text, d.t_data.glow2_ptr-&gt;r, d.t_data.glow2_ptr-&gt;g,
     d.t_data.glow2_ptr-&gt;b, d.t_data.glow2_ptr-&gt;a);

   evas_object_text_outline_color_set(
     d.text, d.t_data.outline_ptr-&gt;r, d.t_data.outline_ptr-&gt;g,
     d.t_data.outline_ptr-&gt;b, d.t_data.outline_ptr-&gt;a);

   evas_object_text_shadow_color_set(
     d.text, d.t_data.shadow_ptr-&gt;r, d.t_data.shadow_ptr-&gt;g,
     d.t_data.shadow_ptr-&gt;b, d.t_data.shadow_ptr-&gt;a);

   evas_object_text_font_set(d.text, *d.t_data.font_ptr, 30);
   evas_object_text_text_set(d.text, <span class="stringliteral">&quot;sample text&quot;</span>);

   evas_object_resize(d.text, (3 * WIDTH) / 4, HEIGHT / 4);
   evas_object_move(d.text, WIDTH / 8, (3 * HEIGHT) / 8);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.text);

   evas_object_text_font_get(d.text, &amp;font, &amp;size);
   printf(<span class="stringliteral">&quot;Adding text object with font %s, size %d\n&quot;</span>, font, size);

   <span class="comment">/* this is a border around the text object above, here just to</span>
<span class="comment">    * emphasize its geometry */</span>
   d.border = evas_object_image_filled_add(d.evas);
   evas_object_image_file_set(d.border, border_img_path, NULL);
   evas_object_image_border_set(d.border, 3, 3, 3, 3);
   evas_object_image_border_center_fill_set(d.border, EVAS_BORDER_FILL_NONE);

   evas_object_resize(d.border, ((3 * WIDTH) / 4) + 3, (HEIGHT / 4) + 3);
   evas_object_move(d.border, (WIDTH / 8) - 3, ((3 * HEIGHT) / 8) - 3);
   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(d.border);

   printf(<span class="stringliteral">&quot;%s&quot;</span>, commands);
   <a class="code" href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin</a>();

   <a class="code" href="group__Ecore__Evas__Group.html#ga68f83d423894b2797e8e693376921161" title="Frees an Ecore_Evas.">ecore_evas_free</a>(d.ee);
   <a class="code" href="group__Ecore__Evas__Group.html#gab1a47c09b475148c037c0a3d68644fa4" title="Shuts down the Ecore_Evas system.">ecore_evas_shutdown</a>();
   <span class="keywordflow">return</span> 0;

error:
   fprintf(stderr, <span class="stringliteral">&quot;error: Requires at least one Evas engine built and linked&quot;</span>
                   <span class="stringliteral">&quot; to ecore-evas for this example to run properly.\n&quot;</span>);
   <a class="code" href="group__Ecore__Evas__Group.html#gab1a47c09b475148c037c0a3d68644fa4" title="Shuts down the Ecore_Evas system.">ecore_evas_shutdown</a>();
   <span class="keywordflow">return</span> -1;
}
</pre></div> </div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
