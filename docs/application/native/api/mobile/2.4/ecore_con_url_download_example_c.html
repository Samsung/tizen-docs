<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Ecore_Con_Url - downloading a file</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Ecore_Con_Url - downloading a file </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a simple example that shows how to download a file using Ecore_Con_Url. The full source code for this example can be found at <a class="el" href="ecore_con_url_download_example_8c-example.html">ecore_con_url_download_example::c</a>.</p>
<p>First we are setting some callbacks for events that will be sent when data arrives in our connection (the data is the content of the file being downloaded), and when the download is completed. The <code>_url_progress_cb</code> and <code>_url_complete_cb</code> are these callbacks:</p>
 <div class="fragment"><pre class="fragment"></pre></div></p>
<p>Notice that we also declared a struct that will hold how many bytes were downloaded through this object. It will be set in the <code>main</code> function using Url Data Set function.</p>
<p>In the next step, on the <code>main</code> function, we open a file where we are going to save the content being downloaded:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>With the file successfully open, let's create our Ecore_Con_Url object. For this, we initialize the libraries and create the object:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Then we allocate and set the data struct to the connection object, and set a file descriptor from our previously open file to it. We also add the event handlers (callbacks) to the events that will be emitted on data being received and download complete:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Finally we start our request, and run the main loop:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>The rest of this code was just freeing resources, with some labels to be used for error handling. </p>
</div></div><!-- contents -->
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
