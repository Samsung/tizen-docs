<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Eina_Hash in action</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Eina_Hash in action </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>We are going to store some tuples into our table, that will map each <em>name</em> to a <em>number</em>. The cost to access a given number from the name should be very small, even with many entries in our table. This is the initial data: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>Before starting to play with the hash, let's write a callback that will be used to free the elements from it. Since we are just storing strduped strings, we just need to free them:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>We also need a callback to iterate over the elements of the list later, so we are defining it now:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Now let's create our <a class="el" href="group__Eina__Hash__Group.html#ga9a89d7d3ee260d3a60572ebf651b07e0">Eina_Hash</a> using <a class="el" href="group__Eina__Hash__Group.html#gad7203e20b1496445cb819c7862171c87">eina_hash_string_superfast_new</a> :</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Now we add the keys and data to the hash using <a class="el" href="group__Eina__Hash__Group.html#gafe3bb7c1f5616b4e158f60322e133260">eina_hash_add</a> . This means that the key is copied inside the table, together with the pointer to the data (phone numbers).</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Some basic manipulations with the hash, like finding a value given a key, deleting an entry, modifying an entry are exemplified in the following lines. Notice that the <a class="el" href="group__Eina__Hash__Group.html#gaabf2f2af1d93f969591f2c5b7378c543">eina_hash_modify</a> function returns the old value stored in that entry, and it needs to be freed, while the <a class="el" href="group__Eina__Hash__Group.html#gad8a9ac3c61ead249a6927a12e9de871a">eina_hash_del</a> function already calls our free callback:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>The <a class="el" href="group__Eina__Hash__Group.html#ga53fd5f171289d63c5d8532bb28434cb3">eina_hash_set</a> function can be used to set a key-value entry to the table if it doesn't exist, or to modify an existent entry. It returns the old entry if it was already set, and NULL otherwise. But since it will return NULL on error too, we need to check if an error has occurred:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>There are different ways of iterate over the entries of a hash. Here we show two of them: using <a class="el" href="group__Eina__Hash__Group.html#ga2c23f8425d3afcc61827ab67b46d7190">eina_hash_foreach</a> and <a class="el" href="group__Eina__Iterator__Group.html#ga15b975bb881d955249ce13d4ebc96948">Eina_Iterator</a> .</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>It's also possible to change the key for a specific entry, without having to remove the entry from the table and adding it again:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>We can remove all the elements from the table without free the table itself:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Or free the the entire table with its content:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>The full code for this example can be seen here: <a class="el" href="eina_hash_01_c.html">Hash table in action</a> </p>
</div></div><!-- contents -->
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
