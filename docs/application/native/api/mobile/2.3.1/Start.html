<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Getting Started</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Mobile&#160;Native&#160;API&#160;Reference</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>To write an Elementary app, you can get started with the following:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;Elementary.h&gt;</span>
 EAPI_MAIN <span class="keywordtype">int</span>
 elm_main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)
 {
    <span class="comment">// Create window(s) here and do any application init.</span>
    <a class="code" href="group__General.html#gadf2553f83e6b0b9c7fbe054019a664a1" title="Runs Elementary&#39;s main loop.">elm_run</a>(); <span class="comment">// Run main loop</span>
    <a class="code" href="group__General.html#ga9de9b3690cc9d500e4576e0f086a099a" title="Shuts down Elementary.">elm_shutdown</a>(); <span class="comment">// After mainloop finishes running, shutdown</span>
    <span class="keywordflow">return</span> 0; <span class="comment">// Exit 0 for exit code</span>
 }
 <a class="code" href="group__General.html#ga50fe52d513f7e89c9c770afd76de7ad9">ELM_MAIN</a>()
</pre></div><p>To use autotools (which helps in many ways in the long run, like being able to immediately create releases of your software directly from your tree and ensure everything needed to build it is there) you need a configure.ac, Makefile.am, and autogen.sh file.</p>
<p>configure.ac:</p>
<div class="fragment"><pre class="fragment"> AC_INIT(myapp, 0.0.0, myname@mydomain.com)
 AC_PREREQ(2.52)
 AC_CONFIG_SRCDIR(configure.ac)
 AM_CONFIG_HEADER(config.h)
 AC_PROG_CC
 AM_INIT_AUTOMAKE(1.6 dist-bzip2)
 PKG_CHECK_MODULES([ELEMENTARY], elementary)
 AC_OUTPUT(Makefile)
</pre></div><p>Makefile.am:</p>
<div class="fragment"><pre class="fragment"> AUTOMAKE_OPTIONS = 1.4 foreign
 MAINTAINERCLEANFILES = Makefile.in aclocal.m4 config.h.in configure depcomp install-sh missing

 INCLUDES = -I$(top_srcdir)

 bin_PROGRAMS = myapp

 myapp_SOURCES = main.c
 myapp_LDADD = @ELEMENTARY_LIBS@
 myapp_CFLAGS = @ELEMENTARY_CFLAGS@
</pre></div><p>autogen.sh:</p>
<div class="fragment"><pre class="fragment"> *#!/bin/sh
 echo <span class="stringliteral">&quot;Running aclocal...&quot;</span> ; aclocal $ACLOCAL_FLAGS || exit 1
 echo <span class="stringliteral">&quot;Running autoheader...&quot;</span> ; autoheader || exit 1
 echo <span class="stringliteral">&quot;Running autoconf...&quot;</span> ; autoconf || exit 1
 echo <span class="stringliteral">&quot;Running automake...&quot;</span> ; automake --add-missing --copy --gnu || exit 1
 ./configure <span class="stringliteral">&quot;$@&quot;</span>
</pre></div><p>To generate all the things needed to bootstrap just run:</p>
<div class="fragment"><pre class="fragment"> ./autogen.sh
</pre></div><p>This generates Makefile.in's, the configure script and everything else. After this it works like all normal autotools projects: </p>
<div class="fragment"><pre class="fragment"> ./configure
 make
 sudo make install
</pre></div><p>Note sudo is assumed to get root permissions, as this would install in /usr/local which is system-owned. Use it any way you like to gain root, or specify a different prefix with configure:</p>
<div class="fragment"><pre class="fragment"> ./configure --prefix=$HOME/mysoftware
</pre></div><p>Also remember that autotools buys you some useful commands like: </p>
<div class="fragment"><pre class="fragment"> make uninstall
</pre></div><p>This uninstalls the software after it is installed with "make install". It is very useful to clear up what you built if you wish to clean the system.</p>
<div class="fragment"><pre class="fragment"> make distcheck
</pre></div><p>This firstly checks if your build tree is "clean" and ready for distribution. It also builds a tarball (myapp-0.0.0.tar.gz) that is ready to upload and distribute to the world, that contains the generated Makefile.in's and configure script. The users do not need to run autogen.sh - just configure and on. They don't need autotools installed. This tarball also builds cleanly, has all the sources it needs to build included (that is sources for your application, not libraries it depends on like Elementary). It builds cleanly in a buildroot and does not contain any files that are temporarily generated, like binaries and other build-generated files, so the tarball is clean, and no need to worry about cleaning up your tree before packaging.</p>
<div class="fragment"><pre class="fragment"> make clean
</pre></div><p>This cleans up all build files (binaries, objects etc.) from the tree.</p>
<div class="fragment"><pre class="fragment"> make distclean
</pre></div><p>This cleans out all the files from the build and from configure's output too.</p>
<div class="fragment"><pre class="fragment"> make maintainer-clean
</pre></div><p>This deletes all the files autogen.sh produces so the tree is clean to be put into a revision-control system (like CVS, SVN, or GIT for example).</p>
<p>There is a more advanced way of making use of the quicklaunch infrastructure in Elementary (which is not covered here due to its more advanced nature).</p>
<p>Now let's actually create an interactive "Hello World" GUI on which you can click the OK button to exit. It's more code because this now does something much more significant, but it's still very simple:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;Elementary.h&gt;</span>

 <span class="keyword">static</span> <span class="keywordtype">void</span>
 on_done(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97" title="An Evas Object handle.">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event_info)
 {
    <span class="comment">// Quit the mainloop (elm_run function will return)</span>
    <a class="code" href="group__General.html#gabada1ccecc6a712df48e90cbf9915c35" title="Asks to exit Elementary&#39;s main loop.">elm_exit</a>();
 }

 EAPI_MAIN <span class="keywordtype">int</span>
 elm_main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)
 {
    <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97" title="An Evas Object handle.">Evas_Object</a> *win, *box, *lab, *btn;

    <span class="comment">// New window - do the usual and give it a name (hello) and title (Hello)</span>
    win = <a class="code" href="group__Win.html#gac75d7752662fab73d6420706ce5be996" title="Adds a window object with a standard setup.">elm_win_util_standard_add</a>(<span class="stringliteral">&quot;hello&quot;</span>, <span class="stringliteral">&quot;Hello&quot;</span>);
    <span class="comment">// When the user clicks &quot;close&quot; on a window there is a request to delete</span>
    <a class="code" href="group__Evas__Smart__Object__Group.html#ga18a8b179f94d21b2b09e19db11741061" title="Adds or registers a callback function to the smart event specified by event on the smart object obj...">evas_object_smart_callback_add</a>(win, <span class="stringliteral">&quot;delete,request&quot;</span>, on_done, NULL);

    <span class="comment">// Add a box object - default is vertical. a box holds children in a row,</span>
    <span class="comment">// Either horizontally or vertically. nothing more.</span>
    box = <a class="code" href="group__Box.html#ga3d0998b60ada633bacfa8869a921cfd7" title="Adds a new box to the parent.">elm_box_add</a>(win);
    <span class="comment">// Make the box horizontal</span>
    <a class="code" href="group__Box.html#gad4d541c117982f5be91cd17d09c214ca" title="Sets the horizontal orientation.">elm_box_horizontal_set</a>(box, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc" title="Definition of the boolean value TRUE (numerical value 1).">EINA_TRUE</a>);
    <span class="comment">// Add object as a resize object for the window (controls window minimum</span>
    <span class="comment">// Size as well as gets resized if window is resized)</span>
    <a class="code" href="group__Win.html#ga505d6bd217e5ee01e82b548ec35986eb" title="Adds subobj as a resize object of the window obj.">elm_win_resize_object_add</a>(win, box);
    <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb" title="Makes the given Evas object visible.">evas_object_show</a>(box);

    <span class="comment">// Add a label widget, set the text and put it in the pad frame</span>
    lab = <a class="code" href="group__Label.html#ga01e161a300e3ee6f7a13a44505724e03" title="Adds a new label to the parent.">elm_label_add</a>(win);
    <span class="comment">// Set default text of the label</span>
    <a class="code" href="group__General.html#ga4f53d8ced103f0054e8118d307705afa" title="Convenient macro for elm_object_part_text_set.">elm_object_text_set</a>(lab, <span class="stringliteral">&quot;Hello out there world!&quot;</span>);
    <span class="comment">// Pack the label at the end of the box</span>
    <a class="code" href="group__Box.html#gae5b6472f18b4c1f11f04f1dfba906205" title="Adds an object at the end of the pack list.">elm_box_pack_end</a>(box, lab);
    <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb" title="Makes the given Evas object visible.">evas_object_show</a>(lab);

    <span class="comment">// Add an ok button</span>
    btn = <a class="code" href="group__Button.html#ga0021b9d86d822367035843ed18bc6ea9" title="Adds a new button to the parent&#39;s canvas.">elm_button_add</a>(win);
    <span class="comment">// Set default text of button to &quot;OK&quot;</span>
    <a class="code" href="group__General.html#ga4f53d8ced103f0054e8118d307705afa" title="Convenient macro for elm_object_part_text_set.">elm_object_text_set</a>(btn, <span class="stringliteral">&quot;OK&quot;</span>);
    <span class="comment">// Pack the button at the end of the box</span>
    <a class="code" href="group__Box.html#gae5b6472f18b4c1f11f04f1dfba906205" title="Adds an object at the end of the pack list.">elm_box_pack_end</a>(box, btn);
    <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb" title="Makes the given Evas object visible.">evas_object_show</a>(btn);
    <span class="comment">// Call on_done when button is clicked</span>
    <a class="code" href="group__Evas__Smart__Object__Group.html#ga18a8b179f94d21b2b09e19db11741061" title="Adds or registers a callback function to the smart event specified by event on the smart object obj...">evas_object_smart_callback_add</a>(btn, <span class="stringliteral">&quot;clicked&quot;</span>, on_done, NULL);

    <span class="comment">// Now we are done, show the window</span>
    <a class="code" href="group__Evas__Object__Group__Basic.html#ga9cbc13661584e49fb9d9cdab514a1eeb" title="Makes the given Evas object visible.">evas_object_show</a>(win);

    <span class="comment">// Run the mainloop and process events and callbacks</span>
    <a class="code" href="group__General.html#gadf2553f83e6b0b9c7fbe054019a664a1" title="Runs Elementary&#39;s main loop.">elm_run</a>();
    <a class="code" href="group__General.html#ga9de9b3690cc9d500e4576e0f086a099a" title="Shuts down Elementary.">elm_shutdown</a>();
    <span class="keywordflow">return</span> 0;
 }
 <a class="code" href="group__General.html#ga50fe52d513f7e89c9c770afd76de7ad9">ELM_MAIN</a>()
</pre></div> </div></div><!-- contents -->
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
