<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Removing array elements</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">3.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('eina_array_02_example_page.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Removing array elements </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Just the usual includes: <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;string.h&gt;</span>

<span class="preprocessor">#include &lt;Eina.h&gt;</span>
</pre></div></p>
<p>This the callback we are going to use to decide which strings stay on the array and which will be removed. We use something simple, but this can be as complex as you like: <div class="fragment"><pre class="fragment">
<a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> keep(<span class="keywordtype">void</span> *data, <span class="keywordtype">void</span> *gdata EINA_UNUSED)
{
   <span class="keywordflow">if</span> (strlen((<span class="keyword">const</span> <span class="keywordtype">char</span>*)data) &lt;= 5)
      <span class="keywordflow">return</span> <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>;
   <span class="keywordflow">return</span> <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>;
}
</pre></div></p>
<p>This is the same code we used before to populate the list with the slight difference of not using strdup: <div class="fragment"><pre class="fragment">
<span class="keywordtype">int</span>
main(<span class="keywordtype">int</span> argc EINA_UNUSED, <span class="keywordtype">char</span> **argv EINA_UNUSED)
{
   <span class="keyword">const</span> <span class="keywordtype">char</span>* strs[] = {
      <span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>, <span class="stringliteral">&quot;four&quot;</span>, <span class="stringliteral">&quot;five&quot;</span>, <span class="stringliteral">&quot;six&quot;</span>, <span class="stringliteral">&quot;seven&quot;</span>, <span class="stringliteral">&quot;eight&quot;</span>, <span class="stringliteral">&quot;nine&quot;</span>,
      <span class="stringliteral">&quot;ten&quot;</span>, <span class="stringliteral">&quot;eleven&quot;</span>, <span class="stringliteral">&quot;twelve&quot;</span>, <span class="stringliteral">&quot;thirteen&quot;</span>, <span class="stringliteral">&quot;fourtenn&quot;</span>, <span class="stringliteral">&quot;fifteen&quot;</span>, <span class="stringliteral">&quot;sixteen&quot;</span>,
      <span class="stringliteral">&quot;seventeen&quot;</span>, <span class="stringliteral">&quot;eighteen&quot;</span>, <span class="stringliteral">&quot;nineteen&quot;</span>, <span class="stringliteral">&quot;twenty&quot;</span>
   };
   <span class="keyword">const</span> <span class="keywordtype">char</span>* strings[] = {
      <span class="stringliteral">&quot;helo&quot;</span>, <span class="stringliteral">&quot;hera&quot;</span>, <span class="stringliteral">&quot;starbuck&quot;</span>, <span class="stringliteral">&quot;kat&quot;</span>, <span class="stringliteral">&quot;boomer&quot;</span>,
      <span class="stringliteral">&quot;hotdog&quot;</span>, <span class="stringliteral">&quot;longshot&quot;</span>, <span class="stringliteral">&quot;jammer&quot;</span>, <span class="stringliteral">&quot;crashdown&quot;</span>, <span class="stringliteral">&quot;hardball&quot;</span>,
      <span class="stringliteral">&quot;duck&quot;</span>, <span class="stringliteral">&quot;racetrack&quot;</span>, <span class="stringliteral">&quot;apolo&quot;</span>, <span class="stringliteral">&quot;husker&quot;</span>, <span class="stringliteral">&quot;freaker&quot;</span>,
      <span class="stringliteral">&quot;skulls&quot;</span>, <span class="stringliteral">&quot;bulldog&quot;</span>, <span class="stringliteral">&quot;flat top&quot;</span>, <span class="stringliteral">&quot;hammerhead&quot;</span>, <span class="stringliteral">&quot;gonzo&quot;</span>
   };
   <a class="code" href="struct__Eina__Array.html">Eina_Array</a> *array;
   <a class="code" href="group__Eina__Array__Group.html#gaf9af7cd8afa60d6b1cab805bd5b838aa">Eina_Array_Iterator</a> iterator;
   <span class="keyword">const</span> <span class="keywordtype">char</span> *item;
   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;

   <a class="code" href="group__Eina__Main__Group.html#gafee4bfc0e509b6ffed6598edf6f4b3de" title="Initializes the Eina library.">eina_init</a>();

   array = <a class="code" href="group__Eina__Array__Group.html#gad671e356ded4049ccff24cc46f6f6f43" title="Creates a new array.">eina_array_new</a>(10);

   <span class="keywordflow">for</span> (i = 0; i &lt; 20; i++)
     <a class="code" href="group__Eina__Array__Group.html#ga888077184f320f9324d90e11829f81f0" title="Appends a data to an array.">eina_array_push</a>(array, strs[i]);
</pre></div></p>
<p>So we have added all our elements to the array, but it turns out that is not the elements we wanted, so let's empty the array and add the correct strings: <div class="fragment"><pre class="fragment">
   <a class="code" href="group__Eina__Array__Group.html#gace3c240bf1eab8aee3897a69555abf94" title="Cleans an array.">eina_array_clean</a>(array);
   <span class="keywordflow">for</span> (i = 0; i &lt; 20; i++)
     <a class="code" href="group__Eina__Array__Group.html#ga888077184f320f9324d90e11829f81f0" title="Appends a data to an array.">eina_array_push</a>(array, strings[i]);
</pre></div></p>
<p>It seems we made a little mistake in one of our strings so we need to replace it, here is how: <div class="fragment"><pre class="fragment">
   <a class="code" href="group__Eina__Array__Group.html#ga3a813776e908340a6663a6f9fdc70baa" title="Sets the data at a given position in an array.">eina_array_data_set</a>(array, 17, <span class="stringliteral">&quot;flattop&quot;</span>);
</pre></div></p>
<p>Now that there is a populated array we can remove elements from it easily: <div class="fragment"><pre class="fragment">
   <a class="code" href="group__Eina__Array__Group.html#gaef415c29b684cd8b11c3c7af14b98d0e" title="Rebuilds an array by specifying the data to keep.">eina_array_remove</a>(array, keep, NULL);
</pre></div></p>
<p>And check that the elements were actually removed: <div class="fragment"><pre class="fragment">   <a class="code" href="group__Eina__Array__Group.html#ga810ed3618ca03f7d549a1bf2c33b2b6e" title="Definition for the macro to iterate over an array easily.">EINA_ARRAY_ITER_NEXT</a>(array, i, item, iterator)
     printf(&quot;item <span class="preprocessor">#%u: %s\n&quot;, i, item);</span>
</pre></div></p>
<p>Since this time we didn't use strdup we don't need to free each string: <div class="fragment"><pre class="fragment">
   <a class="code" href="group__Eina__Array__Group.html#gaee9eb6a413ab294a5d69771f14cf3543" title="Frees an array.">eina_array_free</a>(array);

   <a class="code" href="group__Eina__Main__Group.html#ga2c8b4020427108a30c44707af22c99d3" title="Shuts down the Eina library.">eina_shutdown</a>();

   <span class="keywordflow">return</span> 0;
}
</pre></div></p>
<p>The full source code can be found in the examples folder in the <a class="el" href="eina_array_02_c.html">eina_array_02.c</a> file. </p>
</div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
