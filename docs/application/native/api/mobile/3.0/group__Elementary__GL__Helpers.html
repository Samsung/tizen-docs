<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Elementary GL Helper functions</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">3.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__Elementary__GL__Helpers.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a>  </div>
  <div class="headertitle">
<div class="title">Elementary GL Helper functions</div>  </div>
<div class="ingroups"><a class="el" href="group__Elm__GLView.html">GLView</a></div></div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Elementary__GL__Helpers.html#ga5d4feb845f477a9a4afb5d96850ce497">ELEMENTARY_GLVIEW_USE</a>(glview)&#160;&#160;&#160;<a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1">Evas_GL_API</a> *__evas_gl_glapi = elm_glview_gl_api_get(glview);</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience macro to insert at the beginning of every function calling OpenGL with <a class="el" href="group__Elm__GLView.html">GLView</a>.  <a href="#ga5d4feb845f477a9a4afb5d96850ce497"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Elementary__GL__Helpers.html#ga992895872703a2765fb6b9a0bacc12a2">ELEMENTARY_GLVIEW_USE_OR_RETURN</a>(glview, retval)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience macro to insert at the beginning of every function calling OpenGL with <a class="el" href="group__Elm__GLView.html">GLView</a>.  <a href="#ga992895872703a2765fb6b9a0bacc12a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Elementary__GL__Helpers.html#ga19fb5b398c29179e5c51f725b87f2c71">ELEMENTARY_GLVIEW_GLOBAL_DECLARE</a>()&#160;&#160;&#160;extern <a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1">Evas_GL_API</a> *__evas_gl_glapi;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience macro to use the GL helpers in simple applications: declare.  <a href="#ga19fb5b398c29179e5c51f725b87f2c71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Elementary__GL__Helpers.html#ga6ce48fb99e3774c4de3d1af7a6f4ac9c">ELEMENTARY_GLVIEW_GLOBAL_DEFINE</a>()&#160;&#160;&#160;<a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1">Evas_GL_API</a> *__evas_gl_glapi = NULL;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience macro to use the GL helpers in simple applications: define.  <a href="#ga6ce48fb99e3774c4de3d1af7a6f4ac9c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Elementary__GL__Helpers.html#ga9f004b13bcd4439ec4a4b09ade91a3a9">ELEMENTARY_GLVIEW_GLOBAL_USE</a>(glview)&#160;&#160;&#160;do { __evas_gl_glapi = elm_glview_gl_api_get(glview); } while (0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience macro to use the GL helpers in simple applications: use.  <a href="#ga9f004b13bcd4439ec4a4b09ade91a3a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Elementary__GL__Helpers.html#ga52a2ec279118834416301e66f9edebe0">ELEMENTARY_GLVIEW_GLES1_API_CHECK</a>()&#160;&#160;&#160;<a class="el" href="group__Evas__GL__GLES1__Helpers.html#ga0f481204bf3329ac719fe096a50e9acd">EVAS_GL_GLES1_API_CHECK</a>()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to check that the GL APIs are properly set (GLES 1.1)  <a href="#ga52a2ec279118834416301e66f9edebe0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Elementary__GL__Helpers.html#ga4c0f03b9269e246701dcbdcf30e3c851">ELEMENTARY_GLVIEW_GLES2_API_CHECK</a>()&#160;&#160;&#160;<a class="el" href="group__Evas__GL__GLES2__Helpers.html#gabf363db5d6e6842cb0bb2471626e644a">EVAS_GL_GLES2_API_CHECK</a>()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to check that the GL APIs are properly set (GLES 2.0)  <a href="#ga4c0f03b9269e246701dcbdcf30e3c851"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Elementary__GL__Helpers.html#ga739a63b8e4a506fd59d16a5de63e553d">ELEMENTARY_GLVIEW_GLES3_API_CHECK</a>()&#160;&#160;&#160;<a class="el" href="group__Evas__GL__GLES3__Helpers.html#ga4a2a9551102aa50a73c790c91634b4e1">EVAS_GL_GLES3_API_CHECK</a>()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to check that the GL APIs are properly set (GLES 3.0)  <a href="#ga739a63b8e4a506fd59d16a5de63e553d"></a><br/></td></tr>
</table>


<h3><a class="anchor" id="elm_opengl_page"></a>OpenGL with Elementary</h3><div class="textblock"><h2><a class="anchor" id="elm_opengl_egl2evasgl"></a>
Porting a native EGL+OpenGL-ES2 application to EFL</h2>
<p>Contents of this section: </p>
<ul>
<li><a class="el" href="group__Elementary__GL__Helpers.html#elm_opengl_foreword">Foreword</a> </li>
<li><a class="el" href="group__Elementary__GL__Helpers.html#elm_opengl_why">Why all the trouble?</a> </li>
<li><a class="el" href="group__Elementary__GL__Helpers.html#elm_opengl_evasglexample">Evas GL initialiation with GLView</a> </li>
<li><a class="el" href="group__Elementary__GL__Helpers.html#elm_opengl_direct_rendering">Direct rendering with Evas GL</a> </li>
<li><a class="el" href="group__Elementary__GL__Helpers.html#elm_opengl_gles1">OpenGL-ES 1.1 support in EFL</a> </li>
<li><a class="el" href="group__Elementary__GL__Helpers.html#elm_opengl_otheregl">Other uses of EGL and their Evas GL equivalents</a></li>
</ul>
<h3><a class="anchor" id="elm_opengl_foreword"></a>
Foreword</h3>
<p>While Evas and Ecore provide all the required functions to build a whole application based on EFL and using OpenGL, it is recommended to use <a class="el" href="group__Elm__GLView.html">GLView</a> instead. Elementary <a class="el" href="group__Elm__GLView.html">GLView</a> will create a drawable GL surface for the application, and set up all the required callbacks so that the complexity of Evas GL is hidden.</p>
<h3><a class="anchor" id="elm_opengl_helpers"></a>
Convenience functions for OpenGL with EFL</h3>
<p>The file <a class="el" href="group__Elementary__GL__Helpers.html">Elementary_GL_Helpers.h</a> provides some convenience functions that ease the use of OpenGL within an Elementary application.</p>
<h3><a class="anchor" id="elm_opengl_why"></a>
Why all the trouble?</h3>
<p>Evas GL is an abstraction layer on top of EGL, GLX or WGL that should provide the necessary features for most applications, in a platform-independent way. Since the goal of Evas GL is to abstract the underlying platform, only a subset of the features can be used by applications.</p>
<p>On top of this, an Evas GL surface can be stacked within a GUI layout just like any other widget, and will support transparency, direct rendering, and various other features. For these reasons, it is not possible to directly expose lower level APIs like OpenGL or EGL and interact with Evas as the same time.</p>
<p>The following sections should provide developers guides on how to use OpenGL-ES in an EFL application.</p>
<h3><a class="anchor" id="elm_opengl_evasglexample"></a>
Evas GL initialiation with GLView</h3>
<p>When using <a class="el" href="group__Elm__GLView.html">GLView</a>, EFL will take care of the tedious creation of all the surfaces and contexts. Also, EFL hides the underlying display system so there is no way to get a direct handle to</p>
<p>Here is a demo using EFL with OpenGL:</p>
<div class="fragment"><pre class="fragment"><span class="comment">// gcc `pkg-config --cflags --libs elementary` glview.c -o glview</span>
<span class="preprocessor">#include &lt;Elementary_GL_Helpers.h&gt;</span>

<span class="keyword">static</span> <span class="keywordtype">void</span> _draw_gl(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj)
{
   <a class="code" href="group__Elementary__GL__Helpers.html#ga5d4feb845f477a9a4afb5d96850ce497" title="Convenience macro to insert at the beginning of every function calling OpenGL with GLView...">ELEMENTARY_GLVIEW_USE</a>(obj);

   glClearColor(0.2, 0.2, 0.2, 1.0);
   glClear(GL_COLOR_BUFFER_BIT);
}

<span class="keyword">static</span> <span class="keywordtype">void</span> _resize_gl(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj)
{
   <a class="code" href="group__Elementary__GL__Helpers.html#ga5d4feb845f477a9a4afb5d96850ce497" title="Convenience macro to insert at the beginning of every function calling OpenGL with GLView...">ELEMENTARY_GLVIEW_USE</a>(obj);
   <span class="keywordtype">int</span> w, h;

   elm_glview_size_get(obj, &amp;w, &amp;h);
   glViewport(0, 0, w, h);
}

<span class="comment">// This is the GL initialization function</span>
<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a>* glview_create(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *win)
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *glview;

   glview = <a class="code" href="group__Elm__GLView.html#ga2ab32b7aee3433992b3f0edba5909a42">elm_glview_add</a>(win);
   <a class="code" href="group__Elm__Win.html#gacdfbf68cb25f78e2884c2886ecb829dd" title="Add subobj as a resize object of window obj.">elm_win_resize_object_add</a>(win, glview);
   elm_glview_mode_set(glview, <a class="code" href="group__Elm__GLView.html#gga4d0a2281e13c66d7274987ef24e7abe7a00c61dd95cd14bfb20b575e85913990a">ELM_GLVIEW_ALPHA</a> | <a class="code" href="group__Elm__GLView.html#gga4d0a2281e13c66d7274987ef24e7abe7ae9ce1787f812b721ab0403ebaad3e442">ELM_GLVIEW_DEPTH</a> | <a class="code" href="group__Elm__GLView.html#gga4d0a2281e13c66d7274987ef24e7abe7aa211a5cc15ed45dd9e3fcbd82d53e9ba">ELM_GLVIEW_STENCIL</a>);
   elm_glview_resize_policy_set(glview, <a class="code" href="group__Elm__GLView.html#gga9c04014df286723f9716e974d9bb7912a47c5f63726f7746784449b3025facf16">ELM_GLVIEW_RESIZE_POLICY_RECREATE</a>);
   elm_glview_render_policy_set(glview, <a class="code" href="group__Elm__GLView.html#ggab0c73016c3466ad45c58814aae34ddd7a17ebe10e3b42f7668727e5ee4f9a382a">ELM_GLVIEW_RENDER_POLICY_ON_DEMAND</a>);
   <span class="comment">//elm_glview_init_func_set(glview, _init_gl);</span>
   <span class="comment">//elm_glview_del_func_set(glview, _del_gl);</span>
   elm_glview_render_func_set(glview, _draw_gl);
   elm_glview_resize_func_set(glview, _resize_gl);
   <a class="code" href="group__Evas__Object__Group__Size__Hints.html#ga3014f5c9dfbdc6c7af41a27826e50e57" title="Sets the hints for an object&#39;s minimum size.">evas_object_size_hint_min_set</a>(glview, 250, 250);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(glview);

   <span class="keywordflow">return</span> glview;
}

<a class="code" href="group__Eina__Types__Group.html#ga3db3556eec8ef18cb8ddb43816974ac8" title="Used to export functions(by changing visibility).">EAPI</a> <span class="keywordtype">int</span> elm_main(<span class="keywordtype">int</span> argc <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <span class="keywordtype">char</span> **argv EINA_UNUSED)
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *win;

   <span class="comment">// Set the acceleration preference to 3d</span>
   <a class="code" href="group__Elm__Engine.html#ga5bffe9d8bd36424943aa8d20ac148027" title="Set Elementary&#39;s acceleration preferences for new windows.">elm_config_accel_preference_set</a>(<span class="stringliteral">&quot;3d&quot;</span>);

   <span class="comment">// Create a window</span>
   win = <a class="code" href="group__Elm__Win.html#gac75d7752662fab73d6420706ce5be996">elm_win_util_standard_add</a>(<span class="stringliteral">&quot;glview&quot;</span>, <span class="stringliteral">&quot;GLView&quot;</span>);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(win);

   <span class="comment">// Setup our GLView</span>
   glview_create(win);

   <a class="code" href="group__Elm__General.html#gadf2553f83e6b0b9c7fbe054019a664a1">elm_run</a>();
   <a class="code" href="group__Elm__General.html#ga9de9b3690cc9d500e4576e0f086a099a">elm_shutdown</a>();
   <span class="keywordflow">return</span> 0;
}
<a class="code" href="group__Elm__General.html#ga50fe52d513f7e89c9c770afd76de7ad9">ELM_MAIN</a>()
</pre></div><h3><a class="anchor" id="elm_opengl_direct_rendering"></a>
Direct rendering with Evas GL</h3>
<p>Evas GL can be used to render directly to the back buffer of the Evas window. It is important to note that this is an optimization path and this will present a few limitations. Normally, Evas GL will create an FBO and use it as target surface for all the GL draw operations, and finally blend this FBO's contents to the Evas canvas.</p>
<p>Evas GL will automatically fallback to indirect rendering unless the conditions are right. The flag <a class="el" href="group__Evas__GL.html#ggaf2221e9c06a3fae1d7a314dc0788f90ba46b3bea3c1f01315d4277aa7e2f82912">EVAS_GL_OPTIONS_DIRECT</a> must be set on the target surface in order to enable direct rendering. When using the Elementary GLView widget, the flag <code>ELM_GLVIEW_DIRECT</code> should be set.</p>
<p>Some limitations of direct rendering include the following: </p>
<ul>
<li>If <code>glClear()</code> is called after <code>glClearColor(0,0,0,0)</code>, then clear will be skipped for the color buffer. Otherwise this would erase the back buffer in evas, instead of preparing a transparent surface for GL rendering. Opaque colors will be cleared as expected (eg. <code></code>(0,0,0,1)). </li>
<li>Evas GL will fallback to indirect rendering if an Evas Map is applied, or if other conditions force Evas to fallback. </li>
<li>The user application is responsible for handling screen rotation when using direct rendering, which is why applications should set the flag <a class="el" href="group__Evas__GL.html#ggaf2221e9c06a3fae1d7a314dc0788f90ba482c4212188c743ea5c201de4a394c37">EVAS_GL_OPTIONS_CLIENT_SIDE_ROTATION</a> on the GL surface (or <a class="el" href="group__Elm__GLView.html#gga4d0a2281e13c66d7274987ef24e7abe7ae285fb7bf02283abded2b28309bca582">ELM_GLVIEW_CLIENT_SIDE_ROTATION</a> for <a class="el" href="group__Elm__GLView.html">GLView</a>). Please also see <a class="el" href="group__Evas__GL.html#ga10dd6f2e3a55ab38edc2848703b773c6">evas_gl_rotation_get</a>.</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Direct rendering is an option that can drastically improve the performance of OpenGL applications, but it can exhibit some side effects.</dd></dl>
<h3><a class="anchor" id="elm_opengl_gles1"></a>
OpenGL-ES 1.1 support in EFL</h3>
<p>Since Tizen 2.3, Evas GL supports the OpenGL-ES 1.1 set of rendering APIs on top of the normal OpenGL-ES 2.0 APIs, if the drivers supports it.</p>
<p>With <a class="el" href="group__Elm__GLView.html">GLView</a>, it is easy to create a 1.1 capable surface: </p>
<div class="fragment"><pre class="fragment"><a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *glview;
glview = elm_glview_version_add(win, <a class="code" href="group__Evas__GL.html#gga1b30afb1340b3409c79dbd4ad363a5c9a70d5e5d28a725b6ebe099e01d37d90fa">EVAS_GL_GLES_1_X</a>);
</pre></div><h3><a class="anchor" id="elm_opengl_gles3"></a>
OpenGL-ES 3.0 support in EFL</h3>
<p>Since Tizen 2.4, Evas GL supports the OpenGL-ES 3.0 set of rendering APIs on top of the normal OpenGL-ES 2.0 APIs, if the drivers supports it.</p>
<p>With <a class="el" href="group__Elm__GLView.html">GLView</a>, it is easy to create a 3.0 capable surface: </p>
<div class="fragment"><pre class="fragment"><a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *glview;
glview = elm_glview_version_add(win, <a class="code" href="group__Evas__GL.html#gga1b30afb1340b3409c79dbd4ad363a5c9a159d60e6a14c6377a1886dfae3f273f4">EVAS_GL_GLES_3_X</a>);
</pre></div><p>As usual, the GL API is available using elm_glview_gl_api_get, which can be abstracted with <a class="el" href="group__Elementary__GL__Helpers.html#ga5d4feb845f477a9a4afb5d96850ce497">ELEMENTARY_GLVIEW_USE</a>.</p>
<p>When using Evas GL directly, developers must be careful to use <a class="el" href="group__Evas__GL.html#ga27ef9aa8975f62d6e9ef552ebfc834f7">evas_gl_context_api_get</a> with the current context in order to get the proper API (1.1 or 2.0 or 3.0). Indeed, <a class="el" href="group__Evas__GL.html#gafb3bfac073afb5d6bb6d7c4b35df7bb2">evas_gl_api_get</a> will always return a GLES 2.0 API, and the 1.1 and 2.0 APIs are not compatible. Also, the application will then be responsible for calling <code>evas_gl_make_current</code>.</p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Always use <a class="el" href="group__Elm__GLView.html">GLView</a> unless there is a very good reason not to.</dd></dl>
<h3><a class="anchor" id="elm_opengl_otheregl"></a>
Other uses of EGL and their Evas GL equivalents</h3>
<p>Of course, Evas GL is not limited to creating fullscreen OpenGL target surfaces, and some developers might want to exploit some of the more advanced features of Evas GL.</p>
<ul>
<li><a class="el" href="group__Elementary__GL__Helpers.html#elm_opengl_evasglvsegl">Evas GL vs. EGL</a> </li>
<li><a class="el" href="group__Elementary__GL__Helpers.html#elm_opengl_surfquery">Query surfaces for their properties</a> </li>
<li><a class="el" href="group__Elementary__GL__Helpers.html#elm_opengl_pbuffer">PBuffer surfaces for multithread rendering</a></li>
</ul>
<p>These features usually require to use <a class="el" href="group__Evas__GL.html">Rendering GL on Evas</a> directly rather than just <a class="el" href="group__Elm__GLView.html">GLView</a>.</p>
<p><a class="anchor" id="elm_opengl_evasglvsegl"></a> </p>
<h2>Evas GL vs. EGL </h2>
<p>As explained above, Evas GL is an abstraction layer on top of EGL, but not limited to EGL. While trying to look similar to EGL, Evas GL should also support GLX and other backends (WGL, ...).</p>
<p>As a consequence, only a subset of the EGL features are supported by Evas GL.</p>
<p>Manual work is required in order to transform all calls to EGL into Evas GL calls, but the final code should be much lighter when using EFL. Here is a simple table comparison between EGL and Evas GL calls:</p>
<table  border="1">
<tr>
<th>EGL  </th><th>Evas GL  </th><th>Comment   </th></tr>
<tr>
<td><code>eglGetDisplay</code>  </td><td>N/A  </td><td>Not required   </td></tr>
<tr>
<td><code>eglInitialize</code>  </td><td><a class="el" href="group__Evas__GL.html#gaeb068041a75d1842c8a5ed2d94517773">evas_gl_new</a>  </td><td>-   </td></tr>
<tr>
<td><code>eglTerminate</code>  </td><td><a class="el" href="group__Evas__GL.html#gae397ad2b3b76783ce305e0f15e04c403">evas_gl_free</a>  </td><td>-   </td></tr>
<tr>
<td><code>eglQueryString</code>  </td><td><a class="el" href="group__Evas__GL.html#ga46f06b7d4cd079a2fefe660fd1803943">evas_gl_string_query</a>  </td><td>For extensions: if (glapi-&gt;evasglExtFunc) { ... }   </td></tr>
<tr>
<td><code>eglReleaseThread</code>  </td><td>N/A  </td><td>-   </td></tr>
<tr>
<td><code>eglGetConfigs</code>  </td><td>N/A  </td><td>Not required   </td></tr>
<tr>
<td><code>eglGetConfigAttrib</code>  </td><td>N/A  </td><td>-   </td></tr>
<tr>
<td><code>eglChooseConfig</code>  </td><td><a class="el" href="group__Evas__GL.html#ga3a2c5b0dea5cf3cd069b45b141e5df01">evas_gl_config_new</a> and <a class="el" href="group__Evas__GL.html#ga4214dcf5b6e892c676d0c2d584a755c9">Evas_GL_Config</a>  </td><td>-   </td></tr>
<tr>
<td><code>eglCreateWindowSurface</code>  </td><td><a class="el" href="group__Elm__GLView.html">GLView</a> or <a class="el" href="group__Evas__GL.html#ga1294578ac3659b567ce514aefb0dd2e3">evas_gl_surface_create</a>  </td><td><a class="el" href="group__Elm__GLView.html">GLView</a> provides <a class="el" href="group__Elm__GLView.html#ga2ab32b7aee3433992b3f0edba5909a42">elm_glview_add</a>   </td></tr>
<tr>
<td><code>eglCreatePixmapSurface</code>  </td><td>N/A  </td><td>Not available because it is platform dependent   </td></tr>
<tr>
<td><code>eglCreatePbufferSurface</code>  </td><td><a class="el" href="group__Evas__GL.html#ga65f6fe355ed9bf97fb5f7311fca6fe40">evas_gl_pbuffer_surface_create</a>  </td><td>-   </td></tr>
<tr>
<td><code>eglCreatePbufferFromClientBuffer</code>  </td><td>N/A  </td><td>-   </td></tr>
<tr>
<td><code>eglDestroySurface</code>  </td><td><a class="el" href="group__Evas__GL.html#ga28b05582889909fb2294749e2301af5e">evas_gl_surface_destroy</a>  </td><td>-   </td></tr>
<tr>
<td><code>eglSurfaceAttrib</code>  </td><td>N/A  </td><td>Surfaces can't be changed   </td></tr>
<tr>
<td><code>eglQuerySurface</code>  </td><td><a class="el" href="group__Evas__GL.html#ga3f477c2f4f4c93532fe6e5cbd5827675">evas_gl_surface_query</a>  </td><td>Subset of features only   </td></tr>
<tr>
<td><code>eglCreateContext</code>  </td><td><a class="el" href="group__Evas__GL.html#gad8d1738d08d06b7606c1a79a3af9fc5f">evas_gl_context_create</a> and <a class="el" href="group__Evas__GL.html#ga34617a4999e7ca74429df86cf58d6ba5">evas_gl_context_version_create</a>  </td><td><a class="el" href="group__Elm__GLView.html">GLView</a> provides <a class="el" href="group__Elm__GLView.html#ga2ab32b7aee3433992b3f0edba5909a42">elm_glview_add</a>   </td></tr>
<tr>
<td><code>eglDestroyContext</code>  </td><td><a class="el" href="group__Evas__GL.html#ga74a51313ed70473ab0e18e8ccd2551b5">evas_gl_context_destroy</a>  </td><td>-   </td></tr>
<tr>
<td><code>eglMakeCurrent</code>  </td><td><a class="el" href="group__Evas__GL.html#ga9ba77874faa45b94641a3f1e1547e080">evas_gl_make_current</a>  </td><td>-   </td></tr>
<tr>
<td><code>eglWaitGL</code>  </td><td>N/A  </td><td>Use a fence sync if available   </td></tr>
<tr>
<td><code>eglWaitNative</code>  </td><td>N/A  </td><td>Use a fence sync if available   </td></tr>
<tr>
<td><code>eglWaitClient</code>  </td><td>N/A  </td><td>Use a fence sync if available   </td></tr>
<tr>
<td><code>eglSwapBuffers</code>  </td><td>N/A  </td><td>Transparently done by Evas   </td></tr>
<tr>
<td><code>eglCopyBuffers</code>  </td><td>N/A  </td><td>Not available because it is platform dependent   </td></tr>
<tr>
<td><code>eglSwapInterval</code>  </td><td>N/A  </td><td>Transparently done by Ecore and Evas   </td></tr>
<tr>
<td><code>eglBindTexImage</code>  </td><td>N/A  </td><td>Not available, use FBOs   </td></tr>
<tr>
<td><code>eglReleaseTexImage</code>  </td><td>N/A  </td><td>Not available, use FBOs   </td></tr>
<tr>
<td><code>eglGetProcAddress</code>  </td><td><a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1" title="The structure type of the Evas GL API object that contains the GL APIs to be used in Evas GL...">Evas_GL_API</a>: <a class="el" href="group__Evas__GL.html#ga5b6e0dd030469751b00ac76e5a2f9ec1" title="Returns a extension function from the Evas_GL glue layer.">evas_gl_proc_address_get</a>  </td><td>Provides extra Evas GL extensions (not EGL)   </td></tr>
<tr>
<td><code>eglCreateImageKHR</code>  </td><td><a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1" title="The structure type of the Evas GL API object that contains the GL APIs to be used in Evas GL...">Evas_GL_API</a>: <a class="el" href="struct__Evas__GL__API.html#evasglCreateImageForContext">evasglCreateImageForContext</a>  </td><td>Extension   </td></tr>
<tr>
<td><code>eglDestroyImageKHR</code>  </td><td><a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1" title="The structure type of the Evas GL API object that contains the GL APIs to be used in Evas GL...">Evas_GL_API</a>:<a class="el" href="struct__Evas__GL__API.html#evasglDestroyImage">evasglDestroyImage</a>  </td><td>Extension   </td></tr>
<tr>
<td><code>eglCreateSyncKHR</code>  </td><td><a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1" title="The structure type of the Evas GL API object that contains the GL APIs to be used in Evas GL...">Evas_GL_API</a>: <a class="el" href="struct__Evas__GL__API.html#evasglCreateSync">evasglCreateSync</a>  </td><td>Extension   </td></tr>
<tr>
<td><code>eglDestroySyncKHR</code>  </td><td><a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1" title="The structure type of the Evas GL API object that contains the GL APIs to be used in Evas GL...">Evas_GL_API</a>: <a class="el" href="struct__Evas__GL__API.html#evasglDestroySync">evasglDestroySync</a>  </td><td>Extension   </td></tr>
<tr>
<td><code>eglClientWaitSyncKHR</code>  </td><td><a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1" title="The structure type of the Evas GL API object that contains the GL APIs to be used in Evas GL...">Evas_GL_API</a>: <a class="el" href="struct__Evas__GL__API.html#evasglClientWaitSync">evasglClientWaitSync</a>  </td><td>Extension   </td></tr>
<tr>
<td><code>eglSignalSyncKHR</code>  </td><td><a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1" title="The structure type of the Evas GL API object that contains the GL APIs to be used in Evas GL...">Evas_GL_API</a>: <a class="el" href="struct__Evas__GL__API.html#evasglSignalSync">evasglSignalSync</a>  </td><td>Extension   </td></tr>
<tr>
<td><code>eglGetSyncAttribKHR</code>  </td><td><a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1" title="The structure type of the Evas GL API object that contains the GL APIs to be used in Evas GL...">Evas_GL_API</a>: <a class="el" href="struct__Evas__GL__API.html#evasglGetSyncAttrib">evasglGetSyncAttrib</a>  </td><td>Extension   </td></tr>
<tr>
<td><code>eglWaitSyncKHR</code>  </td><td><a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1" title="The structure type of the Evas GL API object that contains the GL APIs to be used in Evas GL...">Evas_GL_API</a>: <a class="el" href="struct__Evas__GL__API.html#evasglWaitSync">evasglWaitSync</a>  </td><td>Extension   </td></tr>
</table>
<p>The extensions above may or may not be available depending on the OpenGL driver and the backend used.</p>
<p>Some EGL definitions have also been imported and transformed for Evas GL. In particular, the EVAS_GL error codes returned by <a class="el" href="group__Evas__GL.html#gad08d157ab899b80dd6d10bf807516063">evas_gl_error_get</a> don't start from <code>0x3000</code> like EGL but from 0. Also, attribute lists can be terminated by 0 instead of <code>EGL_NONE</code>.</p>
<p><a class="anchor" id="elm_opengl_surfquery"></a> </p>
<h2>Query surfaces for their properties </h2>
<p>When using EGL, it is common to query a surface for its properties. Evas GL supports only a subset of the surface properties: </p>
<ul>
<li><a class="el" href="group__Evas__GL.html#gad4eb035155cac61db0221cbccb666a7e">EVAS_GL_WIDTH</a>, </li>
<li><a class="el" href="group__Evas__GL.html#ga83d947bdfbad1d50efb18ead73c0eb77">EVAS_GL_HEIGHT</a>, </li>
<li><a class="el" href="group__Evas__GL.html#gaa79caa7c102fa5db36232826458f40e5">EVAS_GL_TEXTURE_FORMAT</a>, </li>
<li><a class="el" href="group__Evas__GL.html#gade37f4a2288b13f8559870ddb32d9e65">EVAS_GL_TEXTURE_TARGET</a></li>
</ul>
<p>Refer to <a class="el" href="group__Evas__GL.html#ga3f477c2f4f4c93532fe6e5cbd5827675">evas_gl_surface_query</a> for more information.</p>
<p><a class="anchor" id="elm_opengl_pbuffer"></a> </p>
<h2>PBuffer surfaces for multithread rendering </h2>
<p>If an application wants to render offscreen using OpenGL, it can use FBOs. But if the application wants to render in a separate render thread, a surface must be created for that thread in order to call <a class="el" href="group__Evas__GL.html#ga9ba77874faa45b94641a3f1e1547e080">evas_gl_make_current</a>.</p>
<p>In the EGL world, it is common to create a PBuffer surface with <code>eglCreatePBufferSurface()</code> and set its size to 1x1. With <a class="el" href="group__Evas__GL.html">Rendering GL on Evas</a> this is possible using <a class="el" href="group__Evas__GL.html#ga65f6fe355ed9bf97fb5f7311fca6fe40">evas_gl_pbuffer_surface_create</a>.</p>
<p>Here is how an application could setup a render context in a separate thread:</p>
<div class="fragment"><pre class="fragment"><span class="comment">// In the init function:</span>
<a class="code" href="group__Evas__GL.html#ga3c2530dd88bd600cccb5dc0840fc837c" title="The structure type of the Evas GL Surface object, a GL rendering target in Evas GL.">Evas_GL_Surface</a> *sfc;
<a class="code" href="struct__Evas__GL__Config.html" title="A structure used to specify the configuration of an Evas_GL_Surface.">Evas_GL_Config</a> *cfg;
<a class="code" href="group__Evas__GL.html#ga5e3762a0804b90ec4f0951ed8019167b" title="The structure type of the Evas GL Context object, a GL rendering context in Evas GL.">Evas_GL_Context</a> *ctx;
<a class="code" href="group__Evas__GL.html#ga490f9a8e413b19a927ab75385355424f" title="The structure type of the Evas GL object used to render GL in Evas.">Evas_GL</a> *evasgl;

evasgl = elm_glview_evas_gl_get(glview);

cfg = <a class="code" href="group__Evas__GL.html#ga3a2c5b0dea5cf3cd069b45b141e5df01" title="Allocates a new config object for the user to fill out.">evas_gl_config_new</a>();
cfg-&gt;<a class="code" href="struct__Evas__GL__Config.html#a738e2c7f49ed82f168ec35ef3d1dd7d5">color_format</a> = <a class="code" href="group__Evas__GL.html#gga80b67adf0198000a506c202bf72d12aeaa77bacda77e4cf91cda23b18722731d5">EVAS_GL_RGBA_8888</a>;
cfg-&gt;<a class="code" href="struct__Evas__GL__Config.html#a94bf493d6086d09853e2821cd528cb15">depth_bits</a> = EVAS_GL_DEPTH_NONE;
cfg-&gt;<a class="code" href="struct__Evas__GL__Config.html#adf4352475f4b5cc0b93c27e5b929c7cd">stencil_bits</a> = EVAS_GL_STENCIL_NONE;
cfg-&gt;<a class="code" href="struct__Evas__GL__Config.html#af0721ece0ff172e00d89f1df140442c3">options_bits</a> = <a class="code" href="group__Evas__GL.html#ggaf2221e9c06a3fae1d7a314dc0788f90ba2a2b454910b0a05850db29bfef88dd71">EVAS_GL_OPTIONS_NONE</a>;

sfc = <a class="code" href="group__Evas__GL.html#ga65f6fe355ed9bf97fb5f7311fca6fe40" title="Create a pixel buffer surface.">evas_gl_pbuffer_surface_create</a>(evasgl, cfg, WIDTH, HEIGHT, NULL);
ctx = <a class="code" href="group__Evas__GL.html#gad8d1738d08d06b7606c1a79a3af9fc5f" title="Creates and returns a new Evas GL context object (OpenGL-ES 2.0).">evas_gl_context_create</a>(elm_glview_evas_gl_get(glview), NULL);
<a class="code" href="group__Evas__GL.html#gacb5b95f5586dda02df3b736ad4a11cce" title="Frees a config object created from evas_gl_config_new.">evas_gl_config_free</a>(cfg);
<span class="comment">// ...</span>

<span class="comment">// In the render function:</span>
<a class="code" href="group__Evas__GL.html#ga9ba77874faa45b94641a3f1e1547e080" title="Sets the given context as the current context for the given surface.">evas_gl_make_current</a>(evasgl, sfc, ctx);

<span class="comment">// Render to a FBO, bind it to a native image and pass it to the main thread</span>
<span class="comment">// using an EvasGLImage.</span>
</pre></div><p>Multithread OpenGL rendering with Evas GL is the topic of another guide. </p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga52a2ec279118834416301e66f9edebe0"></a><!-- doxytag: member="Elementary_GL_Helpers.h::ELEMENTARY_GLVIEW_GLES1_API_CHECK" ref="ga52a2ec279118834416301e66f9edebe0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__Elementary__GL__Helpers.html#ga52a2ec279118834416301e66f9edebe0">ELEMENTARY_GLVIEW_GLES1_API_CHECK</a></td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__Evas__GL__GLES1__Helpers.html#ga0f481204bf3329ac719fe096a50e9acd">EVAS_GL_GLES1_API_CHECK</a>()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Macro to check that the GL APIs are properly set (GLES 1.1) </p>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3 </dd></dl>

</div>
</div>
<a class="anchor" id="ga4c0f03b9269e246701dcbdcf30e3c851"></a><!-- doxytag: member="Elementary_GL_Helpers.h::ELEMENTARY_GLVIEW_GLES2_API_CHECK" ref="ga4c0f03b9269e246701dcbdcf30e3c851" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__Elementary__GL__Helpers.html#ga4c0f03b9269e246701dcbdcf30e3c851">ELEMENTARY_GLVIEW_GLES2_API_CHECK</a></td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__Evas__GL__GLES2__Helpers.html#gabf363db5d6e6842cb0bb2471626e644a">EVAS_GL_GLES2_API_CHECK</a>()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Macro to check that the GL APIs are properly set (GLES 2.0) </p>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3 </dd></dl>

</div>
</div>
<a class="anchor" id="ga739a63b8e4a506fd59d16a5de63e553d"></a><!-- doxytag: member="Elementary_GL_Helpers.h::ELEMENTARY_GLVIEW_GLES3_API_CHECK" ref="ga739a63b8e4a506fd59d16a5de63e553d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__Elementary__GL__Helpers.html#ga739a63b8e4a506fd59d16a5de63e553d">ELEMENTARY_GLVIEW_GLES3_API_CHECK</a></td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__Evas__GL__GLES3__Helpers.html#ga4a2a9551102aa50a73c790c91634b4e1">EVAS_GL_GLES3_API_CHECK</a>()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Macro to check that the GL APIs are properly set (GLES 3.0) </p>
<dl class="user"><dt><b>Since :</b></dt><dd>2.4 </dd></dl>

</div>
</div>
<a class="anchor" id="ga19fb5b398c29179e5c51f725b87f2c71"></a><!-- doxytag: member="Elementary_GL_Helpers.h::ELEMENTARY_GLVIEW_GLOBAL_DECLARE" ref="ga19fb5b398c29179e5c51f725b87f2c71" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__Elementary__GL__Helpers.html#ga19fb5b398c29179e5c51f725b87f2c71">ELEMENTARY_GLVIEW_GLOBAL_DECLARE</a></td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;extern <a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1">Evas_GL_API</a> *__evas_gl_glapi;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convenience macro to use the GL helpers in simple applications: declare. </p>
<p>This second set of helper macros can be used in simple applications that use OpenGL with a single target surface.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Be very careful when using these macros! The only recommended solution is to use <a class="el" href="group__Elementary__GL__Helpers.html#ga5d4feb845f477a9a4afb5d96850ce497">ELEMENTARY_GLVIEW_USE</a> in every client function. Here are some situations where you should <b>not</b> use the global helpers: <ul>
<li>If you are using more than one Evas canvas at a time (eg. multiple windows). The GL API will be different if you are using different rendering engines (software and GL for instance), and this can happen as soon as you have multiple canvases. </li>
<li>If you are using multiple GLES APIs i.e OpenGL-ES 1.1, OpenGL-ES 2.0 and OpenGL-ES 3.0 APIs. </li>
<li>If you are writing or porting a library that may be used by other applications.</li>
</ul>
This set of macros should be used only in the following situation: <ul>
<li>Only one surface is used for GL rendering, </li>
<li>Only one API set (GLES 1.1 or GLES 2.0 or GLES 3.0) is used <code>ELEMENTARY_GLVIEW_GLOBAL_DECLARE</code> should be used in a global header for the application. For example, in a platform-specific compatibility header file.</li>
</ul>
Example of a global header file <code>main.h:</code> <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;Elementary_GL_Helpers.h&gt;</span>
<span class="comment">// other includes...</span>

<a class="code" href="group__Elementary__GL__Helpers.html#ga19fb5b398c29179e5c51f725b87f2c71" title="Convenience macro to use the GL helpers in simple applications: declare.">ELEMENTARY_GLVIEW_GLOBAL_DECLARE</a>()

<span class="comment">// ...</span>
</pre></div></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__Elementary__GL__Helpers.html#ga6ce48fb99e3774c4de3d1af7a6f4ac9c">ELEMENTARY_GLVIEW_GLOBAL_DEFINE</a> </dd>
<dd>
<a class="el" href="group__Elementary__GL__Helpers.html#ga9f004b13bcd4439ec4a4b09ade91a3a9">ELEMENTARY_GLVIEW_GLOBAL_USE</a></dd></dl>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3 </dd></dl>

</div>
</div>
<a class="anchor" id="ga6ce48fb99e3774c4de3d1af7a6f4ac9c"></a><!-- doxytag: member="Elementary_GL_Helpers.h::ELEMENTARY_GLVIEW_GLOBAL_DEFINE" ref="ga6ce48fb99e3774c4de3d1af7a6f4ac9c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__Elementary__GL__Helpers.html#ga6ce48fb99e3774c4de3d1af7a6f4ac9c">ELEMENTARY_GLVIEW_GLOBAL_DEFINE</a></td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1">Evas_GL_API</a> *__evas_gl_glapi = NULL;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convenience macro to use the GL helpers in simple applications: define. </p>
<p><code>ELEMENTARY_GLVIEW_GLOBAL_DEFINE</code> should be used at the top of a file creating the <a class="el" href="group__Elm__GLView.html">GLView</a> widget.</p>
<p>Example of a file <code>glview.c:</code> </p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &quot;main.h&quot;</span>
<a class="code" href="group__Elementary__GL__Helpers.html#ga6ce48fb99e3774c4de3d1af7a6f4ac9c" title="Convenience macro to use the GL helpers in simple applications: define.">ELEMENTARY_GLVIEW_GLOBAL_DEFINE</a>()

<span class="comment">// ...</span>

static <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *
glview_create(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *parent)
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *glview;

   glview = elm_glview_version_add(parent, <a class="code" href="group__Evas__GL.html#gga1b30afb1340b3409c79dbd4ad363a5c9a4cbad76bb15ddbea384292122cea56f1">EVAS_GL_GLES_2_X</a>);
   <a class="code" href="group__Elementary__GL__Helpers.html#ga9f004b13bcd4439ec4a4b09ade91a3a9" title="Convenience macro to use the GL helpers in simple applications: use.">ELEMENTARY_GLVIEW_GLOBAL_USE</a>(glview);

   elm_glview_mode_set(glview, <a class="code" href="group__Elm__GLView.html#gga4d0a2281e13c66d7274987ef24e7abe7a00c61dd95cd14bfb20b575e85913990a">ELM_GLVIEW_ALPHA</a> | <a class="code" href="group__Elm__GLView.html#gga4d0a2281e13c66d7274987ef24e7abe7ae9ce1787f812b721ab0403ebaad3e442">ELM_GLVIEW_DEPTH</a> | <a class="code" href="group__Elm__GLView.html#gga4d0a2281e13c66d7274987ef24e7abe7aa211a5cc15ed45dd9e3fcbd82d53e9ba">ELM_GLVIEW_STENCIL</a>);
   elm_glview_resize_policy_set(glview, <a class="code" href="group__Elm__GLView.html#gga9c04014df286723f9716e974d9bb7912a47c5f63726f7746784449b3025facf16">ELM_GLVIEW_RESIZE_POLICY_RECREATE</a>);
   elm_glview_render_policy_set(glview, <a class="code" href="group__Elm__GLView.html#ggab0c73016c3466ad45c58814aae34ddd7a17ebe10e3b42f7668727e5ee4f9a382a">ELM_GLVIEW_RENDER_POLICY_ON_DEMAND</a>);

   elm_glview_init_func_set(glview, _init_gl);
   elm_glview_del_func_set(glview, _del_gl);
   elm_glview_resize_func_set(glview, _resize_gl);
   elm_glview_render_func_set(glview, _draw_gl);

   <span class="keywordflow">return</span> glview;
}

<span class="comment">// ...</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__Elementary__GL__Helpers.html#ga19fb5b398c29179e5c51f725b87f2c71">ELEMENTARY_GLVIEW_GLOBAL_DECLARE</a> </dd>
<dd>
<a class="el" href="group__Elementary__GL__Helpers.html#ga9f004b13bcd4439ec4a4b09ade91a3a9">ELEMENTARY_GLVIEW_GLOBAL_USE</a></dd></dl>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3 </dd></dl>

</div>
</div>
<a class="anchor" id="ga9f004b13bcd4439ec4a4b09ade91a3a9"></a><!-- doxytag: member="Elementary_GL_Helpers.h::ELEMENTARY_GLVIEW_GLOBAL_USE" ref="ga9f004b13bcd4439ec4a4b09ade91a3a9" args="(glview)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__Elementary__GL__Helpers.html#ga9f004b13bcd4439ec4a4b09ade91a3a9">ELEMENTARY_GLVIEW_GLOBAL_USE</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">glview</td><td>)</td>
          <td>&#160;&#160;&#160;do { __evas_gl_glapi = elm_glview_gl_api_get(glview); } while (0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convenience macro to use the GL helpers in simple applications: use. </p>
<p>This macro will set the global variable holding the GL API so that it's available to the application.</p>
<p>It should be used right after setting up the <a class="el" href="group__Elm__GLView.html">GLView</a> object.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__Elementary__GL__Helpers.html#ga19fb5b398c29179e5c51f725b87f2c71">ELEMENTARY_GLVIEW_GLOBAL_DECLARE</a> </dd>
<dd>
<a class="el" href="group__Elementary__GL__Helpers.html#ga6ce48fb99e3774c4de3d1af7a6f4ac9c">ELEMENTARY_GLVIEW_GLOBAL_DEFINE</a></dd></dl>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3 </dd></dl>

</div>
</div>
<a class="anchor" id="ga5d4feb845f477a9a4afb5d96850ce497"></a><!-- doxytag: member="Elementary_GL_Helpers.h::ELEMENTARY_GLVIEW_USE" ref="ga5d4feb845f477a9a4afb5d96850ce497" args="(glview)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__Elementary__GL__Helpers.html#ga5d4feb845f477a9a4afb5d96850ce497">ELEMENTARY_GLVIEW_USE</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">glview</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__Evas__GL.html#gac033b6a97f0f913986ef69a4ae63d8c1">Evas_GL_API</a> *__evas_gl_glapi = elm_glview_gl_api_get(glview);</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convenience macro to insert at the beginning of every function calling OpenGL with <a class="el" href="group__Elm__GLView.html">GLView</a>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">glview</td><td>Elementary GLView object in use</td></tr>
  </table>
  </dd>
</dl>
<p>Here's a very simple code example: </p>
<div class="fragment"><pre class="fragment"><span class="keyword">static</span> <span class="keywordtype">void</span> _draw_gl(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj)
{
   <a class="code" href="group__Elementary__GL__Helpers.html#ga5d4feb845f477a9a4afb5d96850ce497" title="Convenience macro to insert at the beginning of every function calling OpenGL with GLView...">ELEMENTARY_GLVIEW_USE</a>(obj);

   glClearColor(0.2, 0.2, 0.2, 1.0);
   glClear(GL_COLOR_BUFFER_BIT);
}
</pre></div><p>This is the equivalent of: </p>
<div class="fragment"><pre class="fragment"><span class="keyword">static</span> <span class="keywordtype">void</span> _draw_gl(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj)
{
   <a class="code" href="struct__Evas__GL__API.html" title="The Evas GL API This structure contains function pointers to the available GL functions. Some of these functions may be wrapped internally by Evas GL.">Evas_GL_API</a> *api = elm_glview_gl_api_get(obj);

   api-&gt;glClearColor(0.2, 0.2, 0.2, 1.0);
   api-&gt;glClear(GL_COLOR_BUFFER_BIT);
}
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>This macro should be used in every function that calls OpenGL from the Elementary. This indeed means that each function must have access to the <a class="el" href="group__Elm__GLView.html">GLView</a> widget. Although this might require some changes in existing GL codebases, this is the recommended way to use the GL API.</dd></dl>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3 </dd></dl>

</div>
</div>
<a class="anchor" id="ga992895872703a2765fb6b9a0bacc12a2"></a><!-- doxytag: member="Elementary_GL_Helpers.h::ELEMENTARY_GLVIEW_USE_OR_RETURN" ref="ga992895872703a2765fb6b9a0bacc12a2" args="(glview, retval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__Elementary__GL__Helpers.html#ga992895872703a2765fb6b9a0bacc12a2">ELEMENTARY_GLVIEW_USE_OR_RETURN</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">glview, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">retval&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="struct__Evas__GL__API.html" title="The Evas GL API This structure contains function pointers to the available GL functions. Some of these functions may be wrapped internally by Evas GL.">Evas_GL_API</a> *__evas_gl_glapi = elm_glview_gl_api_get(glview); \
   if (!__evas_gl_glapi) return retval;
</pre></div>
<p>Convenience macro to insert at the beginning of every function calling OpenGL with <a class="el" href="group__Elm__GLView.html">GLView</a>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">glview</td><td>Elementary <a class="el" href="group__Elm__GLView.html">GLView</a> object in use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">retval</td><td>A value to return in case of failure (GL API was not found), can be empty</td></tr>
  </table>
  </dd>
</dl>
<p>This is similar to <a class="el" href="group__Elementary__GL__Helpers.html#ga5d4feb845f477a9a4afb5d96850ce497">ELEMENTARY_GLVIEW_USE</a> except that it will return from the function if the GL API can not be used.</p>
<dl class="user"><dt><b>Since :</b></dt><dd>2.3 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
