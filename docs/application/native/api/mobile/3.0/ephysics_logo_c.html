<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: ephysics_logo.c</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">ephysics_logo.c </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="ephysics-logo-c"></a>
ephysics_logo.c</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#ifdef HAVE_CONFIG_H</span>
<span class="preprocessor"></span><span class="preprocessor"># include &lt;config.h&gt;</span>
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#include &lt;Elementary.h&gt;</span>
<span class="preprocessor">#include &lt;EPhysics.h&gt;</span>
<span class="preprocessor">#include &lt;Evas.h&gt;</span>

<span class="preprocessor">#define WIDTH (512)</span>
<span class="preprocessor"></span><span class="preprocessor">#define HEIGHT (384)</span>
<span class="preprocessor"></span><span class="preprocessor">#define DEPTH (100)</span>
<span class="preprocessor"></span><span class="preprocessor">#define FLOOR_Y (HEIGHT - 80)</span>
<span class="preprocessor"></span><span class="preprocessor">#define SH_THRESHOLD (250)</span>
<span class="preprocessor"></span><span class="preprocessor">#define SH_OFFSET_X (- 16)</span>
<span class="preprocessor"></span><span class="preprocessor">#define OFFSET_X (90)</span>
<span class="preprocessor"></span><span class="preprocessor">#define PADDING_X_1 (16)</span>
<span class="preprocessor"></span><span class="preprocessor">#define PADDING_X_2 (12)</span>
<span class="preprocessor"></span><span class="preprocessor">#define PADDING_X_3 (22)</span>
<span class="preprocessor"></span><span class="preprocessor">#define E_THRESHOLD (WIDTH + 560)</span>
<span class="preprocessor"></span><span class="preprocessor">#define LAYER_SHADOW (10)</span>
<span class="preprocessor"></span><span class="preprocessor">#define LAYER_LETTER (20)</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define CENTER(total, item)  (((total) - (item)) / 2)</span>
<span class="preprocessor"></span><span class="preprocessor">#define LIMIT(val, op, ref) (((val) op (ref)) ? (val) : (ref));</span>
<span class="preprocessor"></span><span class="preprocessor">#define PROP_GET(pos, min, max) (((min) + ((max) - (min)) * (pos)) / (max))</span>
<span class="preprocessor"></span>
<span class="keyword">static</span> <span class="keywordtype">void</span>
_update_box_cb(<span class="keywordtype">void</span> *data __UNUSED__, EPhysics_Body *body, <span class="keywordtype">void</span> *event_info)
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *image = event_info;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *shadow = <a class="code" href="group__Evas__Object__Group__Extras.html#gafbad43015793eda4ae50202c0ce0e652">evas_object_data_get</a>(image, <span class="stringliteral">&quot;shadow&quot;</span>);
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *light = <a class="code" href="group__Evas__Object__Group__Extras.html#gafbad43015793eda4ae50202c0ce0e652">evas_object_data_get</a>(image, <span class="stringliteral">&quot;light&quot;</span>);
   <span class="keywordtype">int</span> x, y, w, h, floor_distance, alpha = 0;

   <span class="comment">/* modify the evas object according to the body */</span>
   ephysics_body_evas_object_update(body);
   <a class="code" href="group__Evas__Font__Group.html#ga6f52fab1a96dc58c85ee481d84bac871">evas_object_geometry_get</a>(image, &amp;x, &amp;y, &amp;w, &amp;h);

   floor_distance = FLOOR_Y - h;

   <span class="comment">/* Bodies penetrates the ground slightly before bouncing. */</span>
   <span class="comment">/* This is to be expected in realtime physics engines. */</span>
   <span class="comment">// TODO BUG: should we move the object up by the difference????</span>
   <span class="comment">//y = LIMIT(y, &lt;=, floor_distance);</span>

   <span class="comment">/* We should show the shadow when we&#39;re close enough to ground */</span>
   <span class="keywordflow">if</span> (y &gt; SH_THRESHOLD)
     {
        <span class="keywordtype">int</span> sh_w, sh_h;
        <span class="keywordtype">double</span> pos_x;

        <a class="code" href="group__Evas__Object__Image.html#ga6307d5c3560528d7525a6c2ed16360ed">evas_object_image_size_get</a>(shadow, &amp;sh_w, &amp;sh_h);
        <span class="comment">/* shadow is darker with bigger y */</span>
        alpha = 255 * (y - SH_THRESHOLD) / (floor_distance - SH_THRESHOLD);
        <span class="comment">/* and with bigger x -- it&#39;s proportional to x / WIDTH, but varies</span>
<span class="comment">         * from 100 to 255.</span>
<span class="comment">         */</span>
        pos_x = (double) x / (WIDTH - w);
        alpha = alpha * PROP_GET(pos_x, 100, 255);
        <span class="comment">/* box shadow is not resized, just moved */</span>
        <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(shadow, x + CENTER(w, sh_w) + SH_OFFSET_X,
                         FLOOR_Y - sh_h + 2);
     }
   <a class="code" href="group__Evas__Font__Group.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(shadow, alpha, alpha, alpha, alpha);

   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(light, x, y);
   <span class="comment">/* it&#39;s lighter with bigger y */</span>
   alpha = (y &lt;= 0) ? 0 : y * 255 / floor_distance;
   <span class="comment">/* and with bigger x */</span>
   alpha = alpha * (x - OFFSET_X + 80) / (WIDTH - OFFSET_X);
   <a class="code" href="group__Evas__Font__Group.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(light, alpha, alpha, alpha, alpha);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_update_circle_cb(<span class="keywordtype">void</span> *data __UNUSED__, EPhysics_Body *body, <span class="keywordtype">void</span> *event_info)
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *image = event_info;
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *shadow = <a class="code" href="group__Evas__Object__Group__Extras.html#gafbad43015793eda4ae50202c0ce0e652">evas_object_data_get</a>(image, <span class="stringliteral">&quot;shadow&quot;</span>);
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *light = <a class="code" href="group__Evas__Object__Group__Extras.html#gafbad43015793eda4ae50202c0ce0e652">evas_object_data_get</a>(image, <span class="stringliteral">&quot;light&quot;</span>);
   <span class="keywordtype">int</span> x, y, w, h, sh_w, sh_h, alpha = 0;
   <span class="keyword">const</span> <a class="code" href="group__Evas.html#gacbda626e8d8bf52e7e3146d26d8153a7" title="An opaque handle to map points.">Evas_Map</a> *map;

   <span class="comment">/* modify the evas object according to the body */</span>
   ephysics_body_evas_object_update(body);
   <a class="code" href="group__Evas__Font__Group.html#ga6f52fab1a96dc58c85ee481d84bac871">evas_object_geometry_get</a>(image, &amp;x, &amp;y, &amp;w, &amp;h);

   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(light, x, y);
   alpha = x * 255 / (WIDTH - w);
   <a class="code" href="group__Evas__Font__Group.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(light, alpha, alpha, alpha, alpha);

   <span class="comment">/* use the same map from image to the light (rotate it) */</span>
   map = evas_object_map_get(image);
   evas_object_map_set(light, map);
   evas_object_map_enable_set(light, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);

   <a class="code" href="group__Evas__Object__Image.html#ga6307d5c3560528d7525a6c2ed16360ed">evas_object_image_size_get</a>(shadow, &amp;sh_w, &amp;sh_h);
   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(shadow, x + CENTER(w, sh_w) + SH_OFFSET_X,
                    FLOOR_Y - sh_h + 2);
   alpha = 127 + alpha / 2;
   <a class="code" href="group__Evas__Font__Group.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(shadow, alpha, alpha, alpha, alpha);

   <span class="keywordflow">if</span> (x &gt; E_THRESHOLD)
     ephysics_body_move(body, -w - 1, y, -15);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_letter_add(<a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *evas, <span class="keyword">const</span> <span class="keywordtype">char</span> *letter, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> **image, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> **light, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> **shadow)
{
   <span class="keywordtype">int</span> w, h, sh_w, sh_h;
   <span class="keywordtype">char</span> buf[1024];

   snprintf(buf, <span class="keyword">sizeof</span>(buf), PACKAGE_DATA_DIR <span class="stringliteral">&quot;/logo_shadow-%s.png&quot;</span>, letter);
   *shadow = <a class="code" href="group__Evas__Object__Image.html#ga0e8cb83d31d02bf583c75925b7cd14d7">evas_object_image_filled_add</a>(evas);
   <a class="code" href="group__Evas__Object__Image.html#gac27fd0ceabe5f56607b7a86d71577df1">evas_object_image_file_set</a>(*shadow, buf, NULL);
   <a class="code" href="group__Evas__Object__Image.html#ga6307d5c3560528d7525a6c2ed16360ed">evas_object_image_size_get</a>(*shadow, &amp;sh_w, &amp;sh_h);
   <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(*shadow, sh_w, sh_h);
   <a class="code" href="group__Evas__Font__Group.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(*shadow, 0, 0, 0, 0);
   <a class="code" href="group__Evas__Font__Group.html#gac04277bfd84a7201ba329328a18e21fd">evas_object_layer_set</a>(*shadow, LAYER_SHADOW);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(*shadow);

   snprintf(buf, <span class="keyword">sizeof</span>(buf), PACKAGE_DATA_DIR <span class="stringliteral">&quot;/logo_letter-%s.png&quot;</span>, letter);
   *image = <a class="code" href="group__Evas__Object__Image.html#ga0e8cb83d31d02bf583c75925b7cd14d7">evas_object_image_filled_add</a>(evas);
   <a class="code" href="group__Evas__Object__Image.html#gac27fd0ceabe5f56607b7a86d71577df1">evas_object_image_file_set</a>(*image, buf, NULL);
   <a class="code" href="group__Evas__Object__Image.html#ga6307d5c3560528d7525a6c2ed16360ed">evas_object_image_size_get</a>(*image, &amp;w, &amp;h);
   <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(*image, w, h);
   <a class="code" href="group__Evas__Font__Group.html#gac04277bfd84a7201ba329328a18e21fd">evas_object_layer_set</a>(*image, LAYER_LETTER);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(*image);

   snprintf(buf, <span class="keyword">sizeof</span>(buf), PACKAGE_DATA_DIR <span class="stringliteral">&quot;/logo_light-%s.png&quot;</span>, letter);
   *light = <a class="code" href="group__Evas__Object__Image.html#ga0e8cb83d31d02bf583c75925b7cd14d7">evas_object_image_filled_add</a>(evas);
   <a class="code" href="group__Evas__Object__Image.html#gac27fd0ceabe5f56607b7a86d71577df1">evas_object_image_file_set</a>(*light, buf, NULL);
   <a class="code" href="group__Evas__Font__Group.html#ga21e8604c0e4a93e469bff4bd069e82b5">evas_object_resize</a>(*light, w, h);
   <a class="code" href="group__Evas__Font__Group.html#gac04277bfd84a7201ba329328a18e21fd">evas_object_layer_set</a>(*light, LAYER_LETTER);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(*light);

   <span class="comment">/* allow easy access to shadow and light from the letter image */</span>
   <a class="code" href="group__Evas__Object__Group__Extras.html#ga70134a7068c9bff4107a761abe0a2ad4">evas_object_data_set</a>(*image, <span class="stringliteral">&quot;shadow&quot;</span>, *shadow);
   <a class="code" href="group__Evas__Object__Group__Extras.html#ga70134a7068c9bff4107a761abe0a2ad4">evas_object_data_set</a>(*image, <span class="stringliteral">&quot;light&quot;</span>, *light);
}

<span class="keyword">static</span> <span class="keywordtype">void</span>
_letter_body_setup_common(EPhysics_Body *body, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *view)
{
   ephysics_body_evas_object_set(body, view, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   ephysics_body_mass_set(body, 1.2);
   ephysics_body_restitution_set(body, 0.6);
   ephysics_body_angular_movement_enable_set(body, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>,
                                             <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>);
}

<span class="keyword">static</span> EPhysics_Body *
_letter_body_box_add(EPhysics_World *world, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *image)
{
   EPhysics_Body *body = ephysics_body_box_add(world);

   _letter_body_setup_common(body, image);

   ephysics_body_event_callback_add
     (body, EPHYSICS_CALLBACK_BODY_UPDATE, _update_box_cb, NULL);

   <span class="keywordflow">return</span> body;
}

<span class="keyword">static</span> EPhysics_Body *
_letter_body_circle_add(EPhysics_World *world, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *image)
{
   EPhysics_Body *body = ephysics_body_cylinder_add(world);

   _letter_body_setup_common(body, image);

   ephysics_body_event_callback_add
     (body, EPHYSICS_CALLBACK_BODY_UPDATE, _update_circle_cb, NULL);

   <span class="keywordflow">return</span> body;
}

EAPI_MAIN <span class="keywordtype">int</span>
elm_main(<span class="keywordtype">int</span> argc __UNUSED__, <span class="keywordtype">char</span> **argv __UNUSED__)
{
   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *win, *bg, *image, *light, *shadow;
   EPhysics_Body *ground_body, *letter_body;
   EPhysics_World *world;
   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;
   <span class="keywordtype">int</span> x, w, h, sh_w;
   <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *evas;

   <span class="keyword">struct </span>letter_desc {
      <span class="keyword">const</span> <span class="keywordtype">char</span> *letter;
      <span class="keywordtype">int</span> padding;
   } falling_letters[] = {
     {<span class="stringliteral">&quot;P&quot;</span>, PADDING_X_1},
     {<span class="stringliteral">&quot;H&quot;</span>, PADDING_X_1},
     {<span class="stringliteral">&quot;Y&quot;</span>, PADDING_X_3},
     {<span class="stringliteral">&quot;S1&quot;</span>, PADDING_X_2},
     {<span class="stringliteral">&quot;I&quot;</span>, PADDING_X_2},
     {<span class="stringliteral">&quot;C&quot;</span>, PADDING_X_3},
     {<span class="stringliteral">&quot;S2&quot;</span>, 0}
   };

   <span class="keywordflow">if</span> (!ephysics_init())
     <span class="keywordflow">return</span> - 1;

   <a class="code" href="group__Elm__General.html#ga7a05f37fd3a019da5e26c5fc91fcd937">elm_policy_set</a>(ELM_POLICY_QUIT, ELM_POLICY_QUIT_LAST_WINDOW_CLOSED);

   win = <a class="code" href="group__Elm__Win.html#gad127cc5ae04689c4f2c5b633056d0ac8">elm_win_add</a>(NULL, <span class="stringliteral">&quot;main&quot;</span>, <a class="code" href="group__Elm__Win.html#gga4df03d1a1e94e8b24a58d8ccc5d4d514aa95778c3971171c57b421e85e2dbbc8c">ELM_WIN_SPLASH</a>);
   <a class="code" href="group__Elm__Win.html#ga5a5ec5264145577accd487f9af1eb3b8" title="Set the title of the window.">elm_win_title_set</a>(win, <span class="stringliteral">&quot;EPhysics Logo&quot;</span>);
   <a class="code" href="group__Elm__Win.html#ga741d0ff352cb891268407c5287b56712" title="Set the window&#39;s autodel state.">elm_win_autodel_set</a>(win, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(win);

   bg = <a class="code" href="group__Elm__Bg.html#gaeec8f79ac62ce0cf607cfe330008a63f">elm_bg_add</a>(win);
   <a class="code" href="group__Elm__Bg.html#ga0b11c11879de61126414adfbfe3e431c">elm_bg_file_set</a>(bg, PACKAGE_DATA_DIR <span class="stringliteral">&quot;/logo_background.png&quot;</span>, NULL);
   <a class="code" href="group__Elm__Win.html#gacdfbf68cb25f78e2884c2886ecb829dd" title="Add subobj as a resize object of window obj.">elm_win_resize_object_add</a>(win, bg);
   <a class="code" href="group__Evas__Object__Group__Size__Hints.html#ga3014f5c9dfbdc6c7af41a27826e50e57" title="Sets the hints for an object&#39;s minimum size.">evas_object_size_hint_min_set</a>(bg, WIDTH, HEIGHT);
   <a class="code" href="group__Evas__Object__Group__Size__Hints.html#ga69aec74e9d28688f27c4f491c4ac8ecb" title="Sets the hints for an object&#39;s maximum size.">evas_object_size_hint_max_set</a>(bg, WIDTH, HEIGHT);
   <a class="code" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show</a>(bg);

   world = ephysics_world_new();
   ephysics_world_render_geometry_set(world, 0, 0, -50, WIDTH, HEIGHT, DEPTH);

   ground_body = ephysics_body_box_add(world);
   ephysics_body_mass_set(ground_body, EPHYSICS_BODY_MASS_STATIC);
   ephysics_body_geometry_set(ground_body, -100, FLOOR_Y, -15, WIDTH + 800, 10,
                              30);
   ephysics_body_restitution_set(ground_body, 0.65);
   ephysics_body_friction_set(ground_body, 0.8);

   evas = evas_object_evas_get(win);
   x = OFFSET_X;

   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="group__Eina__Types__Group.html#ga7c1b6f81660b4e30516169e9e7d3261c">EINA_C_ARRAY_LENGTH</a>(falling_letters); i++)
     {
        _letter_add(evas, falling_letters[i].letter, &amp;image, &amp;light, &amp;shadow);

        <a class="code" href="group__Evas__Object__Image.html#ga6307d5c3560528d7525a6c2ed16360ed">evas_object_image_size_get</a>(shadow, &amp;sh_w, NULL);
        <a class="code" href="group__Evas__Object__Image.html#ga6307d5c3560528d7525a6c2ed16360ed">evas_object_image_size_get</a>(image, &amp;w, &amp;h);

        <span class="comment">/* place image and light on top, above what the viewport can show */</span>
        <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(image, x, -h * (i + 1) - 50);
        <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(light, x, -h * (i + 1) - 50);
        <span class="comment">/* place shadow below the hit-line: FLOOR_Y, centered at image */</span>
        <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(shadow, x + CENTER(w, sh_w), FLOOR_Y);

        x += falling_letters[i].padding + w;

        letter_body = _letter_body_box_add(world, image);
        ephysics_body_friction_set(letter_body, 0.4);
     }

   <span class="comment">/* E is a circle that comes rolling on the floor */</span>
   _letter_add(evas, <span class="stringliteral">&quot;E&quot;</span>, &amp;image, &amp;light, &amp;shadow);
   <a class="code" href="group__Evas__Font__Group.html#gae34bdcfd7f5100151f6ea8ef4a392949">evas_object_color_set</a>(shadow, 255, 255, 255, 255);

   <a class="code" href="group__Evas__Object__Image.html#ga6307d5c3560528d7525a6c2ed16360ed">evas_object_image_size_get</a>(shadow, &amp;sh_w, NULL);
   <a class="code" href="group__Evas__Object__Image.html#ga6307d5c3560528d7525a6c2ed16360ed">evas_object_image_size_get</a>(image, &amp;w, &amp;h);
   <span class="comment">/* place image and light so they are above the floor,</span>
<span class="comment">    * and to the left of viewport</span>
<span class="comment">    */</span>
   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(image, -w - 1, FLOOR_Y - h + 1);
   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(light, -w - 1, FLOOR_Y - h + 1);
   <span class="comment">/* place the shadow below the hit-line: FLOOR_Y, centered at image */</span>
   <a class="code" href="group__Evas__Font__Group.html#ga02da8091bbac768b8e86c7b74b2a94f9">evas_object_move</a>(shadow, -w - 1 + CENTER(w, sh_w), FLOOR_Y);

   letter_body = _letter_body_circle_add(world, image);
   ephysics_body_friction_set(letter_body, 1);
   ephysics_body_mass_set(letter_body, 1);
   ephysics_body_angular_movement_enable_set(letter_body, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>,
                                             <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);

   <span class="comment">/* make the &quot;E&quot; logo get into the viewport by applying an horizontal force */</span>
   ephysics_body_central_impulse_apply(letter_body, 390, 0, 0);

   <a class="code" href="group__Elm__General.html#gadf2553f83e6b0b9c7fbe054019a664a1">elm_run</a>();

   ephysics_world_del(world);
   ephysics_shutdown();
   <a class="code" href="group__Elm__General.html#ga9de9b3690cc9d500e4576e0f086a099a">elm_shutdown</a>();

   <span class="keywordflow">return</span> 0;
}
<a class="code" href="group__Elm__General.html#ga50fe52d513f7e89c9c770afd76de7ad9">ELM_MAIN</a>()
</pre></div> </div></div><!-- contents -->
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
