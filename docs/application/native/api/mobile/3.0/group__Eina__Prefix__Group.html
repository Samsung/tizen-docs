<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Prefix</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">3.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__Eina__Prefix__Group.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Prefix</div>  </div>
<div class="ingroups"><a class="el" href="group__Eina__Tools__Group.html">Tools</a></div></div><!--header-->
<div class="contents">
<hr/><a name="details" id="details"></a><h2> </h2>
<p>This group discusses the functions that provide the ability to determine the runtime location of a software package. </p>
<dl class="user"><dt><b>Since (EFL) :</b></dt><dd>1.1.0 </dd></dl>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Prefix__Group.html#ga93628783bb571b56b4e9bc55a18187ad">eina_prefix_new</a> (const char *argv0, void *symbol, const char *envprefix, const char *sharedir, const char *magicsharefile, const char *pkg_bin, const char *pkg_lib, const char *pkg_data, const char *pkg_locale)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new prefix handle given that some input information is provided.  <a href="#ga93628783bb571b56b4e9bc55a18187ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Prefix__Group.html#ga65e0df5dc859d63c95b885cc1682be10">eina_prefix_free</a> (<a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *pfx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the prefix object and all its contents.  <a href="#ga65e0df5dc859d63c95b885cc1682be10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Prefix__Group.html#ga8892f868975666602d7b0d9b23ee1a5e">eina_prefix_get</a> (<a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *pfx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the prefix base directory.  <a href="#ga8892f868975666602d7b0d9b23ee1a5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Prefix__Group.html#ga0330375b538fe932aa892386d9241823">eina_prefix_bin_get</a> (<a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *pfx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the binary installation directory.  <a href="#ga0330375b538fe932aa892386d9241823"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Prefix__Group.html#ga52216034692a523f90c5d90167041a48">eina_prefix_lib_get</a> (<a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *pfx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the library installation directory.  <a href="#ga52216034692a523f90c5d90167041a48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Prefix__Group.html#ga26034e5a259d72fc535278cabf90a410">eina_prefix_data_get</a> (<a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *pfx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the data installation directory.  <a href="#ga26034e5a259d72fc535278cabf90a410"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Prefix__Group.html#ga331ef2cf3447036408a0a0d21c666cce">eina_prefix_locale_get</a> (<a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *pfx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the locale installation directory.  <a href="#ga331ef2cf3447036408a0a0d21c666cce"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct _Eina_Prefix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An opaque type for prefix handle.  <a href="#ga5aa9df62e665fe6cc10d10d5ea63e2da"></a><br/></td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga5aa9df62e665fe6cc10d10d5ea63e2da"></a><!-- doxytag: member="eina_prefix.h::Eina_Prefix" ref="ga5aa9df62e665fe6cc10d10d5ea63e2da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An opaque type for prefix handle. </p>
<p>This is a prefix object that is returned by <a class="el" href="group__Eina__Prefix__Group.html#ga93628783bb571b56b4e9bc55a18187ad" title="Creates a new prefix handle given that some input information is provided.">eina_prefix_new()</a> when trying to determine the runtime location of the software in question so that other data files such as images, sound files, other executable utilities, libraries, modules, and locale files can be found.</p>
<dl class="user"><dt><b>Since (EFL) :</b></dt><dd>1.1.0 </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga0330375b538fe932aa892386d9241823"></a><!-- doxytag: member="eina_prefix.h::eina_prefix_bin_get" ref="ga0330375b538fe932aa892386d9241823" args="(Eina_Prefix *pfx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="group__Eina__Prefix__Group.html#ga0330375b538fe932aa892386d9241823">eina_prefix_bin_get</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *&#160;</td>
          <td class="paramname"><em>pfx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the binary installation directory. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pfx</td><td>The prefix object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The location of installed binaries (eg "/usr/local/bin", "/usr/bin", "/opt/appname/bin", "/home/user/myapps/appname/bin" etc.)</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.1.0</dd></dl>
<p>3.0 </p>

</div>
</div>
<a class="anchor" id="ga26034e5a259d72fc535278cabf90a410"></a><!-- doxytag: member="eina_prefix.h::eina_prefix_data_get" ref="ga26034e5a259d72fc535278cabf90a410" args="(Eina_Prefix *pfx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="group__Eina__Prefix__Group.html#ga26034e5a259d72fc535278cabf90a410">eina_prefix_data_get</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *&#160;</td>
          <td class="paramname"><em>pfx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the data installation directory. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pfx</td><td>The prefix object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The location of installed binaries (eg "/usr/local/share/appname", "/usr/share/appname", "/opt/appname/share/appname", "/home/user/myapps/appname/share/appname" etc.)</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.1.0</dd></dl>
<p>3.0 </p>

</div>
</div>
<a class="anchor" id="ga65e0df5dc859d63c95b885cc1682be10"></a><!-- doxytag: member="eina_prefix.h::eina_prefix_free" ref="ga65e0df5dc859d63c95b885cc1682be10" args="(Eina_Prefix *pfx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__Eina__Prefix__Group.html#ga65e0df5dc859d63c95b885cc1682be10">eina_prefix_free</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *&#160;</td>
          <td class="paramname"><em>pfx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Frees the prefix object and all its contents. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pfx</td><td>The prefix object</td></tr>
  </table>
  </dd>
</dl>
<p>This function frees the prefix object and all its allocated content. It is invalid to access the object after it is freed.</p>
<dl class="since"><dt><b>Since:</b></dt><dd>1.1.0</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__Eina__Prefix__Group.html#ga93628783bb571b56b4e9bc55a18187ad" title="Creates a new prefix handle given that some input information is provided.">eina_prefix_new()</a></dd></dl>
<p>3.0 </p>

</div>
</div>
<a class="anchor" id="ga8892f868975666602d7b0d9b23ee1a5e"></a><!-- doxytag: member="eina_prefix.h::eina_prefix_get" ref="ga8892f868975666602d7b0d9b23ee1a5e" args="(Eina_Prefix *pfx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="group__Eina__Prefix__Group.html#ga8892f868975666602d7b0d9b23ee1a5e">eina_prefix_get</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *&#160;</td>
          <td class="paramname"><em>pfx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the prefix base directory. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pfx</td><td>The prefix object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The base prefix (eg "/usr/local", "/usr", "/opt/appname" or "/home/user/myapps/appname" etc.) that the software resides in at runtime</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.1.0</dd></dl>
<p>3.0 </p>

</div>
</div>
<a class="anchor" id="ga52216034692a523f90c5d90167041a48"></a><!-- doxytag: member="eina_prefix.h::eina_prefix_lib_get" ref="ga52216034692a523f90c5d90167041a48" args="(Eina_Prefix *pfx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="group__Eina__Prefix__Group.html#ga52216034692a523f90c5d90167041a48">eina_prefix_lib_get</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *&#160;</td>
          <td class="paramname"><em>pfx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the library installation directory. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pfx</td><td>The prefix object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The location of installed binaries (eg "/usr/local/lib", "/usr/lib32", "/opt/appname/lib64", "/home/user/myapps/appname/lib" etc.)</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.1.0</dd></dl>
<p>3.0 </p>

</div>
</div>
<a class="anchor" id="ga331ef2cf3447036408a0a0d21c666cce"></a><!-- doxytag: member="eina_prefix.h::eina_prefix_locale_get" ref="ga331ef2cf3447036408a0a0d21c666cce" args="(Eina_Prefix *pfx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="group__Eina__Prefix__Group.html#ga331ef2cf3447036408a0a0d21c666cce">eina_prefix_locale_get</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a> *&#160;</td>
          <td class="paramname"><em>pfx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the locale installation directory. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pfx</td><td>The prefix object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The location of installed binaries (eg "/usr/local/share/locale", "/usr/share/locale", "/opt/appname/share/locale", "/home/user/myapps/appname/share/locale" etc.)</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.1.0</dd></dl>
<p>3.0 </p>

</div>
</div>
<a class="anchor" id="ga93628783bb571b56b4e9bc55a18187ad"></a><!-- doxytag: member="eina_prefix.h::eina_prefix_new" ref="ga93628783bb571b56b4e9bc55a18187ad" args="(const char *argv0, void *symbol, const char *envprefix, const char *sharedir, const char *magicsharefile, const char *pkg_bin, const char *pkg_lib, const char *pkg_data, const char *pkg_locale)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da">Eina_Prefix</a>* <a class="el" href="group__Eina__Prefix__Group.html#ga93628783bb571b56b4e9bc55a18187ad">eina_prefix_new</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>envprefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sharedir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>magicsharefile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pkg_bin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pkg_lib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pkg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pkg_locale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new prefix handle given that some input information is provided. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">argv0</td><td>If this is an executable this is argv[0] of the binary, otherwise <code>NULL</code> if it is used from a shared library </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">symbol</td><td>A symbol (function for example) inside the binary or library to find the source location of, provide <code>NULL</code> if not used </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">envprefix</td><td>The prefix to any environment variable that may override prefix detection and give the exact location of the software </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sharedir</td><td>The directory inside the standard share or data dir where the software stores data files </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">magicsharefile</td><td>A magic file to check existence of and determine whether the prefix found is correct, and it must be located in the data dir under the share dir provided above, or <code>NULL</code> if the check is not to be done </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pkg_bin</td><td>The compile-time binary install dir </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pkg_lib</td><td>The compile-time library install dir </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pkg_data</td><td>The compile-time share/data install dir </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pkg_locale</td><td>The compile-time locale install dir </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The prefix handle, otherwise <code>NULL</code> on failure</dd></dl>
<p>Applications and libraries are most often not just single executables nor single shared library binaries, but also come with extra modules that they have to load, extra binary utilities they need to run, or have data files that they need to load. A very primitive application ASSUMES a fixed install location at compile-time, but this disallows the ability to re-locate the application (or library) somewhere else after compilation (if you run out of space on a given disk, partition etc. for example), or necessitate the need for having to maintain environment variables for every piece of software to let it know its location, or have to use large sets of symlinks pointing from the compiled location to the new one.</p>
<p>Being re-locatable at runtime allows much easier distribution and installation into places like the users own home directory, instead of on a system partition, if the developer wishes for easier distribution of pre-compiled binaries.</p>
<p>The prefix system is designed to locate where the given software is installed (under a common prefix) at runtime and then report specific locations of this prefix and common directories inside this prefix like the binary, library, data, and locale directories.</p>
<p>To do this some information needs to be provided to <a class="el" href="group__Eina__Prefix__Group.html#ga93628783bb571b56b4e9bc55a18187ad" title="Creates a new prefix handle given that some input information is provided.">eina_prefix_new()</a>. If you have developed a binary executable, then provide argv[0] as the <em>argv0</em> argument. This plus the PATH environment variable helps the prefix system to determine its location. Call <a class="el" href="group__Eina__Prefix__Group.html#ga93628783bb571b56b4e9bc55a18187ad" title="Creates a new prefix handle given that some input information is provided.">eina_prefix_new()</a> early on before you change the working directory or anything about argv[0], so it gets accurate information. It uses the first argument, being the executable itself, to look in absolute directories, relative paths, and PATH to see if it finds the right executable to determine just where the actual binary is installed and being run from. If you develop a share library, just pass <code>NULL</code> as <em>argv0</em>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>It would prefer to use the <em>symbol</em> function to determine the location as that function is unique inside the application and try and trace back which file this function comes from (be it a binary or shared library) as this avoids more expensive searches via <em>argv0</em>. It uses this symbol if given in preference to <em>argv0</em>.</dd>
<dd>
The <em>envprefix</em> parameter, provides a string prefix to prepend before environment variables to allow a fallback to specific environment variables to locate the software. For example, if "MYAPP" is provided as the prefix, then it uses "MYAPP_PREFIX" as a master environment variable to specify the exact install prefix for the software, or more specific environment variables like "MYAPP_BIN_DIR", "MYAPP_LIB_DIR", "MYAPP_DATA_DIR", and "MYAPP_LOCALE_DIR", which can be set by the user or scripts before launching. If not provided (NULL) environment variables are not used to override compiled-in defaults or auto detections.</dd>
<dd>
The <em>sharedir</em> string provides a subdirectory inside the system shared data dir for data files. For example, if the system dir is /usr/local/share then this dir name is appended, creating /usr/local/share/appname if this dir is the "appname" string. It is expected that the application or library installs data files in this directory.</dd>
<dd>
The <em>magicsharefile</em> is a filename or path of something inside the share or data dir to be used to test that the prefix detection worked. For example, your app installs a wallpaper image as /usr/local/share/appname/images/wallpaper.jpg and so to check that this worked, provide "images/wallpaper.jpg" as the <em>magicsharefile</em> string so detection can know if it worked or not.</dd>
<dd>
The <em>pkg_bin</em>, <em>pkg_lib</em>, <em>pkg_data</em>, and <em>pkg_locale</em> are compile-time strings (the kind standard autoconf/automake define) to be passed in so that there can be a fallback to compiled-in defaults as well as use them to determine actual names of directories like libdirs maybe changing to be lib32 or lib64 instead of lib, and so on.</dd></dl>
<p>Compile the following defining at compile time your prefixes like (example):</p>
<p>gcc appname.c -o appname -DPACKAGE_BIN_DIR=\"/usr/local/bin\" -DPACKAGE_LIB_DIR=\"/usr/local/lib\" -DPACKAGE_DATA_DIR=\"/usr/local/share/appname\" -DLOCALE_DIR=\"/usr/local/share/locale\" `pkg-config --cflags --libs eina`</p>
<p>(of course add appropriate compile flags to linking and note that locale dir is optional. If you don't need it, provide data dir as the locale dir. Also note that the magicsharefile is optional for testing and ensuring that the prefix check is correct. This file must be installed in the application data dir (eg /usr/local/share/appname) and be referred to using a unix-style relative path from that dir, eg directory/filename.png)</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;Eina.h&gt;</span>

 <span class="keyword">static</span> <a class="code" href="group__Eina__Prefix__Group.html#ga5aa9df62e665fe6cc10d10d5ea63e2da" title="An opaque type for prefix handle.">Eina_Prefix</a> *pfx = NULL;

 <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)
 {
   <a class="code" href="group__Eina__Main__Group.html#gafee4bfc0e509b6ffed6598edf6f4b3de" title="Initializes the Eina library.">eina_init</a>();

   pfx = <a class="code" href="group__Eina__Prefix__Group.html#ga93628783bb571b56b4e9bc55a18187ad" title="Creates a new prefix handle given that some input information is provided.">eina_prefix_new</a>(argv[0], main, <span class="stringliteral">&quot;APPNAME&quot;</span>, <span class="stringliteral">&quot;appname&quot;</span>, NULL,
                         PACKAGE_BIN_DIR, PACKAGE_LIB_DIR,
                         PACKAGE_DATA_DIR, LOCALE_DIR);
   <span class="keywordflow">if</span> (!pfx) printf(<span class="stringliteral">&quot;ERROR: Critical error in finding prefix\n&quot;</span>);
   printf(<span class="stringliteral">&quot;install prefix is: %s\n&quot;</span>, <a class="code" href="group__Eina__Prefix__Group.html#ga8892f868975666602d7b0d9b23ee1a5e" title="Gets the prefix base directory.">eina_prefix_get</a>(pfx));
   printf(<span class="stringliteral">&quot;binaries are in: %s\n&quot;</span>, <a class="code" href="group__Eina__Prefix__Group.html#ga0330375b538fe932aa892386d9241823" title="Gets the binary installation directory.">eina_prefix_bin_get</a>(pfx));
   printf(<span class="stringliteral">&quot;libraries are in: %s\n&quot;</span>, <a class="code" href="group__Eina__Prefix__Group.html#ga52216034692a523f90c5d90167041a48" title="Gets the library installation directory.">eina_prefix_lib_get</a>(pfx));
   printf(<span class="stringliteral">&quot;data files are in: %s\n&quot;</span>, <a class="code" href="group__Eina__Prefix__Group.html#ga26034e5a259d72fc535278cabf90a410" title="Gets the data installation directory.">eina_prefix_data_get</a>(pfx));
   <a class="code" href="group__Eina__Prefix__Group.html#ga65e0df5dc859d63c95b885cc1682be10" title="Frees the prefix object and all its contents.">eina_prefix_free</a>(pfx);

   <a class="code" href="group__Eina__Main__Group.html#ga2c8b4020427108a30c44707af22c99d3" title="Shuts down the Eina library.">eina_shutdown</a>();
 }
</pre></div><dl class="since"><dt><b>Since:</b></dt><dd>1.1.0</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__Eina__Prefix__Group.html#ga65e0df5dc859d63c95b885cc1682be10" title="Frees the prefix object and all its contents.">eina_prefix_free()</a></dd></dl>
<p>3.0 </p>

</div>
</div>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
