<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Datetime Example with C++ binding</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">4.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('datetime_cxx_example.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Datetime Example with C++ binding </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example places three Elementary Datetime widgets on a window, each of them exemplifying the widget's different usage.</p>
<p>The first part consists of including the headers. In this case we are only working with the Elementary C++ binding and thus we need only to include him.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>If necessary the C and/or the C++ headers should be include here as well.</dd></dl>
<p>Now we need to actually start the code and set the elm_policy, which defines for a given policy group/identifier a new policy's value, respectively. In this example the only policy we need to set a value for is <code>ELM_POLICY_QUIT</code>, possibles values for it are:</p>
<ul>
<li><code>ELM_POLICY_QUIT_NONE:</code> Never quit the application automatically;</li>
</ul>
<ul>
<li><code>ELM_POLICY_QUIT_LAST_WINDOW_CLOSED:</code> quit when the application's last window is closed;</li>
</ul>
<ul>
<li><code>ELM_POLICY_QUIT_LAST_WINDOW_HIDDEN</code> : quit when the application's last window is hidden;</li>
</ul>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>As you can see, the policy we chose was to quit when the last win is hidden as opose to examples with the C bindings where we perpetually set it to quit when last win was closed. This changed was necessary because in C++ binding as the elm mainloop stop running all object are destroyed, references are unreferenced and events are stopped at <a class="el" href="group__Elm__General.html#ga50fe52d513f7e89c9c770afd76de7ad9">ELM_MAIN()</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>For more details consult <a class="el" href="group__Elm__General.html#ga7a05f37fd3a019da5e26c5fc91fcd937">elm_policy_set</a></dd></dl>
<p>Next step is creating an Elementary window, where win calls a constructor and sets the type of the win to ELM_WIN_BASIC (Elm_Win_Type), which is the indicated type for most of our examples. Here we also set the title that will appear at the top of our window and then the autohide state for win.</p>
<p>The autohide works similarly to <code>autodel</code>, automatically handling "delete,request" signals when set to <code>true</code>, with the difference that it will hide the window, instead of destroying it.</p>
<p>It is specially designed to work together with <code>ELM_POLICY_QUIT_LAST_WINDOW_HIDDEN</code> which allows exiting Elementary's main loop when all the windows are hidden.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<dl class="note"><dt><b>Note:</b></dt><dd><code>autodel</code> and <em>autohide</em> are not mutually exclusive. The window will be destructed if both autodel and autohide is set to <code>EINA_TRUE</code> or <code>true</code>.</dd></dl>
<p>Now we construct the elm background and for this we use the C++ method below, setting it's parent.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>To better understand, the function <code>size_hint_weight_set</code> for C++ bindings originated from C bindings function evas_object_size_hint_weight_set, that is EFL Evas type function. With this function we set the hints for an object's weight. The parameters are:</p>
<ul>
<li>x - Nonnegative double value to use as horizontal weight hint.</li>
</ul>
<ul>
<li>y - Nonnegative double value to use as vertical weight hint.</li>
</ul>
<p>This is not a size enforcement in any way, it's just a hint that should be used whenever appropriate. This is a hint on how a container object should resize a given child within its area.</p>
<p>Containers may adhere to the simpler logic of just expanding the child object's dimensions to fit its own (see the EVAS_HINT_EXPAND helper weight macro in the EFL Evas Documentation) or the complete one of taking each child's weight hint as real weights to how much of its size to allocate for them in each axis. A container is supposed to, after normalizing the weights of its children (with weight hints), distribute the space it has to layout them by those factors â€“ most weighted children get larger in this process than the least ones.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<dl class="note"><dt><b>Note:</b></dt><dd>Default weight hint values are 0.0, for both axis.</dd></dl>
<p>Now we add the background as a resize_object to win informing that when the size of the win changes so should the background's size. And finally we make it visible.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>If a color it's not setted the default color will be used.</dd></dl>
<p>A box arranges objects in a linear fashion, governed by a layout function that defines the details of this arrangement. The box will use an internal function to set the layout to a single row, vertical by default.</p>
<p>Now let's create the box with the C++ binding method, passing our window object as parent. Using Evas weight_set function again to hint on how a container object should resize a given child within its area.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Then we add the box as a resize-object to win informing that when the size of the win changes so should the box's size. Remember always to set the box visibility to true.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>The first of them is <b>"only Date display"</b>. We will create it using the C++ method below. The weight hint works with datetime the same as it did with background and box.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Now we have to The function <code>size_hint_align_set</code> for C++ bindings originated from C bindings function evas_object_size_hint_align_set, that is EFL Evas type function. With this function we set the hints for an object's alignment. The parameters are:</p>
<ul>
<li>x - Double, ranging from 0.0 to 1.0 or with the special value EVAS_HINT_FILL, to use as horizontal alignment hint.</li>
</ul>
<ul>
<li>y - Double, ranging from 0.0 to 1.0 or with the special value EVAS_HINT_FILL, to use as vertical alignment hint.</li>
</ul>
<p>These are hints on how to align an object inside the boundaries of a container/manager. Accepted values are in the 0.0 to 1.0 range, with the special value EVAS_HINT_FILL used to specify "justify" or "fill" by some users. In this case, maximum size hints should be enforced with higher priority, if they are set. Also, any padding hint set on objects should add up to the alignment space on the final scene composition.</p>
<p>For the horizontal component, 0.0 means to the left, 1.0 means to the right. Analogously, for the vertical component, 0.0 to the top, 1.0 means to the bottom.</p>
<p>This is not a size enforcement in any way, it's just a hint that should be used whenever appropriate.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<dl class="note"><dt><b>Note:</b></dt><dd>Default alignment hint values are 0.5, for both axis.</dd></dl>
<p>An important feature for the datetime is the setting of what we want it to display. We can achieve that by using:</p>
<p><code>field_visible_set</code> ( Elm_Datetime_Field_Type fieldtype_, bool visible_)</p>
<p>Parameters are:</p>
<ul>
<li><code>fieldtype_:</code> type of the field, supports 6 fields:</li>
</ul>
<p><code>ELM_DATETIME_YEAR:</code> Indicates Year field.</p>
<p><code>ELM_DATETIME_MONTH:</code> Indicates Month field.</p>
<p><code>ELM_DATETIME_DATE:</code> Indicates Date field.</p>
<p><code>ELM_DATETIME_HOUR:</code> Indicates Hour field,</p>
<p><code>ELM_DATETIME_MINUTE:</code> Indicates Minute field.</p>
<p><code>ELM_DATETIME_AMPM:</code> Indicates AM/PM field.</p>
<ul>
<li><code>visible_:</code> <code>true</code> field can be visible, <code>false</code> otherwise.</li>
</ul>
<dl class="attention"><dt><b>Attention:</b></dt><dd>Setting this API True does not ensure that the field is visible, apart from this, the field's format must be present in Datetime overall format. If a field's visibility is set to False then it won't appear even though its format is present in overall format. So if and only if this API is set true and the corresponding field's format is present in Datetime format, the field is visible.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>By default the field visibility is set to <code>true</code>.</dd></dl>
<p>For this first datetime we are setting the HOUR, MINUTE and AM/PM to not be visible, doing this we'll display in our datetime the year, month and date.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Hour format 12hr(1-12) or 24hr(0-23) display can be selected by setting the corresponding user format. The corresponding Month and AM/PM strings are displayed according to the systemâ€™s language settings.</dd></dl>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>When using the elm box the packing method of the subobj - datetime in this case - should be defined. There are four possible methods:</p>
<ul>
<li><code>pack_start(subobj_)</code> - Add an object to the beginning of the pack list. Pack <code>subobj_</code> into the box obj, placing it first in the list of children objects. The actual position the object will get on screen depends on the layout used. If no custom layout is set, it will be at the top or left, depending if the box is vertical or horizontal, respectively.</li>
</ul>
<ul>
<li><code>pack_end(subobj_)</code> - Add an object at the end of the pack list. Pack <code>subobj_</code> into the box obj, placing it last in the list of children objects. The actual position the object will get on screen depends on the layout used. If no custom layout is set, it will be at the bottom or right, depending if the box is vertical or horizontal, respectively.</li>
</ul>
<ul>
<li><code>pack_before(subobj_, before_)</code> - Adds an object to the box before the indicated object. This will add the <code>subobj_</code> to the box indicated before the object indicated with <code>before_</code>. If before is not already in the box, results are undefined. Before means either to the left of the indicated object or above it depending on orientation.</li>
</ul>
<ul>
<li><code>pack_after(subobj_, after_)</code> - Adds an object to the box after the indicated object. This will add the <code>subobj_</code> to the box indicated after the object indicated with <code>after_</code>. If after is not already in the box, results are undefined. After means either to the right of the indicated object or below it depending on orientation.</li>
</ul>
<p>In this and most examples we use pack_end by choice and practicality. In this part of the code we also make datetime visible.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>For our second datetime, we'll also set the size hints weight and align, but in this case, the filds YEAR, MONTH and DATE will be not visible, and thus displaying in our datetime the hour, minute and AM/PM. Finally we choose it's packing method and set the visibility of datetime to <code>true</code>.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>For our third and last datetime, we setted the weight and align as before, chose our packing method and made it visible. Note that in this case we didn't exclude any type of field leaving all visible.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>And finally, we set our win's visibility and start the elm mainloop, starting to handle events and drawing operations.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>See the full <a class="el" href="datetime_cxx_example_8cc-example.html">datetime_cxx_example::cc</a> .</p>
<p>This example should look like:</p>
<div class="image">
<img src="screenshots/datetime_cxx_example.png" alt="datetime_cxx_example.png"/>
</div>
  </div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
