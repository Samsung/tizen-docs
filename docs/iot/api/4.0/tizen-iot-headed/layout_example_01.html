<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tizen Native API: Layout - Content, Table and Box</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_html_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Tizen Native API"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tizen Native API
   &#160;<span id="projectnumber">4.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>The&#160;Basics&#160;of&#160;Tizen&#160;Native&#160;API&#160;Reference</span></a></li>
      <li><a href="modules.html"><span>Native&#160;API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('layout_example_01.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Layout - Content, Table and Box </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example shows how one can use the <a class="el" href="group__Elm__Layout.html">Layout</a> widget to create a customized distribution of widgets on the screen, controlled by an Edje theme. The full source code for this example can be found at <a class="el" href="layout_example_01_c.html">layout_example_01.c</a>.</p>
<p>Our custom layout is defined by a file, <a class="el" href="layout_example_edc.html">An example of layout theme file</a>, which is an Edje theme file. Look for the Edje documentation to understand it. For now, it's enough to know that we describe some specific parts on this layout theme: </p>
<ul>
<li>a title text field; </li>
<li>a box container; </li>
<li>a table container; </li>
<li>and a content container.</li>
</ul>
<p>Going straight to the code, the following snippet instantiates the layout widget:</p>
 <div class="fragment"><pre class="fragment"></pre></div></p>
<p>As any other widget, we set some properties for the size calculation. But notice on this piece of code the call to the function <a class="el" href="group__Elm__Layout.html#ga8d1105463d52787a7b0ca8d7402cd3ea">elm_layout_file_set()</a>. Here is where the theme file is loaded, and particularly the specific group from this theme file. Also notice that the theme file here is referenced as an .edj, which is a .edc theme file compiled to its binary form. Again, look for the Edje documentation for more information about theme files.</p>
<p>Next, we fetch from our theme a data string referenced by the key "title". This data was defined in the theme, and can be used as parameters which the program get from the specific theme that it is using. In this case, we store the title of this window and program in the theme, as a "data" entry, just for demonstration purposes:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>This call <a class="el" href="group__Elm__Layout.html#gad4ba07fcf1f54a52cfadf482ea3b42ed" title="Get the edje data from the given layout.">elm_layout_data_get()</a> is used to fetch the string based on the key, and <a class="el" href="group__Elm__General.html#ga9c088563c442670796564d2e5158f154">elm_object_part_text_set()</a> will set the part defined in the theme as "example/title" to contain this string. This key "example/title" has nothing special. It's just an arbitrary convention that we are using in this example. Every string in this example referencing a part of this theme will be of the form "example/&lt;something&gt;".</p>
<p>Now let's start using our layout to distribute things on the window space. Since the layout was added as a resize object to the elementary window, it will always occupy the entire space available for this window.</p>
<p>The theme already has a title, and it also defines a table element which is positioned approximately between 50% and 70% of the height of this window, and has 100% of the width. We create some widgets (two icons, a clock and a button) and pack them inside the table, in a distribution similar to a HTML table:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Notice that we just set size hints for every object, and call the function <a class="el" href="group__Elm__Layout.html#ga68648261853e2cd4160067d608b348f7" title="Insert child to layout table part.">elm_layout_table_pack()</a>, which does all the work. It will place the elements in the specified row/column, with row and column span if required, and then the object's size and position will be controlled by the layout widget. It will also respect size hints, alignments and weight properties set to these widgets. The resulting distribution on the screen depends on the table properties (described in the theme), the size hints set on each widget, and on the cells of the table that are being used.</p>
<p>For instance, we add the two icons and the clock on the first, second and third cells of the first row, and add the button the second row, making it span for 3 columns (thus having the size of the entire table width). This will result in a table that has 2 rows and 3 columns.</p>
<p>Now let's add some widgets to the box area of our layout. This box is around 20% and 50% of the vertical size of the layout, and 100% of its width. The theme defines that it will use an "horizontal flow" distribution to its elements. Unlike the table, a box will distribute elements without knowing about rows and columns, and the distribution function selected will take care of putting them in row, column, both, or any other available layout. This is also described in the Edje documentation.</p>
<p>This box area is similar to the <a class="el" href="group__Elm__Box.html">Box</a> widget of elementary, with the difference that its position and properties are controlled by the theme of the layout. It also contains more than one API to add items to it, since the items position now is defined in terms of a list of items, not a matrix. There's the first position (can have items added to it with <a class="el" href="group__Elm__Layout.html#gab7723d1d7087e0d4a3ee58fcbac7e57c" title="Prepend child to layout box part.">elm_layout_box_prepend()</a>), the last position (<a class="el" href="group__Elm__Layout.html#gaf34d7f73cc3eff7a7e6e33d25032c194" title="Append child to layout box part.">elm_layout_box_append()</a>), the nth position (<a class="el" href="group__Elm__Layout.html#ga407d6c2ff52b90b7cd0e6b5e3196ba5b" title="Insert child to layout box part at a given position.">elm_layout_box_insert_at()</a>) and the position right before an element (<a class="el" href="group__Elm__Layout.html#ga6f00844dcaf763f77abcf73e3286d18a" title="Insert child to layout box part before a reference object.">elm_layout_box_insert_before()</a>). We use insert_at and prepend functions to add the first two buttons to this box, and insert_before on the callback of each button. The callback code will be shown later, but it basically adds a button just before the clicked button using the <a class="el" href="group__Elm__Layout.html#ga6f00844dcaf763f77abcf73e3286d18a" title="Insert child to layout box part before a reference object.">elm_layout_box_insert_before()</a> function. Here's the code for adding the first 2 buttons:</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Finally, we have an area in this layout theme, in the bottom part of it, reserved for adding an specific widget. Differently from the 2 parts described until now, this one can only receive one widget with the call <a class="el" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set()</a> for the layout. If there was already an item on this specific part, it will be deleted (one can use <a class="el" href="group__Elm__General.html#gadc5a1df25fe17e31739841133b53b5fc">elm_object_part_content_unset()</a> in order to remove it without deleting). An example of removing it without deleting, but manually deleting this widget just after that, can be seen on the callback for this button. Actually, the callback defined for this button will clean the two other parts (deleting all of their elements) and then remove and delete this button.</p>
<p><div class="fragment"><pre class="fragment"></pre></div></p>
<p>Also notice that, for this last added button, we don't have to call <a class="el" href="group__Evas__Font__Group.html#ga9cbc13661584e49fb9d9cdab514a1eeb">evas_object_show()</a> on it. This is a particularity of the theme for layouts, that will have total control over the properties like size, position, visibility and clipping of a widget added with <a class="el" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set()</a>. Again, read the Edje documentation to understand this better.</p>
<p>Now we just put the code for the different callbacks specified for each kind of button and make simple comments about them:</p>
 <div class="fragment"><pre class="fragment"></pre></div></p>
<p>The first callback is used for the button in the table, and will just remove itself from the table with <a class="el" href="group__Elm__Layout.html#ga94ccf8d6d8d773040e2fef37d6b7e10e" title="Unpack (remove) a child of the given part table.">elm_layout_table_unpack()</a>, which remove items without deleting them, and then calling <a class="el" href="group__Evas__Font__Group.html#ga7e7a625dab7a3890532aa13b43117076">evas_object_del()</a> on itself.</p>
<p>The second callback is for buttons added to the box. When clicked, these buttons will create a new button, and add them to the same box, in the position just before the clicked button.</p>
<p>And the last callback is for the button added to the "content" area. It will clear both the table and the box, passing <code>EINA_TRUE</code> to their respective <code>clear</code> parameters, which will imply on the items of these containers being deleted.</p>
<p>A screenshot of this example can be seen on:</p>
<div class="image">
<img src="layout_example_01.png" alt="layout_example_01.png"/>
</div>
  </div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr size="1"/>
<center>
<small>Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a>
and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.&nbsp;</small>
</center>
</body>
</html>
